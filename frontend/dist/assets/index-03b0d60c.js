(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const i of l.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();function Ec(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var da={exports:{}},ho={},fa={exports:{}},M={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sr=Symbol.for("react.element"),Nc=Symbol.for("react.portal"),Pc=Symbol.for("react.fragment"),Tc=Symbol.for("react.strict_mode"),Lc=Symbol.for("react.profiler"),Oc=Symbol.for("react.provider"),zc=Symbol.for("react.context"),Ic=Symbol.for("react.forward_ref"),Dc=Symbol.for("react.suspense"),Fc=Symbol.for("react.memo"),Rc=Symbol.for("react.lazy"),Ks=Symbol.iterator;function Mc(e){return e===null||typeof e!="object"?null:(e=Ks&&e[Ks]||e["@@iterator"],typeof e=="function"?e:null)}var pa={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ha=Object.assign,ma={};function yn(e,t,n){this.props=e,this.context=t,this.refs=ma,this.updater=n||pa}yn.prototype.isReactComponent={};yn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};yn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function ga(){}ga.prototype=yn.prototype;function ql(e,t,n){this.props=e,this.context=t,this.refs=ma,this.updater=n||pa}var es=ql.prototype=new ga;es.constructor=ql;ha(es,yn.prototype);es.isPureReactComponent=!0;var Ys=Array.isArray,ya=Object.prototype.hasOwnProperty,ts={current:null},va={key:!0,ref:!0,__self:!0,__source:!0};function xa(e,t,n){var r,o={},l=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(l=""+t.key),t)ya.call(t,r)&&!va.hasOwnProperty(r)&&(o[r]=t[r]);var a=arguments.length-2;if(a===1)o.children=n;else if(1<a){for(var u=Array(a),d=0;d<a;d++)u[d]=arguments[d+2];o.children=u}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)o[r]===void 0&&(o[r]=a[r]);return{$$typeof:sr,type:e,key:l,ref:i,props:o,_owner:ts.current}}function Ac(e,t){return{$$typeof:sr,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ns(e){return typeof e=="object"&&e!==null&&e.$$typeof===sr}function $c(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Xs=/\/+/g;function zo(e,t){return typeof e=="object"&&e!==null&&e.key!=null?$c(""+e.key):t.toString(36)}function Or(e,t,n,r,o){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(l){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case sr:case Nc:i=!0}}if(i)return i=e,o=o(i),e=r===""?"."+zo(i,0):r,Ys(o)?(n="",e!=null&&(n=e.replace(Xs,"$&/")+"/"),Or(o,t,n,"",function(d){return d})):o!=null&&(ns(o)&&(o=Ac(o,n+(!o.key||i&&i.key===o.key?"":(""+o.key).replace(Xs,"$&/")+"/")+e)),t.push(o)),1;if(i=0,r=r===""?".":r+":",Ys(e))for(var a=0;a<e.length;a++){l=e[a];var u=r+zo(l,a);i+=Or(l,t,n,u,o)}else if(u=Mc(e),typeof u=="function")for(e=u.call(e),a=0;!(l=e.next()).done;)l=l.value,u=r+zo(l,a++),i+=Or(l,t,n,u,o);else if(l==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function pr(e,t,n){if(e==null)return e;var r=[],o=0;return Or(e,r,"","",function(l){return t.call(n,l,o++)}),r}function Uc(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var me={current:null},zr={transition:null},Bc={ReactCurrentDispatcher:me,ReactCurrentBatchConfig:zr,ReactCurrentOwner:ts};function wa(){throw Error("act(...) is not supported in production builds of React.")}M.Children={map:pr,forEach:function(e,t,n){pr(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return pr(e,function(){t++}),t},toArray:function(e){return pr(e,function(t){return t})||[]},only:function(e){if(!ns(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};M.Component=yn;M.Fragment=Pc;M.Profiler=Lc;M.PureComponent=ql;M.StrictMode=Tc;M.Suspense=Dc;M.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Bc;M.act=wa;M.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=ha({},e.props),o=e.key,l=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(l=t.ref,i=ts.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(u in t)ya.call(t,u)&&!va.hasOwnProperty(u)&&(r[u]=t[u]===void 0&&a!==void 0?a[u]:t[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var d=0;d<u;d++)a[d]=arguments[d+2];r.children=a}return{$$typeof:sr,type:e.type,key:o,ref:l,props:r,_owner:i}};M.createContext=function(e){return e={$$typeof:zc,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Oc,_context:e},e.Consumer=e};M.createElement=xa;M.createFactory=function(e){var t=xa.bind(null,e);return t.type=e,t};M.createRef=function(){return{current:null}};M.forwardRef=function(e){return{$$typeof:Ic,render:e}};M.isValidElement=ns;M.lazy=function(e){return{$$typeof:Rc,_payload:{_status:-1,_result:e},_init:Uc}};M.memo=function(e,t){return{$$typeof:Fc,type:e,compare:t===void 0?null:t}};M.startTransition=function(e){var t=zr.transition;zr.transition={};try{e()}finally{zr.transition=t}};M.unstable_act=wa;M.useCallback=function(e,t){return me.current.useCallback(e,t)};M.useContext=function(e){return me.current.useContext(e)};M.useDebugValue=function(){};M.useDeferredValue=function(e){return me.current.useDeferredValue(e)};M.useEffect=function(e,t){return me.current.useEffect(e,t)};M.useId=function(){return me.current.useId()};M.useImperativeHandle=function(e,t,n){return me.current.useImperativeHandle(e,t,n)};M.useInsertionEffect=function(e,t){return me.current.useInsertionEffect(e,t)};M.useLayoutEffect=function(e,t){return me.current.useLayoutEffect(e,t)};M.useMemo=function(e,t){return me.current.useMemo(e,t)};M.useReducer=function(e,t,n){return me.current.useReducer(e,t,n)};M.useRef=function(e){return me.current.useRef(e)};M.useState=function(e){return me.current.useState(e)};M.useSyncExternalStore=function(e,t,n){return me.current.useSyncExternalStore(e,t,n)};M.useTransition=function(){return me.current.useTransition()};M.version="18.3.1";fa.exports=M;var P=fa.exports;const Tn=Ec(P);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hc=P,Vc=Symbol.for("react.element"),Wc=Symbol.for("react.fragment"),Qc=Object.prototype.hasOwnProperty,bc=Hc.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Jc={key:!0,ref:!0,__self:!0,__source:!0};function ka(e,t,n){var r,o={},l=null,i=null;n!==void 0&&(l=""+n),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)Qc.call(t,r)&&!Jc.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:Vc,type:e,key:l,ref:i,props:o,_owner:bc.current}}ho.Fragment=Wc;ho.jsx=ka;ho.jsxs=ka;da.exports=ho;var s=da.exports,ll={},Sa={exports:{}},Te={},ja={exports:{}},Ca={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(T,c){var v=T.length;T.push(c);e:for(;0<v;){var S=v-1>>>1,O=T[S];if(0<o(O,c))T[S]=c,T[v]=O,v=S;else break e}}function n(T){return T.length===0?null:T[0]}function r(T){if(T.length===0)return null;var c=T[0],v=T.pop();if(v!==c){T[0]=v;e:for(var S=0,O=T.length,R=O>>>1;S<R;){var Z=2*(S+1)-1,q=T[Z],D=Z+1,ve=T[D];if(0>o(q,v))D<O&&0>o(ve,q)?(T[S]=ve,T[D]=v,S=D):(T[S]=q,T[Z]=v,S=Z);else if(D<O&&0>o(ve,v))T[S]=ve,T[D]=v,S=D;else break e}}return c}function o(T,c){var v=T.sortIndex-c.sortIndex;return v!==0?v:T.id-c.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var i=Date,a=i.now();e.unstable_now=function(){return i.now()-a}}var u=[],d=[],y=1,x=null,k=3,m=!1,p=!1,C=!1,I=typeof setTimeout=="function"?setTimeout:null,h=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(T){for(var c=n(d);c!==null;){if(c.callback===null)r(d);else if(c.startTime<=T)r(d),c.sortIndex=c.expirationTime,t(u,c);else break;c=n(d)}}function w(T){if(C=!1,g(T),!p)if(n(u)!==null)p=!0,Ht(j);else{var c=n(d);c!==null&&Vt(w,c.startTime-T)}}function j(T,c){p=!1,C&&(C=!1,h(z),z=-1),m=!0;var v=k;try{for(g(c),x=n(u);x!==null&&(!(x.expirationTime>c)||T&&!ye());){var S=x.callback;if(typeof S=="function"){x.callback=null,k=x.priorityLevel;var O=S(x.expirationTime<=c);c=e.unstable_now(),typeof O=="function"?x.callback=O:x===n(u)&&r(u),g(c)}else r(u);x=n(u)}if(x!==null)var R=!0;else{var Z=n(d);Z!==null&&Vt(w,Z.startTime-c),R=!1}return R}finally{x=null,k=v,m=!1}}var _=!1,N=null,z=-1,V=5,F=-1;function ye(){return!(e.unstable_now()-F<V)}function Nt(){if(N!==null){var T=e.unstable_now();F=T;var c=!0;try{c=N(!0,T)}finally{c?st():(_=!1,N=null)}}else _=!1}var st;if(typeof f=="function")st=function(){f(Nt)};else if(typeof MessageChannel<"u"){var wn=new MessageChannel,Lo=wn.port2;wn.port1.onmessage=Nt,st=function(){Lo.postMessage(null)}}else st=function(){I(Nt,0)};function Ht(T){N=T,_||(_=!0,st())}function Vt(T,c){z=I(function(){T(e.unstable_now())},c)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(T){T.callback=null},e.unstable_continueExecution=function(){p||m||(p=!0,Ht(j))},e.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<T?Math.floor(1e3/T):5},e.unstable_getCurrentPriorityLevel=function(){return k},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(T){switch(k){case 1:case 2:case 3:var c=3;break;default:c=k}var v=k;k=c;try{return T()}finally{k=v}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(T,c){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var v=k;k=T;try{return c()}finally{k=v}},e.unstable_scheduleCallback=function(T,c,v){var S=e.unstable_now();switch(typeof v=="object"&&v!==null?(v=v.delay,v=typeof v=="number"&&0<v?S+v:S):v=S,T){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=v+O,T={id:y++,callback:c,priorityLevel:T,startTime:v,expirationTime:O,sortIndex:-1},v>S?(T.sortIndex=v,t(d,T),n(u)===null&&T===n(d)&&(C?(h(z),z=-1):C=!0,Vt(w,v-S))):(T.sortIndex=O,t(u,T),p||m||(p=!0,Ht(j))),T},e.unstable_shouldYield=ye,e.unstable_wrapCallback=function(T){var c=k;return function(){var v=k;k=c;try{return T.apply(this,arguments)}finally{k=v}}}})(Ca);ja.exports=Ca;var Gc=ja.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kc=P,Pe=Gc;function E(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var _a=new Set,Vn={};function Ut(e,t){cn(e,t),cn(e+"Capture",t)}function cn(e,t){for(Vn[e]=t,e=0;e<t.length;e++)_a.add(t[e])}var tt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sl=Object.prototype.hasOwnProperty,Yc=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Zs={},qs={};function Xc(e){return sl.call(qs,e)?!0:sl.call(Zs,e)?!1:Yc.test(e)?qs[e]=!0:(Zs[e]=!0,!1)}function Zc(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function qc(e,t,n,r){if(t===null||typeof t>"u"||Zc(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ge(e,t,n,r,o,l,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=l,this.removeEmptyString=i}var ae={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ae[e]=new ge(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ae[t]=new ge(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ae[e]=new ge(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ae[e]=new ge(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ae[e]=new ge(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ae[e]=new ge(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ae[e]=new ge(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ae[e]=new ge(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ae[e]=new ge(e,5,!1,e.toLowerCase(),null,!1,!1)});var rs=/[\-:]([a-z])/g;function os(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(rs,os);ae[t]=new ge(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(rs,os);ae[t]=new ge(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(rs,os);ae[t]=new ge(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ae[e]=new ge(e,1,!1,e.toLowerCase(),null,!1,!1)});ae.xlinkHref=new ge("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ae[e]=new ge(e,1,!1,e.toLowerCase(),null,!0,!0)});function ls(e,t,n,r){var o=ae.hasOwnProperty(t)?ae[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(qc(t,n,o,r)&&(n=null),r||o===null?Xc(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var lt=Kc.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,hr=Symbol.for("react.element"),Qt=Symbol.for("react.portal"),bt=Symbol.for("react.fragment"),ss=Symbol.for("react.strict_mode"),il=Symbol.for("react.profiler"),Ea=Symbol.for("react.provider"),Na=Symbol.for("react.context"),is=Symbol.for("react.forward_ref"),al=Symbol.for("react.suspense"),ul=Symbol.for("react.suspense_list"),as=Symbol.for("react.memo"),at=Symbol.for("react.lazy"),Pa=Symbol.for("react.offscreen"),ei=Symbol.iterator;function kn(e){return e===null||typeof e!="object"?null:(e=ei&&e[ei]||e["@@iterator"],typeof e=="function"?e:null)}var K=Object.assign,Io;function Ln(e){if(Io===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Io=t&&t[1]||""}return`
`+Io+e}var Do=!1;function Fo(e,t){if(!e||Do)return"";Do=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var r=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){r=d}e.call(t.prototype)}else{try{throw Error()}catch(d){r=d}e()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var o=d.stack.split(`
`),l=r.stack.split(`
`),i=o.length-1,a=l.length-1;1<=i&&0<=a&&o[i]!==l[a];)a--;for(;1<=i&&0<=a;i--,a--)if(o[i]!==l[a]){if(i!==1||a!==1)do if(i--,a--,0>a||o[i]!==l[a]){var u=`
`+o[i].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=i&&0<=a);break}}}finally{Do=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Ln(e):""}function ed(e){switch(e.tag){case 5:return Ln(e.type);case 16:return Ln("Lazy");case 13:return Ln("Suspense");case 19:return Ln("SuspenseList");case 0:case 2:case 15:return e=Fo(e.type,!1),e;case 11:return e=Fo(e.type.render,!1),e;case 1:return e=Fo(e.type,!0),e;default:return""}}function cl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case bt:return"Fragment";case Qt:return"Portal";case il:return"Profiler";case ss:return"StrictMode";case al:return"Suspense";case ul:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Na:return(e.displayName||"Context")+".Consumer";case Ea:return(e._context.displayName||"Context")+".Provider";case is:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case as:return t=e.displayName||null,t!==null?t:cl(e.type)||"Memo";case at:t=e._payload,e=e._init;try{return cl(e(t))}catch{}}return null}function td(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return cl(t);case 8:return t===ss?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function St(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ta(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function nd(e){var t=Ta(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,l=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(i){r=""+i,l.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function mr(e){e._valueTracker||(e._valueTracker=nd(e))}function La(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Ta(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Vr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function dl(e,t){var n=t.checked;return K({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function ti(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=St(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Oa(e,t){t=t.checked,t!=null&&ls(e,"checked",t,!1)}function fl(e,t){Oa(e,t);var n=St(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?pl(e,t.type,n):t.hasOwnProperty("defaultValue")&&pl(e,t.type,St(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ni(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function pl(e,t,n){(t!=="number"||Vr(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var On=Array.isArray;function rn(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+St(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function hl(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(E(91));return K({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ri(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(E(92));if(On(n)){if(1<n.length)throw Error(E(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:St(n)}}function za(e,t){var n=St(t.value),r=St(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function oi(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Ia(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ml(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Ia(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var gr,Da=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(gr=gr||document.createElement("div"),gr.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=gr.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Wn(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Dn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rd=["Webkit","ms","Moz","O"];Object.keys(Dn).forEach(function(e){rd.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Dn[t]=Dn[e]})});function Fa(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Dn.hasOwnProperty(e)&&Dn[e]?(""+t).trim():t+"px"}function Ra(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=Fa(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var od=K({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function gl(e,t){if(t){if(od[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(E(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(E(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(E(61))}if(t.style!=null&&typeof t.style!="object")throw Error(E(62))}}function yl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vl=null;function us(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var xl=null,on=null,ln=null;function li(e){if(e=ur(e)){if(typeof xl!="function")throw Error(E(280));var t=e.stateNode;t&&(t=xo(t),xl(e.stateNode,e.type,t))}}function Ma(e){on?ln?ln.push(e):ln=[e]:on=e}function Aa(){if(on){var e=on,t=ln;if(ln=on=null,li(e),t)for(e=0;e<t.length;e++)li(t[e])}}function $a(e,t){return e(t)}function Ua(){}var Ro=!1;function Ba(e,t,n){if(Ro)return e(t,n);Ro=!0;try{return $a(e,t,n)}finally{Ro=!1,(on!==null||ln!==null)&&(Ua(),Aa())}}function Qn(e,t){var n=e.stateNode;if(n===null)return null;var r=xo(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(E(231,t,typeof n));return n}var wl=!1;if(tt)try{var Sn={};Object.defineProperty(Sn,"passive",{get:function(){wl=!0}}),window.addEventListener("test",Sn,Sn),window.removeEventListener("test",Sn,Sn)}catch{wl=!1}function ld(e,t,n,r,o,l,i,a,u){var d=Array.prototype.slice.call(arguments,3);try{t.apply(n,d)}catch(y){this.onError(y)}}var Fn=!1,Wr=null,Qr=!1,kl=null,sd={onError:function(e){Fn=!0,Wr=e}};function id(e,t,n,r,o,l,i,a,u){Fn=!1,Wr=null,ld.apply(sd,arguments)}function ad(e,t,n,r,o,l,i,a,u){if(id.apply(this,arguments),Fn){if(Fn){var d=Wr;Fn=!1,Wr=null}else throw Error(E(198));Qr||(Qr=!0,kl=d)}}function Bt(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Ha(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function si(e){if(Bt(e)!==e)throw Error(E(188))}function ud(e){var t=e.alternate;if(!t){if(t=Bt(e),t===null)throw Error(E(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var l=o.alternate;if(l===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===l.child){for(l=o.child;l;){if(l===n)return si(o),e;if(l===r)return si(o),t;l=l.sibling}throw Error(E(188))}if(n.return!==r.return)n=o,r=l;else{for(var i=!1,a=o.child;a;){if(a===n){i=!0,n=o,r=l;break}if(a===r){i=!0,r=o,n=l;break}a=a.sibling}if(!i){for(a=l.child;a;){if(a===n){i=!0,n=l,r=o;break}if(a===r){i=!0,r=l,n=o;break}a=a.sibling}if(!i)throw Error(E(189))}}if(n.alternate!==r)throw Error(E(190))}if(n.tag!==3)throw Error(E(188));return n.stateNode.current===n?e:t}function Va(e){return e=ud(e),e!==null?Wa(e):null}function Wa(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Wa(e);if(t!==null)return t;e=e.sibling}return null}var Qa=Pe.unstable_scheduleCallback,ii=Pe.unstable_cancelCallback,cd=Pe.unstable_shouldYield,dd=Pe.unstable_requestPaint,X=Pe.unstable_now,fd=Pe.unstable_getCurrentPriorityLevel,cs=Pe.unstable_ImmediatePriority,ba=Pe.unstable_UserBlockingPriority,br=Pe.unstable_NormalPriority,pd=Pe.unstable_LowPriority,Ja=Pe.unstable_IdlePriority,mo=null,Ge=null;function hd(e){if(Ge&&typeof Ge.onCommitFiberRoot=="function")try{Ge.onCommitFiberRoot(mo,e,void 0,(e.current.flags&128)===128)}catch{}}var Be=Math.clz32?Math.clz32:yd,md=Math.log,gd=Math.LN2;function yd(e){return e>>>=0,e===0?32:31-(md(e)/gd|0)|0}var yr=64,vr=4194304;function zn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Jr(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,l=e.pingedLanes,i=n&268435455;if(i!==0){var a=i&~o;a!==0?r=zn(a):(l&=i,l!==0&&(r=zn(l)))}else i=n&~o,i!==0?r=zn(i):l!==0&&(r=zn(l));if(r===0)return 0;if(t!==0&&t!==r&&!(t&o)&&(o=r&-r,l=t&-t,o>=l||o===16&&(l&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Be(t),o=1<<n,r|=e[n],t&=~o;return r}function vd(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xd(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,l=e.pendingLanes;0<l;){var i=31-Be(l),a=1<<i,u=o[i];u===-1?(!(a&n)||a&r)&&(o[i]=vd(a,t)):u<=t&&(e.expiredLanes|=a),l&=~a}}function Sl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Ga(){var e=yr;return yr<<=1,!(yr&4194240)&&(yr=64),e}function Mo(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ir(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Be(t),e[t]=n}function wd(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-Be(n),l=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~l}}function ds(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Be(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var U=0;function Ka(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Ya,fs,Xa,Za,qa,jl=!1,xr=[],ht=null,mt=null,gt=null,bn=new Map,Jn=new Map,ct=[],kd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ai(e,t){switch(e){case"focusin":case"focusout":ht=null;break;case"dragenter":case"dragleave":mt=null;break;case"mouseover":case"mouseout":gt=null;break;case"pointerover":case"pointerout":bn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jn.delete(t.pointerId)}}function jn(e,t,n,r,o,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:l,targetContainers:[o]},t!==null&&(t=ur(t),t!==null&&fs(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function Sd(e,t,n,r,o){switch(t){case"focusin":return ht=jn(ht,e,t,n,r,o),!0;case"dragenter":return mt=jn(mt,e,t,n,r,o),!0;case"mouseover":return gt=jn(gt,e,t,n,r,o),!0;case"pointerover":var l=o.pointerId;return bn.set(l,jn(bn.get(l)||null,e,t,n,r,o)),!0;case"gotpointercapture":return l=o.pointerId,Jn.set(l,jn(Jn.get(l)||null,e,t,n,r,o)),!0}return!1}function eu(e){var t=Lt(e.target);if(t!==null){var n=Bt(t);if(n!==null){if(t=n.tag,t===13){if(t=Ha(n),t!==null){e.blockedOn=t,qa(e.priority,function(){Xa(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ir(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Cl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);vl=r,n.target.dispatchEvent(r),vl=null}else return t=ur(n),t!==null&&fs(t),e.blockedOn=n,!1;t.shift()}return!0}function ui(e,t,n){Ir(e)&&n.delete(t)}function jd(){jl=!1,ht!==null&&Ir(ht)&&(ht=null),mt!==null&&Ir(mt)&&(mt=null),gt!==null&&Ir(gt)&&(gt=null),bn.forEach(ui),Jn.forEach(ui)}function Cn(e,t){e.blockedOn===t&&(e.blockedOn=null,jl||(jl=!0,Pe.unstable_scheduleCallback(Pe.unstable_NormalPriority,jd)))}function Gn(e){function t(o){return Cn(o,e)}if(0<xr.length){Cn(xr[0],e);for(var n=1;n<xr.length;n++){var r=xr[n];r.blockedOn===e&&(r.blockedOn=null)}}for(ht!==null&&Cn(ht,e),mt!==null&&Cn(mt,e),gt!==null&&Cn(gt,e),bn.forEach(t),Jn.forEach(t),n=0;n<ct.length;n++)r=ct[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<ct.length&&(n=ct[0],n.blockedOn===null);)eu(n),n.blockedOn===null&&ct.shift()}var sn=lt.ReactCurrentBatchConfig,Gr=!0;function Cd(e,t,n,r){var o=U,l=sn.transition;sn.transition=null;try{U=1,ps(e,t,n,r)}finally{U=o,sn.transition=l}}function _d(e,t,n,r){var o=U,l=sn.transition;sn.transition=null;try{U=4,ps(e,t,n,r)}finally{U=o,sn.transition=l}}function ps(e,t,n,r){if(Gr){var o=Cl(e,t,n,r);if(o===null)Jo(e,t,r,Kr,n),ai(e,r);else if(Sd(o,e,t,n,r))r.stopPropagation();else if(ai(e,r),t&4&&-1<kd.indexOf(e)){for(;o!==null;){var l=ur(o);if(l!==null&&Ya(l),l=Cl(e,t,n,r),l===null&&Jo(e,t,r,Kr,n),l===o)break;o=l}o!==null&&r.stopPropagation()}else Jo(e,t,r,null,n)}}var Kr=null;function Cl(e,t,n,r){if(Kr=null,e=us(r),e=Lt(e),e!==null)if(t=Bt(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Ha(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kr=e,null}function tu(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(fd()){case cs:return 1;case ba:return 4;case br:case pd:return 16;case Ja:return 536870912;default:return 16}default:return 16}}var ft=null,hs=null,Dr=null;function nu(){if(Dr)return Dr;var e,t=hs,n=t.length,r,o="value"in ft?ft.value:ft.textContent,l=o.length;for(e=0;e<n&&t[e]===o[e];e++);var i=n-e;for(r=1;r<=i&&t[n-r]===o[l-r];r++);return Dr=o.slice(e,1<r?1-r:void 0)}function Fr(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function wr(){return!0}function ci(){return!1}function Le(e){function t(n,r,o,l,i){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=l,this.target=i,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(l):l[a]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?wr:ci,this.isPropagationStopped=ci,this}return K(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=wr)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=wr)},persist:function(){},isPersistent:wr}),t}var vn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ms=Le(vn),ar=K({},vn,{view:0,detail:0}),Ed=Le(ar),Ao,$o,_n,go=K({},ar,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==_n&&(_n&&e.type==="mousemove"?(Ao=e.screenX-_n.screenX,$o=e.screenY-_n.screenY):$o=Ao=0,_n=e),Ao)},movementY:function(e){return"movementY"in e?e.movementY:$o}}),di=Le(go),Nd=K({},go,{dataTransfer:0}),Pd=Le(Nd),Td=K({},ar,{relatedTarget:0}),Uo=Le(Td),Ld=K({},vn,{animationName:0,elapsedTime:0,pseudoElement:0}),Od=Le(Ld),zd=K({},vn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Id=Le(zd),Dd=K({},vn,{data:0}),fi=Le(Dd),Fd={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Rd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Md={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ad(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Md[e])?!!t[e]:!1}function gs(){return Ad}var $d=K({},ar,{key:function(e){if(e.key){var t=Fd[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Fr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Rd[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gs,charCode:function(e){return e.type==="keypress"?Fr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Fr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ud=Le($d),Bd=K({},go,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pi=Le(Bd),Hd=K({},ar,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gs}),Vd=Le(Hd),Wd=K({},vn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Qd=Le(Wd),bd=K({},go,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Jd=Le(bd),Gd=[9,13,27,32],ys=tt&&"CompositionEvent"in window,Rn=null;tt&&"documentMode"in document&&(Rn=document.documentMode);var Kd=tt&&"TextEvent"in window&&!Rn,ru=tt&&(!ys||Rn&&8<Rn&&11>=Rn),hi=String.fromCharCode(32),mi=!1;function ou(e,t){switch(e){case"keyup":return Gd.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Jt=!1;function Yd(e,t){switch(e){case"compositionend":return lu(t);case"keypress":return t.which!==32?null:(mi=!0,hi);case"textInput":return e=t.data,e===hi&&mi?null:e;default:return null}}function Xd(e,t){if(Jt)return e==="compositionend"||!ys&&ou(e,t)?(e=nu(),Dr=hs=ft=null,Jt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ru&&t.locale!=="ko"?null:t.data;default:return null}}var Zd={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Zd[e.type]:t==="textarea"}function su(e,t,n,r){Ma(r),t=Yr(t,"onChange"),0<t.length&&(n=new ms("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Mn=null,Kn=null;function qd(e){yu(e,0)}function yo(e){var t=Yt(e);if(La(t))return e}function ef(e,t){if(e==="change")return t}var iu=!1;if(tt){var Bo;if(tt){var Ho="oninput"in document;if(!Ho){var yi=document.createElement("div");yi.setAttribute("oninput","return;"),Ho=typeof yi.oninput=="function"}Bo=Ho}else Bo=!1;iu=Bo&&(!document.documentMode||9<document.documentMode)}function vi(){Mn&&(Mn.detachEvent("onpropertychange",au),Kn=Mn=null)}function au(e){if(e.propertyName==="value"&&yo(Kn)){var t=[];su(t,Kn,e,us(e)),Ba(qd,t)}}function tf(e,t,n){e==="focusin"?(vi(),Mn=t,Kn=n,Mn.attachEvent("onpropertychange",au)):e==="focusout"&&vi()}function nf(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return yo(Kn)}function rf(e,t){if(e==="click")return yo(t)}function of(e,t){if(e==="input"||e==="change")return yo(t)}function lf(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ve=typeof Object.is=="function"?Object.is:lf;function Yn(e,t){if(Ve(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!sl.call(t,o)||!Ve(e[o],t[o]))return!1}return!0}function xi(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function wi(e,t){var n=xi(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=xi(n)}}function uu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?uu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function cu(){for(var e=window,t=Vr();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Vr(e.document)}return t}function vs(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function sf(e){var t=cu(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&uu(n.ownerDocument.documentElement,n)){if(r!==null&&vs(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,l=Math.min(r.start,o);r=r.end===void 0?l:Math.min(r.end,o),!e.extend&&l>r&&(o=r,r=l,l=o),o=wi(n,l);var i=wi(n,r);o&&i&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),l>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var af=tt&&"documentMode"in document&&11>=document.documentMode,Gt=null,_l=null,An=null,El=!1;function ki(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;El||Gt==null||Gt!==Vr(r)||(r=Gt,"selectionStart"in r&&vs(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),An&&Yn(An,r)||(An=r,r=Yr(_l,"onSelect"),0<r.length&&(t=new ms("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Gt)))}function kr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Kt={animationend:kr("Animation","AnimationEnd"),animationiteration:kr("Animation","AnimationIteration"),animationstart:kr("Animation","AnimationStart"),transitionend:kr("Transition","TransitionEnd")},Vo={},du={};tt&&(du=document.createElement("div").style,"AnimationEvent"in window||(delete Kt.animationend.animation,delete Kt.animationiteration.animation,delete Kt.animationstart.animation),"TransitionEvent"in window||delete Kt.transitionend.transition);function vo(e){if(Vo[e])return Vo[e];if(!Kt[e])return e;var t=Kt[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in du)return Vo[e]=t[n];return e}var fu=vo("animationend"),pu=vo("animationiteration"),hu=vo("animationstart"),mu=vo("transitionend"),gu=new Map,Si="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ct(e,t){gu.set(e,t),Ut(t,[e])}for(var Wo=0;Wo<Si.length;Wo++){var Qo=Si[Wo],uf=Qo.toLowerCase(),cf=Qo[0].toUpperCase()+Qo.slice(1);Ct(uf,"on"+cf)}Ct(fu,"onAnimationEnd");Ct(pu,"onAnimationIteration");Ct(hu,"onAnimationStart");Ct("dblclick","onDoubleClick");Ct("focusin","onFocus");Ct("focusout","onBlur");Ct(mu,"onTransitionEnd");cn("onMouseEnter",["mouseout","mouseover"]);cn("onMouseLeave",["mouseout","mouseover"]);cn("onPointerEnter",["pointerout","pointerover"]);cn("onPointerLeave",["pointerout","pointerover"]);Ut("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ut("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ut("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ut("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ut("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ut("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var In="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),df=new Set("cancel close invalid load scroll toggle".split(" ").concat(In));function ji(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,ad(r,t,void 0,e),e.currentTarget=null}function yu(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var l=void 0;if(t)for(var i=r.length-1;0<=i;i--){var a=r[i],u=a.instance,d=a.currentTarget;if(a=a.listener,u!==l&&o.isPropagationStopped())break e;ji(o,a,d),l=u}else for(i=0;i<r.length;i++){if(a=r[i],u=a.instance,d=a.currentTarget,a=a.listener,u!==l&&o.isPropagationStopped())break e;ji(o,a,d),l=u}}}if(Qr)throw e=kl,Qr=!1,kl=null,e}function W(e,t){var n=t[Ol];n===void 0&&(n=t[Ol]=new Set);var r=e+"__bubble";n.has(r)||(vu(t,e,2,!1),n.add(r))}function bo(e,t,n){var r=0;t&&(r|=4),vu(n,e,r,t)}var Sr="_reactListening"+Math.random().toString(36).slice(2);function Xn(e){if(!e[Sr]){e[Sr]=!0,_a.forEach(function(n){n!=="selectionchange"&&(df.has(n)||bo(n,!1,e),bo(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Sr]||(t[Sr]=!0,bo("selectionchange",!1,t))}}function vu(e,t,n,r){switch(tu(t)){case 1:var o=Cd;break;case 4:o=_d;break;default:o=ps}n=o.bind(null,t,n,e),o=void 0,!wl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Jo(e,t,n,r,o){var l=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var a=r.stateNode.containerInfo;if(a===o||a.nodeType===8&&a.parentNode===o)break;if(i===4)for(i=r.return;i!==null;){var u=i.tag;if((u===3||u===4)&&(u=i.stateNode.containerInfo,u===o||u.nodeType===8&&u.parentNode===o))return;i=i.return}for(;a!==null;){if(i=Lt(a),i===null)return;if(u=i.tag,u===5||u===6){r=l=i;continue e}a=a.parentNode}}r=r.return}Ba(function(){var d=l,y=us(n),x=[];e:{var k=gu.get(e);if(k!==void 0){var m=ms,p=e;switch(e){case"keypress":if(Fr(n)===0)break e;case"keydown":case"keyup":m=Ud;break;case"focusin":p="focus",m=Uo;break;case"focusout":p="blur",m=Uo;break;case"beforeblur":case"afterblur":m=Uo;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=di;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=Pd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=Vd;break;case fu:case pu:case hu:m=Od;break;case mu:m=Qd;break;case"scroll":m=Ed;break;case"wheel":m=Jd;break;case"copy":case"cut":case"paste":m=Id;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=pi}var C=(t&4)!==0,I=!C&&e==="scroll",h=C?k!==null?k+"Capture":null:k;C=[];for(var f=d,g;f!==null;){g=f;var w=g.stateNode;if(g.tag===5&&w!==null&&(g=w,h!==null&&(w=Qn(f,h),w!=null&&C.push(Zn(f,w,g)))),I)break;f=f.return}0<C.length&&(k=new m(k,p,null,n,y),x.push({event:k,listeners:C}))}}if(!(t&7)){e:{if(k=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",k&&n!==vl&&(p=n.relatedTarget||n.fromElement)&&(Lt(p)||p[nt]))break e;if((m||k)&&(k=y.window===y?y:(k=y.ownerDocument)?k.defaultView||k.parentWindow:window,m?(p=n.relatedTarget||n.toElement,m=d,p=p?Lt(p):null,p!==null&&(I=Bt(p),p!==I||p.tag!==5&&p.tag!==6)&&(p=null)):(m=null,p=d),m!==p)){if(C=di,w="onMouseLeave",h="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(C=pi,w="onPointerLeave",h="onPointerEnter",f="pointer"),I=m==null?k:Yt(m),g=p==null?k:Yt(p),k=new C(w,f+"leave",m,n,y),k.target=I,k.relatedTarget=g,w=null,Lt(y)===d&&(C=new C(h,f+"enter",p,n,y),C.target=g,C.relatedTarget=I,w=C),I=w,m&&p)t:{for(C=m,h=p,f=0,g=C;g;g=Wt(g))f++;for(g=0,w=h;w;w=Wt(w))g++;for(;0<f-g;)C=Wt(C),f--;for(;0<g-f;)h=Wt(h),g--;for(;f--;){if(C===h||h!==null&&C===h.alternate)break t;C=Wt(C),h=Wt(h)}C=null}else C=null;m!==null&&Ci(x,k,m,C,!1),p!==null&&I!==null&&Ci(x,I,p,C,!0)}}e:{if(k=d?Yt(d):window,m=k.nodeName&&k.nodeName.toLowerCase(),m==="select"||m==="input"&&k.type==="file")var j=ef;else if(gi(k))if(iu)j=of;else{j=nf;var _=tf}else(m=k.nodeName)&&m.toLowerCase()==="input"&&(k.type==="checkbox"||k.type==="radio")&&(j=rf);if(j&&(j=j(e,d))){su(x,j,n,y);break e}_&&_(e,k,d),e==="focusout"&&(_=k._wrapperState)&&_.controlled&&k.type==="number"&&pl(k,"number",k.value)}switch(_=d?Yt(d):window,e){case"focusin":(gi(_)||_.contentEditable==="true")&&(Gt=_,_l=d,An=null);break;case"focusout":An=_l=Gt=null;break;case"mousedown":El=!0;break;case"contextmenu":case"mouseup":case"dragend":El=!1,ki(x,n,y);break;case"selectionchange":if(af)break;case"keydown":case"keyup":ki(x,n,y)}var N;if(ys)e:{switch(e){case"compositionstart":var z="onCompositionStart";break e;case"compositionend":z="onCompositionEnd";break e;case"compositionupdate":z="onCompositionUpdate";break e}z=void 0}else Jt?ou(e,n)&&(z="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(z="onCompositionStart");z&&(ru&&n.locale!=="ko"&&(Jt||z!=="onCompositionStart"?z==="onCompositionEnd"&&Jt&&(N=nu()):(ft=y,hs="value"in ft?ft.value:ft.textContent,Jt=!0)),_=Yr(d,z),0<_.length&&(z=new fi(z,e,null,n,y),x.push({event:z,listeners:_}),N?z.data=N:(N=lu(n),N!==null&&(z.data=N)))),(N=Kd?Yd(e,n):Xd(e,n))&&(d=Yr(d,"onBeforeInput"),0<d.length&&(y=new fi("onBeforeInput","beforeinput",null,n,y),x.push({event:y,listeners:d}),y.data=N))}yu(x,t)})}function Zn(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Yr(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,l=o.stateNode;o.tag===5&&l!==null&&(o=l,l=Qn(e,n),l!=null&&r.unshift(Zn(e,l,o)),l=Qn(e,t),l!=null&&r.push(Zn(e,l,o))),e=e.return}return r}function Wt(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ci(e,t,n,r,o){for(var l=t._reactName,i=[];n!==null&&n!==r;){var a=n,u=a.alternate,d=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&d!==null&&(a=d,o?(u=Qn(n,l),u!=null&&i.unshift(Zn(n,u,a))):o||(u=Qn(n,l),u!=null&&i.push(Zn(n,u,a)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var ff=/\r\n?/g,pf=/\u0000|\uFFFD/g;function _i(e){return(typeof e=="string"?e:""+e).replace(ff,`
`).replace(pf,"")}function jr(e,t,n){if(t=_i(t),_i(e)!==t&&n)throw Error(E(425))}function Xr(){}var Nl=null,Pl=null;function Tl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ll=typeof setTimeout=="function"?setTimeout:void 0,hf=typeof clearTimeout=="function"?clearTimeout:void 0,Ei=typeof Promise=="function"?Promise:void 0,mf=typeof queueMicrotask=="function"?queueMicrotask:typeof Ei<"u"?function(e){return Ei.resolve(null).then(e).catch(gf)}:Ll;function gf(e){setTimeout(function(){throw e})}function Go(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),Gn(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);Gn(t)}function yt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Ni(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var xn=Math.random().toString(36).slice(2),Je="__reactFiber$"+xn,qn="__reactProps$"+xn,nt="__reactContainer$"+xn,Ol="__reactEvents$"+xn,yf="__reactListeners$"+xn,vf="__reactHandles$"+xn;function Lt(e){var t=e[Je];if(t)return t;for(var n=e.parentNode;n;){if(t=n[nt]||n[Je]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Ni(e);e!==null;){if(n=e[Je])return n;e=Ni(e)}return t}e=n,n=e.parentNode}return null}function ur(e){return e=e[Je]||e[nt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Yt(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(E(33))}function xo(e){return e[qn]||null}var zl=[],Xt=-1;function _t(e){return{current:e}}function Q(e){0>Xt||(e.current=zl[Xt],zl[Xt]=null,Xt--)}function H(e,t){Xt++,zl[Xt]=e.current,e.current=t}var jt={},fe=_t(jt),Se=_t(!1),Ft=jt;function dn(e,t){var n=e.type.contextTypes;if(!n)return jt;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},l;for(l in n)o[l]=t[l];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function je(e){return e=e.childContextTypes,e!=null}function Zr(){Q(Se),Q(fe)}function Pi(e,t,n){if(fe.current!==jt)throw Error(E(168));H(fe,t),H(Se,n)}function xu(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(E(108,td(e)||"Unknown",o));return K({},n,r)}function qr(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||jt,Ft=fe.current,H(fe,e),H(Se,Se.current),!0}function Ti(e,t,n){var r=e.stateNode;if(!r)throw Error(E(169));n?(e=xu(e,t,Ft),r.__reactInternalMemoizedMergedChildContext=e,Q(Se),Q(fe),H(fe,e)):Q(Se),H(Se,n)}var Xe=null,wo=!1,Ko=!1;function wu(e){Xe===null?Xe=[e]:Xe.push(e)}function xf(e){wo=!0,wu(e)}function Et(){if(!Ko&&Xe!==null){Ko=!0;var e=0,t=U;try{var n=Xe;for(U=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Xe=null,wo=!1}catch(o){throw Xe!==null&&(Xe=Xe.slice(e+1)),Qa(cs,Et),o}finally{U=t,Ko=!1}}return null}var Zt=[],qt=0,eo=null,to=0,Oe=[],ze=0,Rt=null,Ze=1,qe="";function Pt(e,t){Zt[qt++]=to,Zt[qt++]=eo,eo=e,to=t}function ku(e,t,n){Oe[ze++]=Ze,Oe[ze++]=qe,Oe[ze++]=Rt,Rt=e;var r=Ze;e=qe;var o=32-Be(r)-1;r&=~(1<<o),n+=1;var l=32-Be(t)+o;if(30<l){var i=o-o%5;l=(r&(1<<i)-1).toString(32),r>>=i,o-=i,Ze=1<<32-Be(t)+o|n<<o|r,qe=l+e}else Ze=1<<l|n<<o|r,qe=e}function xs(e){e.return!==null&&(Pt(e,1),ku(e,1,0))}function ws(e){for(;e===eo;)eo=Zt[--qt],Zt[qt]=null,to=Zt[--qt],Zt[qt]=null;for(;e===Rt;)Rt=Oe[--ze],Oe[ze]=null,qe=Oe[--ze],Oe[ze]=null,Ze=Oe[--ze],Oe[ze]=null}var Ne=null,Ee=null,b=!1,Ue=null;function Su(e,t){var n=Ie(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Li(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ne=e,Ee=yt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ne=e,Ee=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Rt!==null?{id:Ze,overflow:qe}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ie(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ne=e,Ee=null,!0):!1;default:return!1}}function Il(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Dl(e){if(b){var t=Ee;if(t){var n=t;if(!Li(e,t)){if(Il(e))throw Error(E(418));t=yt(n.nextSibling);var r=Ne;t&&Li(e,t)?Su(r,n):(e.flags=e.flags&-4097|2,b=!1,Ne=e)}}else{if(Il(e))throw Error(E(418));e.flags=e.flags&-4097|2,b=!1,Ne=e}}}function Oi(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ne=e}function Cr(e){if(e!==Ne)return!1;if(!b)return Oi(e),b=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Tl(e.type,e.memoizedProps)),t&&(t=Ee)){if(Il(e))throw ju(),Error(E(418));for(;t;)Su(e,t),t=yt(t.nextSibling)}if(Oi(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(E(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ee=yt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ee=null}}else Ee=Ne?yt(e.stateNode.nextSibling):null;return!0}function ju(){for(var e=Ee;e;)e=yt(e.nextSibling)}function fn(){Ee=Ne=null,b=!1}function ks(e){Ue===null?Ue=[e]:Ue.push(e)}var wf=lt.ReactCurrentBatchConfig;function En(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(E(309));var r=n.stateNode}if(!r)throw Error(E(147,e));var o=r,l=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===l?t.ref:(t=function(i){var a=o.refs;i===null?delete a[l]:a[l]=i},t._stringRef=l,t)}if(typeof e!="string")throw Error(E(284));if(!n._owner)throw Error(E(290,e))}return e}function _r(e,t){throw e=Object.prototype.toString.call(t),Error(E(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function zi(e){var t=e._init;return t(e._payload)}function Cu(e){function t(h,f){if(e){var g=h.deletions;g===null?(h.deletions=[f],h.flags|=16):g.push(f)}}function n(h,f){if(!e)return null;for(;f!==null;)t(h,f),f=f.sibling;return null}function r(h,f){for(h=new Map;f!==null;)f.key!==null?h.set(f.key,f):h.set(f.index,f),f=f.sibling;return h}function o(h,f){return h=kt(h,f),h.index=0,h.sibling=null,h}function l(h,f,g){return h.index=g,e?(g=h.alternate,g!==null?(g=g.index,g<f?(h.flags|=2,f):g):(h.flags|=2,f)):(h.flags|=1048576,f)}function i(h){return e&&h.alternate===null&&(h.flags|=2),h}function a(h,f,g,w){return f===null||f.tag!==6?(f=nl(g,h.mode,w),f.return=h,f):(f=o(f,g),f.return=h,f)}function u(h,f,g,w){var j=g.type;return j===bt?y(h,f,g.props.children,w,g.key):f!==null&&(f.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===at&&zi(j)===f.type)?(w=o(f,g.props),w.ref=En(h,f,g),w.return=h,w):(w=Hr(g.type,g.key,g.props,null,h.mode,w),w.ref=En(h,f,g),w.return=h,w)}function d(h,f,g,w){return f===null||f.tag!==4||f.stateNode.containerInfo!==g.containerInfo||f.stateNode.implementation!==g.implementation?(f=rl(g,h.mode,w),f.return=h,f):(f=o(f,g.children||[]),f.return=h,f)}function y(h,f,g,w,j){return f===null||f.tag!==7?(f=Dt(g,h.mode,w,j),f.return=h,f):(f=o(f,g),f.return=h,f)}function x(h,f,g){if(typeof f=="string"&&f!==""||typeof f=="number")return f=nl(""+f,h.mode,g),f.return=h,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case hr:return g=Hr(f.type,f.key,f.props,null,h.mode,g),g.ref=En(h,null,f),g.return=h,g;case Qt:return f=rl(f,h.mode,g),f.return=h,f;case at:var w=f._init;return x(h,w(f._payload),g)}if(On(f)||kn(f))return f=Dt(f,h.mode,g,null),f.return=h,f;_r(h,f)}return null}function k(h,f,g,w){var j=f!==null?f.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return j!==null?null:a(h,f,""+g,w);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case hr:return g.key===j?u(h,f,g,w):null;case Qt:return g.key===j?d(h,f,g,w):null;case at:return j=g._init,k(h,f,j(g._payload),w)}if(On(g)||kn(g))return j!==null?null:y(h,f,g,w,null);_r(h,g)}return null}function m(h,f,g,w,j){if(typeof w=="string"&&w!==""||typeof w=="number")return h=h.get(g)||null,a(f,h,""+w,j);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case hr:return h=h.get(w.key===null?g:w.key)||null,u(f,h,w,j);case Qt:return h=h.get(w.key===null?g:w.key)||null,d(f,h,w,j);case at:var _=w._init;return m(h,f,g,_(w._payload),j)}if(On(w)||kn(w))return h=h.get(g)||null,y(f,h,w,j,null);_r(f,w)}return null}function p(h,f,g,w){for(var j=null,_=null,N=f,z=f=0,V=null;N!==null&&z<g.length;z++){N.index>z?(V=N,N=null):V=N.sibling;var F=k(h,N,g[z],w);if(F===null){N===null&&(N=V);break}e&&N&&F.alternate===null&&t(h,N),f=l(F,f,z),_===null?j=F:_.sibling=F,_=F,N=V}if(z===g.length)return n(h,N),b&&Pt(h,z),j;if(N===null){for(;z<g.length;z++)N=x(h,g[z],w),N!==null&&(f=l(N,f,z),_===null?j=N:_.sibling=N,_=N);return b&&Pt(h,z),j}for(N=r(h,N);z<g.length;z++)V=m(N,h,z,g[z],w),V!==null&&(e&&V.alternate!==null&&N.delete(V.key===null?z:V.key),f=l(V,f,z),_===null?j=V:_.sibling=V,_=V);return e&&N.forEach(function(ye){return t(h,ye)}),b&&Pt(h,z),j}function C(h,f,g,w){var j=kn(g);if(typeof j!="function")throw Error(E(150));if(g=j.call(g),g==null)throw Error(E(151));for(var _=j=null,N=f,z=f=0,V=null,F=g.next();N!==null&&!F.done;z++,F=g.next()){N.index>z?(V=N,N=null):V=N.sibling;var ye=k(h,N,F.value,w);if(ye===null){N===null&&(N=V);break}e&&N&&ye.alternate===null&&t(h,N),f=l(ye,f,z),_===null?j=ye:_.sibling=ye,_=ye,N=V}if(F.done)return n(h,N),b&&Pt(h,z),j;if(N===null){for(;!F.done;z++,F=g.next())F=x(h,F.value,w),F!==null&&(f=l(F,f,z),_===null?j=F:_.sibling=F,_=F);return b&&Pt(h,z),j}for(N=r(h,N);!F.done;z++,F=g.next())F=m(N,h,z,F.value,w),F!==null&&(e&&F.alternate!==null&&N.delete(F.key===null?z:F.key),f=l(F,f,z),_===null?j=F:_.sibling=F,_=F);return e&&N.forEach(function(Nt){return t(h,Nt)}),b&&Pt(h,z),j}function I(h,f,g,w){if(typeof g=="object"&&g!==null&&g.type===bt&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case hr:e:{for(var j=g.key,_=f;_!==null;){if(_.key===j){if(j=g.type,j===bt){if(_.tag===7){n(h,_.sibling),f=o(_,g.props.children),f.return=h,h=f;break e}}else if(_.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===at&&zi(j)===_.type){n(h,_.sibling),f=o(_,g.props),f.ref=En(h,_,g),f.return=h,h=f;break e}n(h,_);break}else t(h,_);_=_.sibling}g.type===bt?(f=Dt(g.props.children,h.mode,w,g.key),f.return=h,h=f):(w=Hr(g.type,g.key,g.props,null,h.mode,w),w.ref=En(h,f,g),w.return=h,h=w)}return i(h);case Qt:e:{for(_=g.key;f!==null;){if(f.key===_)if(f.tag===4&&f.stateNode.containerInfo===g.containerInfo&&f.stateNode.implementation===g.implementation){n(h,f.sibling),f=o(f,g.children||[]),f.return=h,h=f;break e}else{n(h,f);break}else t(h,f);f=f.sibling}f=rl(g,h.mode,w),f.return=h,h=f}return i(h);case at:return _=g._init,I(h,f,_(g._payload),w)}if(On(g))return p(h,f,g,w);if(kn(g))return C(h,f,g,w);_r(h,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,f!==null&&f.tag===6?(n(h,f.sibling),f=o(f,g),f.return=h,h=f):(n(h,f),f=nl(g,h.mode,w),f.return=h,h=f),i(h)):n(h,f)}return I}var pn=Cu(!0),_u=Cu(!1),no=_t(null),ro=null,en=null,Ss=null;function js(){Ss=en=ro=null}function Cs(e){var t=no.current;Q(no),e._currentValue=t}function Fl(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function an(e,t){ro=e,Ss=en=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ke=!0),e.firstContext=null)}function Fe(e){var t=e._currentValue;if(Ss!==e)if(e={context:e,memoizedValue:t,next:null},en===null){if(ro===null)throw Error(E(308));en=e,ro.dependencies={lanes:0,firstContext:e}}else en=en.next=e;return t}var Ot=null;function _s(e){Ot===null?Ot=[e]:Ot.push(e)}function Eu(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,_s(t)):(n.next=o.next,o.next=n),t.interleaved=n,rt(e,r)}function rt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var ut=!1;function Es(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Nu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function et(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function vt(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,A&2){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,rt(e,n)}return o=r.interleaved,o===null?(t.next=t,_s(r)):(t.next=o.next,o.next=t),r.interleaved=t,rt(e,n)}function Rr(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ds(e,n)}}function Ii(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,l=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};l===null?o=l=i:l=l.next=i,n=n.next}while(n!==null);l===null?o=l=t:l=l.next=t}else o=l=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:l,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function oo(e,t,n,r){var o=e.updateQueue;ut=!1;var l=o.firstBaseUpdate,i=o.lastBaseUpdate,a=o.shared.pending;if(a!==null){o.shared.pending=null;var u=a,d=u.next;u.next=null,i===null?l=d:i.next=d,i=u;var y=e.alternate;y!==null&&(y=y.updateQueue,a=y.lastBaseUpdate,a!==i&&(a===null?y.firstBaseUpdate=d:a.next=d,y.lastBaseUpdate=u))}if(l!==null){var x=o.baseState;i=0,y=d=u=null,a=l;do{var k=a.lane,m=a.eventTime;if((r&k)===k){y!==null&&(y=y.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,C=a;switch(k=t,m=n,C.tag){case 1:if(p=C.payload,typeof p=="function"){x=p.call(m,x,k);break e}x=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=C.payload,k=typeof p=="function"?p.call(m,x,k):p,k==null)break e;x=K({},x,k);break e;case 2:ut=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,k=o.effects,k===null?o.effects=[a]:k.push(a))}else m={eventTime:m,lane:k,tag:a.tag,payload:a.payload,callback:a.callback,next:null},y===null?(d=y=m,u=x):y=y.next=m,i|=k;if(a=a.next,a===null){if(a=o.shared.pending,a===null)break;k=a,a=k.next,k.next=null,o.lastBaseUpdate=k,o.shared.pending=null}}while(1);if(y===null&&(u=x),o.baseState=u,o.firstBaseUpdate=d,o.lastBaseUpdate=y,t=o.shared.interleaved,t!==null){o=t;do i|=o.lane,o=o.next;while(o!==t)}else l===null&&(o.shared.lanes=0);At|=i,e.lanes=i,e.memoizedState=x}}function Di(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(E(191,o));o.call(r)}}}var cr={},Ke=_t(cr),er=_t(cr),tr=_t(cr);function zt(e){if(e===cr)throw Error(E(174));return e}function Ns(e,t){switch(H(tr,t),H(er,e),H(Ke,cr),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ml(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ml(t,e)}Q(Ke),H(Ke,t)}function hn(){Q(Ke),Q(er),Q(tr)}function Pu(e){zt(tr.current);var t=zt(Ke.current),n=ml(t,e.type);t!==n&&(H(er,e),H(Ke,n))}function Ps(e){er.current===e&&(Q(Ke),Q(er))}var J=_t(0);function lo(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Yo=[];function Ts(){for(var e=0;e<Yo.length;e++)Yo[e]._workInProgressVersionPrimary=null;Yo.length=0}var Mr=lt.ReactCurrentDispatcher,Xo=lt.ReactCurrentBatchConfig,Mt=0,G=null,te=null,re=null,so=!1,$n=!1,nr=0,kf=0;function ue(){throw Error(E(321))}function Ls(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ve(e[n],t[n]))return!1;return!0}function Os(e,t,n,r,o,l){if(Mt=l,G=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Mr.current=e===null||e.memoizedState===null?_f:Ef,e=n(r,o),$n){l=0;do{if($n=!1,nr=0,25<=l)throw Error(E(301));l+=1,re=te=null,t.updateQueue=null,Mr.current=Nf,e=n(r,o)}while($n)}if(Mr.current=io,t=te!==null&&te.next!==null,Mt=0,re=te=G=null,so=!1,t)throw Error(E(300));return e}function zs(){var e=nr!==0;return nr=0,e}function be(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return re===null?G.memoizedState=re=e:re=re.next=e,re}function Re(){if(te===null){var e=G.alternate;e=e!==null?e.memoizedState:null}else e=te.next;var t=re===null?G.memoizedState:re.next;if(t!==null)re=t,te=e;else{if(e===null)throw Error(E(310));te=e,e={memoizedState:te.memoizedState,baseState:te.baseState,baseQueue:te.baseQueue,queue:te.queue,next:null},re===null?G.memoizedState=re=e:re=re.next=e}return re}function rr(e,t){return typeof t=="function"?t(e):t}function Zo(e){var t=Re(),n=t.queue;if(n===null)throw Error(E(311));n.lastRenderedReducer=e;var r=te,o=r.baseQueue,l=n.pending;if(l!==null){if(o!==null){var i=o.next;o.next=l.next,l.next=i}r.baseQueue=o=l,n.pending=null}if(o!==null){l=o.next,r=r.baseState;var a=i=null,u=null,d=l;do{var y=d.lane;if((Mt&y)===y)u!==null&&(u=u.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var x={lane:y,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};u===null?(a=u=x,i=r):u=u.next=x,G.lanes|=y,At|=y}d=d.next}while(d!==null&&d!==l);u===null?i=r:u.next=a,Ve(r,t.memoizedState)||(ke=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=u,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do l=o.lane,G.lanes|=l,At|=l,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function qo(e){var t=Re(),n=t.queue;if(n===null)throw Error(E(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,l=t.memoizedState;if(o!==null){n.pending=null;var i=o=o.next;do l=e(l,i.action),i=i.next;while(i!==o);Ve(l,t.memoizedState)||(ke=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),n.lastRenderedState=l}return[l,r]}function Tu(){}function Lu(e,t){var n=G,r=Re(),o=t(),l=!Ve(r.memoizedState,o);if(l&&(r.memoizedState=o,ke=!0),r=r.queue,Is(Iu.bind(null,n,r,e),[e]),r.getSnapshot!==t||l||re!==null&&re.memoizedState.tag&1){if(n.flags|=2048,or(9,zu.bind(null,n,r,o,t),void 0,null),oe===null)throw Error(E(349));Mt&30||Ou(n,t,o)}return o}function Ou(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=G.updateQueue,t===null?(t={lastEffect:null,stores:null},G.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function zu(e,t,n,r){t.value=n,t.getSnapshot=r,Du(t)&&Fu(e)}function Iu(e,t,n){return n(function(){Du(t)&&Fu(e)})}function Du(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ve(e,n)}catch{return!0}}function Fu(e){var t=rt(e,1);t!==null&&He(t,e,1,-1)}function Fi(e){var t=be();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:rr,lastRenderedState:e},t.queue=e,e=e.dispatch=Cf.bind(null,G,e),[t.memoizedState,e]}function or(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=G.updateQueue,t===null?(t={lastEffect:null,stores:null},G.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Ru(){return Re().memoizedState}function Ar(e,t,n,r){var o=be();G.flags|=e,o.memoizedState=or(1|t,n,void 0,r===void 0?null:r)}function ko(e,t,n,r){var o=Re();r=r===void 0?null:r;var l=void 0;if(te!==null){var i=te.memoizedState;if(l=i.destroy,r!==null&&Ls(r,i.deps)){o.memoizedState=or(t,n,l,r);return}}G.flags|=e,o.memoizedState=or(1|t,n,l,r)}function Ri(e,t){return Ar(8390656,8,e,t)}function Is(e,t){return ko(2048,8,e,t)}function Mu(e,t){return ko(4,2,e,t)}function Au(e,t){return ko(4,4,e,t)}function $u(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Uu(e,t,n){return n=n!=null?n.concat([e]):null,ko(4,4,$u.bind(null,t,e),n)}function Ds(){}function Bu(e,t){var n=Re();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ls(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Hu(e,t){var n=Re();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ls(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Vu(e,t,n){return Mt&21?(Ve(n,t)||(n=Ga(),G.lanes|=n,At|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ke=!0),e.memoizedState=n)}function Sf(e,t){var n=U;U=n!==0&&4>n?n:4,e(!0);var r=Xo.transition;Xo.transition={};try{e(!1),t()}finally{U=n,Xo.transition=r}}function Wu(){return Re().memoizedState}function jf(e,t,n){var r=wt(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Qu(e))bu(t,n);else if(n=Eu(e,t,n,r),n!==null){var o=he();He(n,e,r,o),Ju(n,t,r)}}function Cf(e,t,n){var r=wt(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Qu(e))bu(t,o);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var i=t.lastRenderedState,a=l(i,n);if(o.hasEagerState=!0,o.eagerState=a,Ve(a,i)){var u=t.interleaved;u===null?(o.next=o,_s(t)):(o.next=u.next,u.next=o),t.interleaved=o;return}}catch{}finally{}n=Eu(e,t,o,r),n!==null&&(o=he(),He(n,e,r,o),Ju(n,t,r))}}function Qu(e){var t=e.alternate;return e===G||t!==null&&t===G}function bu(e,t){$n=so=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ju(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ds(e,n)}}var io={readContext:Fe,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useInsertionEffect:ue,useLayoutEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useMutableSource:ue,useSyncExternalStore:ue,useId:ue,unstable_isNewReconciler:!1},_f={readContext:Fe,useCallback:function(e,t){return be().memoizedState=[e,t===void 0?null:t],e},useContext:Fe,useEffect:Ri,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ar(4194308,4,$u.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ar(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ar(4,2,e,t)},useMemo:function(e,t){var n=be();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=be();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=jf.bind(null,G,e),[r.memoizedState,e]},useRef:function(e){var t=be();return e={current:e},t.memoizedState=e},useState:Fi,useDebugValue:Ds,useDeferredValue:function(e){return be().memoizedState=e},useTransition:function(){var e=Fi(!1),t=e[0];return e=Sf.bind(null,e[1]),be().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=G,o=be();if(b){if(n===void 0)throw Error(E(407));n=n()}else{if(n=t(),oe===null)throw Error(E(349));Mt&30||Ou(r,t,n)}o.memoizedState=n;var l={value:n,getSnapshot:t};return o.queue=l,Ri(Iu.bind(null,r,l,e),[e]),r.flags|=2048,or(9,zu.bind(null,r,l,n,t),void 0,null),n},useId:function(){var e=be(),t=oe.identifierPrefix;if(b){var n=qe,r=Ze;n=(r&~(1<<32-Be(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=nr++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=kf++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Ef={readContext:Fe,useCallback:Bu,useContext:Fe,useEffect:Is,useImperativeHandle:Uu,useInsertionEffect:Mu,useLayoutEffect:Au,useMemo:Hu,useReducer:Zo,useRef:Ru,useState:function(){return Zo(rr)},useDebugValue:Ds,useDeferredValue:function(e){var t=Re();return Vu(t,te.memoizedState,e)},useTransition:function(){var e=Zo(rr)[0],t=Re().memoizedState;return[e,t]},useMutableSource:Tu,useSyncExternalStore:Lu,useId:Wu,unstable_isNewReconciler:!1},Nf={readContext:Fe,useCallback:Bu,useContext:Fe,useEffect:Is,useImperativeHandle:Uu,useInsertionEffect:Mu,useLayoutEffect:Au,useMemo:Hu,useReducer:qo,useRef:Ru,useState:function(){return qo(rr)},useDebugValue:Ds,useDeferredValue:function(e){var t=Re();return te===null?t.memoizedState=e:Vu(t,te.memoizedState,e)},useTransition:function(){var e=qo(rr)[0],t=Re().memoizedState;return[e,t]},useMutableSource:Tu,useSyncExternalStore:Lu,useId:Wu,unstable_isNewReconciler:!1};function Ae(e,t){if(e&&e.defaultProps){t=K({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Rl(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:K({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var So={isMounted:function(e){return(e=e._reactInternals)?Bt(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=he(),o=wt(e),l=et(r,o);l.payload=t,n!=null&&(l.callback=n),t=vt(e,l,o),t!==null&&(He(t,e,o,r),Rr(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=he(),o=wt(e),l=et(r,o);l.tag=1,l.payload=t,n!=null&&(l.callback=n),t=vt(e,l,o),t!==null&&(He(t,e,o,r),Rr(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=he(),r=wt(e),o=et(n,r);o.tag=2,t!=null&&(o.callback=t),t=vt(e,o,r),t!==null&&(He(t,e,r,n),Rr(t,e,r))}};function Mi(e,t,n,r,o,l,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,l,i):t.prototype&&t.prototype.isPureReactComponent?!Yn(n,r)||!Yn(o,l):!0}function Gu(e,t,n){var r=!1,o=jt,l=t.contextType;return typeof l=="object"&&l!==null?l=Fe(l):(o=je(t)?Ft:fe.current,r=t.contextTypes,l=(r=r!=null)?dn(e,o):jt),t=new t(n,l),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=So,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=l),t}function Ai(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&So.enqueueReplaceState(t,t.state,null)}function Ml(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},Es(e);var l=t.contextType;typeof l=="object"&&l!==null?o.context=Fe(l):(l=je(t)?Ft:fe.current,o.context=dn(e,l)),o.state=e.memoizedState,l=t.getDerivedStateFromProps,typeof l=="function"&&(Rl(e,t,l,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&So.enqueueReplaceState(o,o.state,null),oo(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function mn(e,t){try{var n="",r=t;do n+=ed(r),r=r.return;while(r);var o=n}catch(l){o=`
Error generating stack: `+l.message+`
`+l.stack}return{value:e,source:t,stack:o,digest:null}}function el(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Al(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Pf=typeof WeakMap=="function"?WeakMap:Map;function Ku(e,t,n){n=et(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){uo||(uo=!0,Gl=r),Al(e,t)},n}function Yu(e,t,n){n=et(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){Al(e,t)}}var l=e.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(n.callback=function(){Al(e,t),typeof r!="function"&&(xt===null?xt=new Set([this]):xt.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function $i(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Pf;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=Hf.bind(null,e,t,n),t.then(e,e))}function Ui(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Bi(e,t,n,r,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=et(-1,1),t.tag=2,vt(n,t,1))),n.lanes|=1),e)}var Tf=lt.ReactCurrentOwner,ke=!1;function pe(e,t,n,r){t.child=e===null?_u(t,null,n,r):pn(t,e.child,n,r)}function Hi(e,t,n,r,o){n=n.render;var l=t.ref;return an(t,o),r=Os(e,t,n,r,l,o),n=zs(),e!==null&&!ke?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,ot(e,t,o)):(b&&n&&xs(t),t.flags|=1,pe(e,t,r,o),t.child)}function Vi(e,t,n,r,o){if(e===null){var l=n.type;return typeof l=="function"&&!Hs(l)&&l.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=l,Xu(e,t,l,r,o)):(e=Hr(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,!(e.lanes&o)){var i=l.memoizedProps;if(n=n.compare,n=n!==null?n:Yn,n(i,r)&&e.ref===t.ref)return ot(e,t,o)}return t.flags|=1,e=kt(l,r),e.ref=t.ref,e.return=t,t.child=e}function Xu(e,t,n,r,o){if(e!==null){var l=e.memoizedProps;if(Yn(l,r)&&e.ref===t.ref)if(ke=!1,t.pendingProps=r=l,(e.lanes&o)!==0)e.flags&131072&&(ke=!0);else return t.lanes=e.lanes,ot(e,t,o)}return $l(e,t,n,r,o)}function Zu(e,t,n){var r=t.pendingProps,o=r.children,l=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},H(nn,_e),_e|=n;else{if(!(n&1073741824))return e=l!==null?l.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,H(nn,_e),_e|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=l!==null?l.baseLanes:n,H(nn,_e),_e|=r}else l!==null?(r=l.baseLanes|n,t.memoizedState=null):r=n,H(nn,_e),_e|=r;return pe(e,t,o,n),t.child}function qu(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function $l(e,t,n,r,o){var l=je(n)?Ft:fe.current;return l=dn(t,l),an(t,o),n=Os(e,t,n,r,l,o),r=zs(),e!==null&&!ke?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,ot(e,t,o)):(b&&r&&xs(t),t.flags|=1,pe(e,t,n,o),t.child)}function Wi(e,t,n,r,o){if(je(n)){var l=!0;qr(t)}else l=!1;if(an(t,o),t.stateNode===null)$r(e,t),Gu(t,n,r),Ml(t,n,r,o),r=!0;else if(e===null){var i=t.stateNode,a=t.memoizedProps;i.props=a;var u=i.context,d=n.contextType;typeof d=="object"&&d!==null?d=Fe(d):(d=je(n)?Ft:fe.current,d=dn(t,d));var y=n.getDerivedStateFromProps,x=typeof y=="function"||typeof i.getSnapshotBeforeUpdate=="function";x||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==r||u!==d)&&Ai(t,i,r,d),ut=!1;var k=t.memoizedState;i.state=k,oo(t,r,i,o),u=t.memoizedState,a!==r||k!==u||Se.current||ut?(typeof y=="function"&&(Rl(t,n,y,r),u=t.memoizedState),(a=ut||Mi(t,n,a,r,k,u,d))?(x||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),i.props=r,i.state=u,i.context=d,r=a):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,Nu(e,t),a=t.memoizedProps,d=t.type===t.elementType?a:Ae(t.type,a),i.props=d,x=t.pendingProps,k=i.context,u=n.contextType,typeof u=="object"&&u!==null?u=Fe(u):(u=je(n)?Ft:fe.current,u=dn(t,u));var m=n.getDerivedStateFromProps;(y=typeof m=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==x||k!==u)&&Ai(t,i,r,u),ut=!1,k=t.memoizedState,i.state=k,oo(t,r,i,o);var p=t.memoizedState;a!==x||k!==p||Se.current||ut?(typeof m=="function"&&(Rl(t,n,m,r),p=t.memoizedState),(d=ut||Mi(t,n,d,r,k,p,u)||!1)?(y||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,p,u),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,p,u)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&k===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&k===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),i.props=r,i.state=p,i.context=u,r=d):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&k===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&k===e.memoizedState||(t.flags|=1024),r=!1)}return Ul(e,t,n,r,l,o)}function Ul(e,t,n,r,o,l){qu(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return o&&Ti(t,n,!1),ot(e,t,l);r=t.stateNode,Tf.current=t;var a=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=pn(t,e.child,null,l),t.child=pn(t,null,a,l)):pe(e,t,a,l),t.memoizedState=r.state,o&&Ti(t,n,!0),t.child}function ec(e){var t=e.stateNode;t.pendingContext?Pi(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Pi(e,t.context,!1),Ns(e,t.containerInfo)}function Qi(e,t,n,r,o){return fn(),ks(o),t.flags|=256,pe(e,t,n,r),t.child}var Bl={dehydrated:null,treeContext:null,retryLane:0};function Hl(e){return{baseLanes:e,cachePool:null,transitions:null}}function tc(e,t,n){var r=t.pendingProps,o=J.current,l=!1,i=(t.flags&128)!==0,a;if((a=i)||(a=e!==null&&e.memoizedState===null?!1:(o&2)!==0),a?(l=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),H(J,o&1),e===null)return Dl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=r.children,e=r.fallback,l?(r=t.mode,l=t.child,i={mode:"hidden",children:i},!(r&1)&&l!==null?(l.childLanes=0,l.pendingProps=i):l=_o(i,r,0,null),e=Dt(e,r,n,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=Hl(n),t.memoizedState=Bl,e):Fs(t,i));if(o=e.memoizedState,o!==null&&(a=o.dehydrated,a!==null))return Lf(e,t,i,r,a,o,n);if(l){l=r.fallback,i=t.mode,o=e.child,a=o.sibling;var u={mode:"hidden",children:r.children};return!(i&1)&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=u,t.deletions=null):(r=kt(o,u),r.subtreeFlags=o.subtreeFlags&14680064),a!==null?l=kt(a,l):(l=Dt(l,i,n,null),l.flags|=2),l.return=t,r.return=t,r.sibling=l,t.child=r,r=l,l=t.child,i=e.child.memoizedState,i=i===null?Hl(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},l.memoizedState=i,l.childLanes=e.childLanes&~n,t.memoizedState=Bl,r}return l=e.child,e=l.sibling,r=kt(l,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Fs(e,t){return t=_o({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Er(e,t,n,r){return r!==null&&ks(r),pn(t,e.child,null,n),e=Fs(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Lf(e,t,n,r,o,l,i){if(n)return t.flags&256?(t.flags&=-257,r=el(Error(E(422))),Er(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(l=r.fallback,o=t.mode,r=_o({mode:"visible",children:r.children},o,0,null),l=Dt(l,o,i,null),l.flags|=2,r.return=t,l.return=t,r.sibling=l,t.child=r,t.mode&1&&pn(t,e.child,null,i),t.child.memoizedState=Hl(i),t.memoizedState=Bl,l);if(!(t.mode&1))return Er(e,t,i,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var a=r.dgst;return r=a,l=Error(E(419)),r=el(l,r,void 0),Er(e,t,i,r)}if(a=(i&e.childLanes)!==0,ke||a){if(r=oe,r!==null){switch(i&-i){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|i)?0:o,o!==0&&o!==l.retryLane&&(l.retryLane=o,rt(e,o),He(r,e,o,-1))}return Bs(),r=el(Error(E(421))),Er(e,t,i,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=Vf.bind(null,e),o._reactRetry=t,null):(e=l.treeContext,Ee=yt(o.nextSibling),Ne=t,b=!0,Ue=null,e!==null&&(Oe[ze++]=Ze,Oe[ze++]=qe,Oe[ze++]=Rt,Ze=e.id,qe=e.overflow,Rt=t),t=Fs(t,r.children),t.flags|=4096,t)}function bi(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Fl(e.return,t,n)}function tl(e,t,n,r,o){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=r,l.tail=n,l.tailMode=o)}function nc(e,t,n){var r=t.pendingProps,o=r.revealOrder,l=r.tail;if(pe(e,t,r.children,n),r=J.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&bi(e,n,t);else if(e.tag===19)bi(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(H(J,r),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&lo(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),tl(t,!1,o,n,l);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&lo(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}tl(t,!0,n,null,l);break;case"together":tl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function $r(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ot(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),At|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(E(153));if(t.child!==null){for(e=t.child,n=kt(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=kt(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Of(e,t,n){switch(t.tag){case 3:ec(t),fn();break;case 5:Pu(t);break;case 1:je(t.type)&&qr(t);break;case 4:Ns(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;H(no,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(H(J,J.current&1),t.flags|=128,null):n&t.child.childLanes?tc(e,t,n):(H(J,J.current&1),e=ot(e,t,n),e!==null?e.sibling:null);H(J,J.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return nc(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),H(J,J.current),r)break;return null;case 22:case 23:return t.lanes=0,Zu(e,t,n)}return ot(e,t,n)}var rc,Vl,oc,lc;rc=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Vl=function(){};oc=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,zt(Ke.current);var l=null;switch(n){case"input":o=dl(e,o),r=dl(e,r),l=[];break;case"select":o=K({},o,{value:void 0}),r=K({},r,{value:void 0}),l=[];break;case"textarea":o=hl(e,o),r=hl(e,r),l=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Xr)}gl(n,r);var i;n=null;for(d in o)if(!r.hasOwnProperty(d)&&o.hasOwnProperty(d)&&o[d]!=null)if(d==="style"){var a=o[d];for(i in a)a.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Vn.hasOwnProperty(d)?l||(l=[]):(l=l||[]).push(d,null));for(d in r){var u=r[d];if(a=o!=null?o[d]:void 0,r.hasOwnProperty(d)&&u!==a&&(u!=null||a!=null))if(d==="style")if(a){for(i in a)!a.hasOwnProperty(i)||u&&u.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in u)u.hasOwnProperty(i)&&a[i]!==u[i]&&(n||(n={}),n[i]=u[i])}else n||(l||(l=[]),l.push(d,n)),n=u;else d==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(l=l||[]).push(d,u)):d==="children"?typeof u!="string"&&typeof u!="number"||(l=l||[]).push(d,""+u):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Vn.hasOwnProperty(d)?(u!=null&&d==="onScroll"&&W("scroll",e),l||a===u||(l=[])):(l=l||[]).push(d,u))}n&&(l=l||[]).push("style",n);var d=l;(t.updateQueue=d)&&(t.flags|=4)}};lc=function(e,t,n,r){n!==r&&(t.flags|=4)};function Nn(e,t){if(!b)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ce(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function zf(e,t,n){var r=t.pendingProps;switch(ws(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ce(t),null;case 1:return je(t.type)&&Zr(),ce(t),null;case 3:return r=t.stateNode,hn(),Q(Se),Q(fe),Ts(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Cr(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ue!==null&&(Xl(Ue),Ue=null))),Vl(e,t),ce(t),null;case 5:Ps(t);var o=zt(tr.current);if(n=t.type,e!==null&&t.stateNode!=null)oc(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(E(166));return ce(t),null}if(e=zt(Ke.current),Cr(t)){r=t.stateNode,n=t.type;var l=t.memoizedProps;switch(r[Je]=t,r[qn]=l,e=(t.mode&1)!==0,n){case"dialog":W("cancel",r),W("close",r);break;case"iframe":case"object":case"embed":W("load",r);break;case"video":case"audio":for(o=0;o<In.length;o++)W(In[o],r);break;case"source":W("error",r);break;case"img":case"image":case"link":W("error",r),W("load",r);break;case"details":W("toggle",r);break;case"input":ti(r,l),W("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!l.multiple},W("invalid",r);break;case"textarea":ri(r,l),W("invalid",r)}gl(n,l),o=null;for(var i in l)if(l.hasOwnProperty(i)){var a=l[i];i==="children"?typeof a=="string"?r.textContent!==a&&(l.suppressHydrationWarning!==!0&&jr(r.textContent,a,e),o=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(l.suppressHydrationWarning!==!0&&jr(r.textContent,a,e),o=["children",""+a]):Vn.hasOwnProperty(i)&&a!=null&&i==="onScroll"&&W("scroll",r)}switch(n){case"input":mr(r),ni(r,l,!0);break;case"textarea":mr(r),oi(r);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(r.onclick=Xr)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Ia(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),n==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[Je]=t,e[qn]=r,rc(e,t,!1,!1),t.stateNode=e;e:{switch(i=yl(n,r),n){case"dialog":W("cancel",e),W("close",e),o=r;break;case"iframe":case"object":case"embed":W("load",e),o=r;break;case"video":case"audio":for(o=0;o<In.length;o++)W(In[o],e);o=r;break;case"source":W("error",e),o=r;break;case"img":case"image":case"link":W("error",e),W("load",e),o=r;break;case"details":W("toggle",e),o=r;break;case"input":ti(e,r),o=dl(e,r),W("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=K({},r,{value:void 0}),W("invalid",e);break;case"textarea":ri(e,r),o=hl(e,r),W("invalid",e);break;default:o=r}gl(n,o),a=o;for(l in a)if(a.hasOwnProperty(l)){var u=a[l];l==="style"?Ra(e,u):l==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Da(e,u)):l==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Wn(e,u):typeof u=="number"&&Wn(e,""+u):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Vn.hasOwnProperty(l)?u!=null&&l==="onScroll"&&W("scroll",e):u!=null&&ls(e,l,u,i))}switch(n){case"input":mr(e),ni(e,r,!1);break;case"textarea":mr(e),oi(e);break;case"option":r.value!=null&&e.setAttribute("value",""+St(r.value));break;case"select":e.multiple=!!r.multiple,l=r.value,l!=null?rn(e,!!r.multiple,l,!1):r.defaultValue!=null&&rn(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=Xr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ce(t),null;case 6:if(e&&t.stateNode!=null)lc(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(E(166));if(n=zt(tr.current),zt(Ke.current),Cr(t)){if(r=t.stateNode,n=t.memoizedProps,r[Je]=t,(l=r.nodeValue!==n)&&(e=Ne,e!==null))switch(e.tag){case 3:jr(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&jr(r.nodeValue,n,(e.mode&1)!==0)}l&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Je]=t,t.stateNode=r}return ce(t),null;case 13:if(Q(J),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(b&&Ee!==null&&t.mode&1&&!(t.flags&128))ju(),fn(),t.flags|=98560,l=!1;else if(l=Cr(t),r!==null&&r.dehydrated!==null){if(e===null){if(!l)throw Error(E(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(E(317));l[Je]=t}else fn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ce(t),l=!1}else Ue!==null&&(Xl(Ue),Ue=null),l=!0;if(!l)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||J.current&1?ne===0&&(ne=3):Bs())),t.updateQueue!==null&&(t.flags|=4),ce(t),null);case 4:return hn(),Vl(e,t),e===null&&Xn(t.stateNode.containerInfo),ce(t),null;case 10:return Cs(t.type._context),ce(t),null;case 17:return je(t.type)&&Zr(),ce(t),null;case 19:if(Q(J),l=t.memoizedState,l===null)return ce(t),null;if(r=(t.flags&128)!==0,i=l.rendering,i===null)if(r)Nn(l,!1);else{if(ne!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=lo(e),i!==null){for(t.flags|=128,Nn(l,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)l=n,e=r,l.flags&=14680066,i=l.alternate,i===null?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,l.type=i.type,e=i.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return H(J,J.current&1|2),t.child}e=e.sibling}l.tail!==null&&X()>gn&&(t.flags|=128,r=!0,Nn(l,!1),t.lanes=4194304)}else{if(!r)if(e=lo(i),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Nn(l,!0),l.tail===null&&l.tailMode==="hidden"&&!i.alternate&&!b)return ce(t),null}else 2*X()-l.renderingStartTime>gn&&n!==1073741824&&(t.flags|=128,r=!0,Nn(l,!1),t.lanes=4194304);l.isBackwards?(i.sibling=t.child,t.child=i):(n=l.last,n!==null?n.sibling=i:t.child=i,l.last=i)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=X(),t.sibling=null,n=J.current,H(J,r?n&1|2:n&1),t):(ce(t),null);case 22:case 23:return Us(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?_e&1073741824&&(ce(t),t.subtreeFlags&6&&(t.flags|=8192)):ce(t),null;case 24:return null;case 25:return null}throw Error(E(156,t.tag))}function If(e,t){switch(ws(t),t.tag){case 1:return je(t.type)&&Zr(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return hn(),Q(Se),Q(fe),Ts(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ps(t),null;case 13:if(Q(J),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(E(340));fn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Q(J),null;case 4:return hn(),null;case 10:return Cs(t.type._context),null;case 22:case 23:return Us(),null;case 24:return null;default:return null}}var Nr=!1,de=!1,Df=typeof WeakSet=="function"?WeakSet:Set,L=null;function tn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Y(e,t,r)}else n.current=null}function Wl(e,t,n){try{n()}catch(r){Y(e,t,r)}}var Ji=!1;function Ff(e,t){if(Nl=Gr,e=cu(),vs(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,l=r.focusNode;r=r.focusOffset;try{n.nodeType,l.nodeType}catch{n=null;break e}var i=0,a=-1,u=-1,d=0,y=0,x=e,k=null;t:for(;;){for(var m;x!==n||o!==0&&x.nodeType!==3||(a=i+o),x!==l||r!==0&&x.nodeType!==3||(u=i+r),x.nodeType===3&&(i+=x.nodeValue.length),(m=x.firstChild)!==null;)k=x,x=m;for(;;){if(x===e)break t;if(k===n&&++d===o&&(a=i),k===l&&++y===r&&(u=i),(m=x.nextSibling)!==null)break;x=k,k=x.parentNode}x=m}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Pl={focusedElem:e,selectionRange:n},Gr=!1,L=t;L!==null;)if(t=L,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,L=e;else for(;L!==null;){t=L;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var C=p.memoizedProps,I=p.memoizedState,h=t.stateNode,f=h.getSnapshotBeforeUpdate(t.elementType===t.type?C:Ae(t.type,C),I);h.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(E(163))}}catch(w){Y(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,L=e;break}L=t.return}return p=Ji,Ji=!1,p}function Un(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var l=o.destroy;o.destroy=void 0,l!==void 0&&Wl(t,n,l)}o=o.next}while(o!==r)}}function jo(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Ql(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function sc(e){var t=e.alternate;t!==null&&(e.alternate=null,sc(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Je],delete t[qn],delete t[Ol],delete t[yf],delete t[vf])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ic(e){return e.tag===5||e.tag===3||e.tag===4}function Gi(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ic(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function bl(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Xr));else if(r!==4&&(e=e.child,e!==null))for(bl(e,t,n),e=e.sibling;e!==null;)bl(e,t,n),e=e.sibling}function Jl(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Jl(e,t,n),e=e.sibling;e!==null;)Jl(e,t,n),e=e.sibling}var se=null,$e=!1;function it(e,t,n){for(n=n.child;n!==null;)ac(e,t,n),n=n.sibling}function ac(e,t,n){if(Ge&&typeof Ge.onCommitFiberUnmount=="function")try{Ge.onCommitFiberUnmount(mo,n)}catch{}switch(n.tag){case 5:de||tn(n,t);case 6:var r=se,o=$e;se=null,it(e,t,n),se=r,$e=o,se!==null&&($e?(e=se,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):se.removeChild(n.stateNode));break;case 18:se!==null&&($e?(e=se,n=n.stateNode,e.nodeType===8?Go(e.parentNode,n):e.nodeType===1&&Go(e,n),Gn(e)):Go(se,n.stateNode));break;case 4:r=se,o=$e,se=n.stateNode.containerInfo,$e=!0,it(e,t,n),se=r,$e=o;break;case 0:case 11:case 14:case 15:if(!de&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var l=o,i=l.destroy;l=l.tag,i!==void 0&&(l&2||l&4)&&Wl(n,t,i),o=o.next}while(o!==r)}it(e,t,n);break;case 1:if(!de&&(tn(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Y(n,t,a)}it(e,t,n);break;case 21:it(e,t,n);break;case 22:n.mode&1?(de=(r=de)||n.memoizedState!==null,it(e,t,n),de=r):it(e,t,n);break;default:it(e,t,n)}}function Ki(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Df),t.forEach(function(r){var o=Wf.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function Me(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var l=e,i=t,a=i;e:for(;a!==null;){switch(a.tag){case 5:se=a.stateNode,$e=!1;break e;case 3:se=a.stateNode.containerInfo,$e=!0;break e;case 4:se=a.stateNode.containerInfo,$e=!0;break e}a=a.return}if(se===null)throw Error(E(160));ac(l,i,o),se=null,$e=!1;var u=o.alternate;u!==null&&(u.return=null),o.return=null}catch(d){Y(o,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)uc(t,e),t=t.sibling}function uc(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Me(t,e),Qe(e),r&4){try{Un(3,e,e.return),jo(3,e)}catch(C){Y(e,e.return,C)}try{Un(5,e,e.return)}catch(C){Y(e,e.return,C)}}break;case 1:Me(t,e),Qe(e),r&512&&n!==null&&tn(n,n.return);break;case 5:if(Me(t,e),Qe(e),r&512&&n!==null&&tn(n,n.return),e.flags&32){var o=e.stateNode;try{Wn(o,"")}catch(C){Y(e,e.return,C)}}if(r&4&&(o=e.stateNode,o!=null)){var l=e.memoizedProps,i=n!==null?n.memoizedProps:l,a=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{a==="input"&&l.type==="radio"&&l.name!=null&&Oa(o,l),yl(a,i);var d=yl(a,l);for(i=0;i<u.length;i+=2){var y=u[i],x=u[i+1];y==="style"?Ra(o,x):y==="dangerouslySetInnerHTML"?Da(o,x):y==="children"?Wn(o,x):ls(o,y,x,d)}switch(a){case"input":fl(o,l);break;case"textarea":za(o,l);break;case"select":var k=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!l.multiple;var m=l.value;m!=null?rn(o,!!l.multiple,m,!1):k!==!!l.multiple&&(l.defaultValue!=null?rn(o,!!l.multiple,l.defaultValue,!0):rn(o,!!l.multiple,l.multiple?[]:"",!1))}o[qn]=l}catch(C){Y(e,e.return,C)}}break;case 6:if(Me(t,e),Qe(e),r&4){if(e.stateNode===null)throw Error(E(162));o=e.stateNode,l=e.memoizedProps;try{o.nodeValue=l}catch(C){Y(e,e.return,C)}}break;case 3:if(Me(t,e),Qe(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Gn(t.containerInfo)}catch(C){Y(e,e.return,C)}break;case 4:Me(t,e),Qe(e);break;case 13:Me(t,e),Qe(e),o=e.child,o.flags&8192&&(l=o.memoizedState!==null,o.stateNode.isHidden=l,!l||o.alternate!==null&&o.alternate.memoizedState!==null||(As=X())),r&4&&Ki(e);break;case 22:if(y=n!==null&&n.memoizedState!==null,e.mode&1?(de=(d=de)||y,Me(t,e),de=d):Me(t,e),Qe(e),r&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!y&&e.mode&1)for(L=e,y=e.child;y!==null;){for(x=L=y;L!==null;){switch(k=L,m=k.child,k.tag){case 0:case 11:case 14:case 15:Un(4,k,k.return);break;case 1:tn(k,k.return);var p=k.stateNode;if(typeof p.componentWillUnmount=="function"){r=k,n=k.return;try{t=r,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(C){Y(r,n,C)}}break;case 5:tn(k,k.return);break;case 22:if(k.memoizedState!==null){Xi(x);continue}}m!==null?(m.return=k,L=m):Xi(x)}y=y.sibling}e:for(y=null,x=e;;){if(x.tag===5){if(y===null){y=x;try{o=x.stateNode,d?(l=o.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(a=x.stateNode,u=x.memoizedProps.style,i=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=Fa("display",i))}catch(C){Y(e,e.return,C)}}}else if(x.tag===6){if(y===null)try{x.stateNode.nodeValue=d?"":x.memoizedProps}catch(C){Y(e,e.return,C)}}else if((x.tag!==22&&x.tag!==23||x.memoizedState===null||x===e)&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===e)break e;for(;x.sibling===null;){if(x.return===null||x.return===e)break e;y===x&&(y=null),x=x.return}y===x&&(y=null),x.sibling.return=x.return,x=x.sibling}}break;case 19:Me(t,e),Qe(e),r&4&&Ki(e);break;case 21:break;default:Me(t,e),Qe(e)}}function Qe(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(ic(n)){var r=n;break e}n=n.return}throw Error(E(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(Wn(o,""),r.flags&=-33);var l=Gi(e);Jl(e,l,o);break;case 3:case 4:var i=r.stateNode.containerInfo,a=Gi(e);bl(e,a,i);break;default:throw Error(E(161))}}catch(u){Y(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Rf(e,t,n){L=e,cc(e)}function cc(e,t,n){for(var r=(e.mode&1)!==0;L!==null;){var o=L,l=o.child;if(o.tag===22&&r){var i=o.memoizedState!==null||Nr;if(!i){var a=o.alternate,u=a!==null&&a.memoizedState!==null||de;a=Nr;var d=de;if(Nr=i,(de=u)&&!d)for(L=o;L!==null;)i=L,u=i.child,i.tag===22&&i.memoizedState!==null?Zi(o):u!==null?(u.return=i,L=u):Zi(o);for(;l!==null;)L=l,cc(l),l=l.sibling;L=o,Nr=a,de=d}Yi(e)}else o.subtreeFlags&8772&&l!==null?(l.return=o,L=l):Yi(e)}}function Yi(e){for(;L!==null;){var t=L;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:de||jo(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!de)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:Ae(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;l!==null&&Di(t,l,r);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Di(t,i,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var y=d.memoizedState;if(y!==null){var x=y.dehydrated;x!==null&&Gn(x)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(E(163))}de||t.flags&512&&Ql(t)}catch(k){Y(t,t.return,k)}}if(t===e){L=null;break}if(n=t.sibling,n!==null){n.return=t.return,L=n;break}L=t.return}}function Xi(e){for(;L!==null;){var t=L;if(t===e){L=null;break}var n=t.sibling;if(n!==null){n.return=t.return,L=n;break}L=t.return}}function Zi(e){for(;L!==null;){var t=L;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{jo(4,t)}catch(u){Y(t,n,u)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(u){Y(t,o,u)}}var l=t.return;try{Ql(t)}catch(u){Y(t,l,u)}break;case 5:var i=t.return;try{Ql(t)}catch(u){Y(t,i,u)}}}catch(u){Y(t,t.return,u)}if(t===e){L=null;break}var a=t.sibling;if(a!==null){a.return=t.return,L=a;break}L=t.return}}var Mf=Math.ceil,ao=lt.ReactCurrentDispatcher,Rs=lt.ReactCurrentOwner,De=lt.ReactCurrentBatchConfig,A=0,oe=null,ee=null,ie=0,_e=0,nn=_t(0),ne=0,lr=null,At=0,Co=0,Ms=0,Bn=null,xe=null,As=0,gn=1/0,Ye=null,uo=!1,Gl=null,xt=null,Pr=!1,pt=null,co=0,Hn=0,Kl=null,Ur=-1,Br=0;function he(){return A&6?X():Ur!==-1?Ur:Ur=X()}function wt(e){return e.mode&1?A&2&&ie!==0?ie&-ie:wf.transition!==null?(Br===0&&(Br=Ga()),Br):(e=U,e!==0||(e=window.event,e=e===void 0?16:tu(e.type)),e):1}function He(e,t,n,r){if(50<Hn)throw Hn=0,Kl=null,Error(E(185));ir(e,n,r),(!(A&2)||e!==oe)&&(e===oe&&(!(A&2)&&(Co|=n),ne===4&&dt(e,ie)),Ce(e,r),n===1&&A===0&&!(t.mode&1)&&(gn=X()+500,wo&&Et()))}function Ce(e,t){var n=e.callbackNode;xd(e,t);var r=Jr(e,e===oe?ie:0);if(r===0)n!==null&&ii(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&ii(n),t===1)e.tag===0?xf(qi.bind(null,e)):wu(qi.bind(null,e)),mf(function(){!(A&6)&&Et()}),n=null;else{switch(Ka(r)){case 1:n=cs;break;case 4:n=ba;break;case 16:n=br;break;case 536870912:n=Ja;break;default:n=br}n=vc(n,dc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function dc(e,t){if(Ur=-1,Br=0,A&6)throw Error(E(327));var n=e.callbackNode;if(un()&&e.callbackNode!==n)return null;var r=Jr(e,e===oe?ie:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=fo(e,r);else{t=r;var o=A;A|=2;var l=pc();(oe!==e||ie!==t)&&(Ye=null,gn=X()+500,It(e,t));do try{Uf();break}catch(a){fc(e,a)}while(1);js(),ao.current=l,A=o,ee!==null?t=0:(oe=null,ie=0,t=ne)}if(t!==0){if(t===2&&(o=Sl(e),o!==0&&(r=o,t=Yl(e,o))),t===1)throw n=lr,It(e,0),dt(e,r),Ce(e,X()),n;if(t===6)dt(e,r);else{if(o=e.current.alternate,!(r&30)&&!Af(o)&&(t=fo(e,r),t===2&&(l=Sl(e),l!==0&&(r=l,t=Yl(e,l))),t===1))throw n=lr,It(e,0),dt(e,r),Ce(e,X()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(E(345));case 2:Tt(e,xe,Ye);break;case 3:if(dt(e,r),(r&130023424)===r&&(t=As+500-X(),10<t)){if(Jr(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){he(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=Ll(Tt.bind(null,e,xe,Ye),t);break}Tt(e,xe,Ye);break;case 4:if(dt(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var i=31-Be(r);l=1<<i,i=t[i],i>o&&(o=i),r&=~l}if(r=o,r=X()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Mf(r/1960))-r,10<r){e.timeoutHandle=Ll(Tt.bind(null,e,xe,Ye),r);break}Tt(e,xe,Ye);break;case 5:Tt(e,xe,Ye);break;default:throw Error(E(329))}}}return Ce(e,X()),e.callbackNode===n?dc.bind(null,e):null}function Yl(e,t){var n=Bn;return e.current.memoizedState.isDehydrated&&(It(e,t).flags|=256),e=fo(e,t),e!==2&&(t=xe,xe=n,t!==null&&Xl(t)),e}function Xl(e){xe===null?xe=e:xe.push.apply(xe,e)}function Af(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],l=o.getSnapshot;o=o.value;try{if(!Ve(l(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function dt(e,t){for(t&=~Ms,t&=~Co,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Be(t),r=1<<n;e[n]=-1,t&=~r}}function qi(e){if(A&6)throw Error(E(327));un();var t=Jr(e,0);if(!(t&1))return Ce(e,X()),null;var n=fo(e,t);if(e.tag!==0&&n===2){var r=Sl(e);r!==0&&(t=r,n=Yl(e,r))}if(n===1)throw n=lr,It(e,0),dt(e,t),Ce(e,X()),n;if(n===6)throw Error(E(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Tt(e,xe,Ye),Ce(e,X()),null}function $s(e,t){var n=A;A|=1;try{return e(t)}finally{A=n,A===0&&(gn=X()+500,wo&&Et())}}function $t(e){pt!==null&&pt.tag===0&&!(A&6)&&un();var t=A;A|=1;var n=De.transition,r=U;try{if(De.transition=null,U=1,e)return e()}finally{U=r,De.transition=n,A=t,!(A&6)&&Et()}}function Us(){_e=nn.current,Q(nn)}function It(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,hf(n)),ee!==null)for(n=ee.return;n!==null;){var r=n;switch(ws(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Zr();break;case 3:hn(),Q(Se),Q(fe),Ts();break;case 5:Ps(r);break;case 4:hn();break;case 13:Q(J);break;case 19:Q(J);break;case 10:Cs(r.type._context);break;case 22:case 23:Us()}n=n.return}if(oe=e,ee=e=kt(e.current,null),ie=_e=t,ne=0,lr=null,Ms=Co=At=0,xe=Bn=null,Ot!==null){for(t=0;t<Ot.length;t++)if(n=Ot[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,l=n.pending;if(l!==null){var i=l.next;l.next=o,r.next=i}n.pending=r}Ot=null}return e}function fc(e,t){do{var n=ee;try{if(js(),Mr.current=io,so){for(var r=G.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}so=!1}if(Mt=0,re=te=G=null,$n=!1,nr=0,Rs.current=null,n===null||n.return===null){ne=1,lr=t,ee=null;break}e:{var l=e,i=n.return,a=n,u=t;if(t=ie,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var d=u,y=a,x=y.tag;if(!(y.mode&1)&&(x===0||x===11||x===15)){var k=y.alternate;k?(y.updateQueue=k.updateQueue,y.memoizedState=k.memoizedState,y.lanes=k.lanes):(y.updateQueue=null,y.memoizedState=null)}var m=Ui(i);if(m!==null){m.flags&=-257,Bi(m,i,a,l,t),m.mode&1&&$i(l,d,t),t=m,u=d;var p=t.updateQueue;if(p===null){var C=new Set;C.add(u),t.updateQueue=C}else p.add(u);break e}else{if(!(t&1)){$i(l,d,t),Bs();break e}u=Error(E(426))}}else if(b&&a.mode&1){var I=Ui(i);if(I!==null){!(I.flags&65536)&&(I.flags|=256),Bi(I,i,a,l,t),ks(mn(u,a));break e}}l=u=mn(u,a),ne!==4&&(ne=2),Bn===null?Bn=[l]:Bn.push(l),l=i;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t;var h=Ku(l,u,t);Ii(l,h);break e;case 1:a=u;var f=l.type,g=l.stateNode;if(!(l.flags&128)&&(typeof f.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(xt===null||!xt.has(g)))){l.flags|=65536,t&=-t,l.lanes|=t;var w=Yu(l,a,t);Ii(l,w);break e}}l=l.return}while(l!==null)}mc(n)}catch(j){t=j,ee===n&&n!==null&&(ee=n=n.return);continue}break}while(1)}function pc(){var e=ao.current;return ao.current=io,e===null?io:e}function Bs(){(ne===0||ne===3||ne===2)&&(ne=4),oe===null||!(At&268435455)&&!(Co&268435455)||dt(oe,ie)}function fo(e,t){var n=A;A|=2;var r=pc();(oe!==e||ie!==t)&&(Ye=null,It(e,t));do try{$f();break}catch(o){fc(e,o)}while(1);if(js(),A=n,ao.current=r,ee!==null)throw Error(E(261));return oe=null,ie=0,ne}function $f(){for(;ee!==null;)hc(ee)}function Uf(){for(;ee!==null&&!cd();)hc(ee)}function hc(e){var t=yc(e.alternate,e,_e);e.memoizedProps=e.pendingProps,t===null?mc(e):ee=t,Rs.current=null}function mc(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=If(n,t),n!==null){n.flags&=32767,ee=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ne=6,ee=null;return}}else if(n=zf(n,t,_e),n!==null){ee=n;return}if(t=t.sibling,t!==null){ee=t;return}ee=t=e}while(t!==null);ne===0&&(ne=5)}function Tt(e,t,n){var r=U,o=De.transition;try{De.transition=null,U=1,Bf(e,t,n,r)}finally{De.transition=o,U=r}return null}function Bf(e,t,n,r){do un();while(pt!==null);if(A&6)throw Error(E(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(E(177));e.callbackNode=null,e.callbackPriority=0;var l=n.lanes|n.childLanes;if(wd(e,l),e===oe&&(ee=oe=null,ie=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Pr||(Pr=!0,vc(br,function(){return un(),null})),l=(n.flags&15990)!==0,n.subtreeFlags&15990||l){l=De.transition,De.transition=null;var i=U;U=1;var a=A;A|=4,Rs.current=null,Ff(e,n),uc(n,e),sf(Pl),Gr=!!Nl,Pl=Nl=null,e.current=n,Rf(n),dd(),A=a,U=i,De.transition=l}else e.current=n;if(Pr&&(Pr=!1,pt=e,co=o),l=e.pendingLanes,l===0&&(xt=null),hd(n.stateNode),Ce(e,X()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(uo)throw uo=!1,e=Gl,Gl=null,e;return co&1&&e.tag!==0&&un(),l=e.pendingLanes,l&1?e===Kl?Hn++:(Hn=0,Kl=e):Hn=0,Et(),null}function un(){if(pt!==null){var e=Ka(co),t=De.transition,n=U;try{if(De.transition=null,U=16>e?16:e,pt===null)var r=!1;else{if(e=pt,pt=null,co=0,A&6)throw Error(E(331));var o=A;for(A|=4,L=e.current;L!==null;){var l=L,i=l.child;if(L.flags&16){var a=l.deletions;if(a!==null){for(var u=0;u<a.length;u++){var d=a[u];for(L=d;L!==null;){var y=L;switch(y.tag){case 0:case 11:case 15:Un(8,y,l)}var x=y.child;if(x!==null)x.return=y,L=x;else for(;L!==null;){y=L;var k=y.sibling,m=y.return;if(sc(y),y===d){L=null;break}if(k!==null){k.return=m,L=k;break}L=m}}}var p=l.alternate;if(p!==null){var C=p.child;if(C!==null){p.child=null;do{var I=C.sibling;C.sibling=null,C=I}while(C!==null)}}L=l}}if(l.subtreeFlags&2064&&i!==null)i.return=l,L=i;else e:for(;L!==null;){if(l=L,l.flags&2048)switch(l.tag){case 0:case 11:case 15:Un(9,l,l.return)}var h=l.sibling;if(h!==null){h.return=l.return,L=h;break e}L=l.return}}var f=e.current;for(L=f;L!==null;){i=L;var g=i.child;if(i.subtreeFlags&2064&&g!==null)g.return=i,L=g;else e:for(i=f;L!==null;){if(a=L,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:jo(9,a)}}catch(j){Y(a,a.return,j)}if(a===i){L=null;break e}var w=a.sibling;if(w!==null){w.return=a.return,L=w;break e}L=a.return}}if(A=o,Et(),Ge&&typeof Ge.onPostCommitFiberRoot=="function")try{Ge.onPostCommitFiberRoot(mo,e)}catch{}r=!0}return r}finally{U=n,De.transition=t}}return!1}function ea(e,t,n){t=mn(n,t),t=Ku(e,t,1),e=vt(e,t,1),t=he(),e!==null&&(ir(e,1,t),Ce(e,t))}function Y(e,t,n){if(e.tag===3)ea(e,e,n);else for(;t!==null;){if(t.tag===3){ea(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(xt===null||!xt.has(r))){e=mn(n,e),e=Yu(t,e,1),t=vt(t,e,1),e=he(),t!==null&&(ir(t,1,e),Ce(t,e));break}}t=t.return}}function Hf(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=he(),e.pingedLanes|=e.suspendedLanes&n,oe===e&&(ie&n)===n&&(ne===4||ne===3&&(ie&130023424)===ie&&500>X()-As?It(e,0):Ms|=n),Ce(e,t)}function gc(e,t){t===0&&(e.mode&1?(t=vr,vr<<=1,!(vr&130023424)&&(vr=4194304)):t=1);var n=he();e=rt(e,t),e!==null&&(ir(e,t,n),Ce(e,n))}function Vf(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),gc(e,n)}function Wf(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(E(314))}r!==null&&r.delete(t),gc(e,n)}var yc;yc=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Se.current)ke=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return ke=!1,Of(e,t,n);ke=!!(e.flags&131072)}else ke=!1,b&&t.flags&1048576&&ku(t,to,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;$r(e,t),e=t.pendingProps;var o=dn(t,fe.current);an(t,n),o=Os(null,t,r,e,o,n);var l=zs();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,je(r)?(l=!0,qr(t)):l=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,Es(t),o.updater=So,t.stateNode=o,o._reactInternals=t,Ml(t,r,e,n),t=Ul(null,t,r,!0,l,n)):(t.tag=0,b&&l&&xs(t),pe(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch($r(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=bf(r),e=Ae(r,e),o){case 0:t=$l(null,t,r,e,n);break e;case 1:t=Wi(null,t,r,e,n);break e;case 11:t=Hi(null,t,r,e,n);break e;case 14:t=Vi(null,t,r,Ae(r.type,e),n);break e}throw Error(E(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Ae(r,o),$l(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Ae(r,o),Wi(e,t,r,o,n);case 3:e:{if(ec(t),e===null)throw Error(E(387));r=t.pendingProps,l=t.memoizedState,o=l.element,Nu(e,t),oo(t,r,null,n);var i=t.memoizedState;if(r=i.element,l.isDehydrated)if(l={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){o=mn(Error(E(423)),t),t=Qi(e,t,r,n,o);break e}else if(r!==o){o=mn(Error(E(424)),t),t=Qi(e,t,r,n,o);break e}else for(Ee=yt(t.stateNode.containerInfo.firstChild),Ne=t,b=!0,Ue=null,n=_u(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(fn(),r===o){t=ot(e,t,n);break e}pe(e,t,r,n)}t=t.child}return t;case 5:return Pu(t),e===null&&Dl(t),r=t.type,o=t.pendingProps,l=e!==null?e.memoizedProps:null,i=o.children,Tl(r,o)?i=null:l!==null&&Tl(r,l)&&(t.flags|=32),qu(e,t),pe(e,t,i,n),t.child;case 6:return e===null&&Dl(t),null;case 13:return tc(e,t,n);case 4:return Ns(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=pn(t,null,r,n):pe(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Ae(r,o),Hi(e,t,r,o,n);case 7:return pe(e,t,t.pendingProps,n),t.child;case 8:return pe(e,t,t.pendingProps.children,n),t.child;case 12:return pe(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,l=t.memoizedProps,i=o.value,H(no,r._currentValue),r._currentValue=i,l!==null)if(Ve(l.value,i)){if(l.children===o.children&&!Se.current){t=ot(e,t,n);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var a=l.dependencies;if(a!==null){i=l.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(l.tag===1){u=et(-1,n&-n),u.tag=2;var d=l.updateQueue;if(d!==null){d=d.shared;var y=d.pending;y===null?u.next=u:(u.next=y.next,y.next=u),d.pending=u}}l.lanes|=n,u=l.alternate,u!==null&&(u.lanes|=n),Fl(l.return,n,t),a.lanes|=n;break}u=u.next}}else if(l.tag===10)i=l.type===t.type?null:l.child;else if(l.tag===18){if(i=l.return,i===null)throw Error(E(341));i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),Fl(i,n,t),i=l.sibling}else i=l.child;if(i!==null)i.return=l;else for(i=l;i!==null;){if(i===t){i=null;break}if(l=i.sibling,l!==null){l.return=i.return,i=l;break}i=i.return}l=i}pe(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,an(t,n),o=Fe(o),r=r(o),t.flags|=1,pe(e,t,r,n),t.child;case 14:return r=t.type,o=Ae(r,t.pendingProps),o=Ae(r.type,o),Vi(e,t,r,o,n);case 15:return Xu(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Ae(r,o),$r(e,t),t.tag=1,je(r)?(e=!0,qr(t)):e=!1,an(t,n),Gu(t,r,o),Ml(t,r,o,n),Ul(null,t,r,!0,e,n);case 19:return nc(e,t,n);case 22:return Zu(e,t,n)}throw Error(E(156,t.tag))};function vc(e,t){return Qa(e,t)}function Qf(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ie(e,t,n,r){return new Qf(e,t,n,r)}function Hs(e){return e=e.prototype,!(!e||!e.isReactComponent)}function bf(e){if(typeof e=="function")return Hs(e)?1:0;if(e!=null){if(e=e.$$typeof,e===is)return 11;if(e===as)return 14}return 2}function kt(e,t){var n=e.alternate;return n===null?(n=Ie(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Hr(e,t,n,r,o,l){var i=2;if(r=e,typeof e=="function")Hs(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case bt:return Dt(n.children,o,l,t);case ss:i=8,o|=8;break;case il:return e=Ie(12,n,t,o|2),e.elementType=il,e.lanes=l,e;case al:return e=Ie(13,n,t,o),e.elementType=al,e.lanes=l,e;case ul:return e=Ie(19,n,t,o),e.elementType=ul,e.lanes=l,e;case Pa:return _o(n,o,l,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ea:i=10;break e;case Na:i=9;break e;case is:i=11;break e;case as:i=14;break e;case at:i=16,r=null;break e}throw Error(E(130,e==null?e:typeof e,""))}return t=Ie(i,n,t,o),t.elementType=e,t.type=r,t.lanes=l,t}function Dt(e,t,n,r){return e=Ie(7,e,r,t),e.lanes=n,e}function _o(e,t,n,r){return e=Ie(22,e,r,t),e.elementType=Pa,e.lanes=n,e.stateNode={isHidden:!1},e}function nl(e,t,n){return e=Ie(6,e,null,t),e.lanes=n,e}function rl(e,t,n){return t=Ie(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Jf(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Mo(0),this.expirationTimes=Mo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mo(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Vs(e,t,n,r,o,l,i,a,u){return e=new Jf(e,t,n,a,u),t===1?(t=1,l===!0&&(t|=8)):t=0,l=Ie(3,null,null,t),e.current=l,l.stateNode=e,l.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Es(l),e}function Gf(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Qt,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function xc(e){if(!e)return jt;e=e._reactInternals;e:{if(Bt(e)!==e||e.tag!==1)throw Error(E(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(je(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(E(171))}if(e.tag===1){var n=e.type;if(je(n))return xu(e,n,t)}return t}function wc(e,t,n,r,o,l,i,a,u){return e=Vs(n,r,!0,e,o,l,i,a,u),e.context=xc(null),n=e.current,r=he(),o=wt(n),l=et(r,o),l.callback=t??null,vt(n,l,o),e.current.lanes=o,ir(e,o,r),Ce(e,r),e}function Eo(e,t,n,r){var o=t.current,l=he(),i=wt(o);return n=xc(n),t.context===null?t.context=n:t.pendingContext=n,t=et(l,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=vt(o,t,i),e!==null&&(He(e,o,i,l),Rr(e,o,i)),i}function po(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function ta(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Ws(e,t){ta(e,t),(e=e.alternate)&&ta(e,t)}function Kf(){return null}var kc=typeof reportError=="function"?reportError:function(e){console.error(e)};function Qs(e){this._internalRoot=e}No.prototype.render=Qs.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(E(409));Eo(e,t,null,null)};No.prototype.unmount=Qs.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;$t(function(){Eo(null,e,null,null)}),t[nt]=null}};function No(e){this._internalRoot=e}No.prototype.unstable_scheduleHydration=function(e){if(e){var t=Za();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ct.length&&t!==0&&t<ct[n].priority;n++);ct.splice(n,0,e),n===0&&eu(e)}};function bs(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Po(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function na(){}function Yf(e,t,n,r,o){if(o){if(typeof r=="function"){var l=r;r=function(){var d=po(i);l.call(d)}}var i=wc(t,r,e,0,null,!1,!1,"",na);return e._reactRootContainer=i,e[nt]=i.current,Xn(e.nodeType===8?e.parentNode:e),$t(),i}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var a=r;r=function(){var d=po(u);a.call(d)}}var u=Vs(e,0,!1,null,null,!1,!1,"",na);return e._reactRootContainer=u,e[nt]=u.current,Xn(e.nodeType===8?e.parentNode:e),$t(function(){Eo(t,u,n,r)}),u}function To(e,t,n,r,o){var l=n._reactRootContainer;if(l){var i=l;if(typeof o=="function"){var a=o;o=function(){var u=po(i);a.call(u)}}Eo(t,i,e,o)}else i=Yf(n,t,e,o,r);return po(i)}Ya=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=zn(t.pendingLanes);n!==0&&(ds(t,n|1),Ce(t,X()),!(A&6)&&(gn=X()+500,Et()))}break;case 13:$t(function(){var r=rt(e,1);if(r!==null){var o=he();He(r,e,1,o)}}),Ws(e,1)}};fs=function(e){if(e.tag===13){var t=rt(e,134217728);if(t!==null){var n=he();He(t,e,134217728,n)}Ws(e,134217728)}};Xa=function(e){if(e.tag===13){var t=wt(e),n=rt(e,t);if(n!==null){var r=he();He(n,e,t,r)}Ws(e,t)}};Za=function(){return U};qa=function(e,t){var n=U;try{return U=e,t()}finally{U=n}};xl=function(e,t,n){switch(t){case"input":if(fl(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=xo(r);if(!o)throw Error(E(90));La(r),fl(r,o)}}}break;case"textarea":za(e,n);break;case"select":t=n.value,t!=null&&rn(e,!!n.multiple,t,!1)}};$a=$s;Ua=$t;var Xf={usingClientEntryPoint:!1,Events:[ur,Yt,xo,Ma,Aa,$s]},Pn={findFiberByHostInstance:Lt,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Zf={bundleType:Pn.bundleType,version:Pn.version,rendererPackageName:Pn.rendererPackageName,rendererConfig:Pn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:lt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Va(e),e===null?null:e.stateNode},findFiberByHostInstance:Pn.findFiberByHostInstance||Kf,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Tr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Tr.isDisabled&&Tr.supportsFiber)try{mo=Tr.inject(Zf),Ge=Tr}catch{}}Te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Xf;Te.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!bs(t))throw Error(E(200));return Gf(e,t,null,n)};Te.createRoot=function(e,t){if(!bs(e))throw Error(E(299));var n=!1,r="",o=kc;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=Vs(e,1,!1,null,null,n,!1,r,o),e[nt]=t.current,Xn(e.nodeType===8?e.parentNode:e),new Qs(t)};Te.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(E(188)):(e=Object.keys(e).join(","),Error(E(268,e)));return e=Va(t),e=e===null?null:e.stateNode,e};Te.flushSync=function(e){return $t(e)};Te.hydrate=function(e,t,n){if(!Po(t))throw Error(E(200));return To(null,e,t,!0,n)};Te.hydrateRoot=function(e,t,n){if(!bs(e))throw Error(E(405));var r=n!=null&&n.hydratedSources||null,o=!1,l="",i=kc;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=wc(t,null,e,1,n??null,o,!1,l,i),e[nt]=t.current,Xn(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new No(t)};Te.render=function(e,t,n){if(!Po(t))throw Error(E(200));return To(null,e,t,!1,n)};Te.unmountComponentAtNode=function(e){if(!Po(e))throw Error(E(40));return e._reactRootContainer?($t(function(){To(null,null,e,!1,function(){e._reactRootContainer=null,e[nt]=null})}),!0):!1};Te.unstable_batchedUpdates=$s;Te.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Po(n))throw Error(E(200));if(e==null||e._reactInternals===void 0)throw Error(E(38));return To(e,t,n,!1,r)};Te.version="18.3.1-next-f1338f8080-20240426";function Sc(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Sc)}catch(e){console.error(e)}}Sc(),Sa.exports=Te;var qf=Sa.exports,ra=qf;ll.createRoot=ra.createRoot,ll.hydrateRoot=ra.hydrateRoot;const ep="modulepreload",tp=function(e){return"/"+e},oa={},np=function(t,n,r){if(!n||n.length===0)return t();const o=document.getElementsByTagName("link");return Promise.all(n.map(l=>{if(l=tp(l),l in oa)return;oa[l]=!0;const i=l.endsWith(".css"),a=i?'[rel="stylesheet"]':"";if(!!r)for(let y=o.length-1;y>=0;y--){const x=o[y];if(x.href===l&&(!i||x.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${l}"]${a}`))return;const d=document.createElement("link");if(d.rel=i?"stylesheet":ep,i||(d.as="script",d.crossOrigin=""),d.href=l,document.head.appendChild(d),i)return new Promise((y,x)=>{d.addEventListener("load",y),d.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${l}`)))})})).then(()=>t()).catch(l=>{const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=l,window.dispatchEvent(i),!i.defaultPrevented)throw l})},$={backgroundAnimations:[],extensions:[],enabledExtensions:{},pluginDisposers:{},registeredStyles:{}};function dr(){if(console.log("Plugin state updated"),Array.isArray($._listeners))for(const e of $._listeners.slice())try{e()}catch(t){console.warn("pluginHost listener error",t)}}function rp(){window.coolChat||(window.coolChat={})}function la(e,t){const n=document.createElement("style");n.textContent=t,document.head.appendChild(n),$.registeredStyles[e]=$.registeredStyles[e]||[],$.registeredStyles[e].push(n)}function sa(e,t){const n=(t||[]).map(r=>({...r,__pluginId:e}));$.backgroundAnimations=[...$.backgroundAnimations,...n],dr()}function op(){return $.backgroundAnimations.map(({__pluginId:e,...t})=>t)}function lp(){return $.extensions.map(e=>({...e,enabled:!!$.enabledExtensions[e.id]}))}function Zl(e){$.enabledExtensions=e,dr()}function sp(e){$.extensions=Array.isArray(e)?e:[],dr()}async function ia(e){var t;rp(),window.coolChat.registerStyles=n=>{console.warn("window.coolChat.registerStyles is deprecated; use the init API argument instead"),la("__global__",n)},window.coolChat.registerBackgroundAnimations=n=>{console.warn("window.coolChat.registerBackgroundAnimations is deprecated; use the init API argument instead"),sa("__global__",n)},window.coolChat.getExtensions=lp,window.coolChat.setEnabledExtensions=Zl;try{let n=[],r={};if(e&&typeof e=="object")n=Array.isArray(e.plugins)?e.plugins:[],r=e.enabled||{};else{const l=await fetch("/plugins");if(!l.ok){console.warn("Failed to fetch /plugins");return}const i=await l.json();n=Array.isArray(i.plugins)?i.plugins:[],r=i.enabled||{}}const o=new Set(Object.keys(r).filter(l=>r[l]));for(const l of Object.keys($.pluginDisposers||{}))if(!o.has(l))try{await ip(l)}catch(i){console.warn("Unload failed",l,i)}$.extensions=n,$.enabledExtensions={...$.enabledExtensions,...r||{}};for(const l of n){if(!$.enabledExtensions[l.id]){console.log(`Skipping disabled plugin: ${l.id}`);continue}try{const i=((t=l==null?void 0:l.client)==null?void 0:t.entry)||"plugin.js",a=`/plugins/static/${l.id}/${i}`;console.log("Loading plugin:",l.id,"from",a);const u=await np(()=>import(a),[]),d=(u==null?void 0:u.default)||(u==null?void 0:u.init);if(typeof d=="function"){const y=await d({registerStyles:x=>la(l.id,x),registerBackgroundAnimations:x=>sa(l.id,x)});typeof y=="function"&&($.pluginDisposers[l.id]=y)}}catch(i){console.warn("Plugin load failed:",l==null?void 0:l.id,i)}}dr()}catch(n){console.warn("Plugin manifest load failed",n)}}async function ip(e){try{const t=$.pluginDisposers&&$.pluginDisposers[e];if(typeof t=="function"){try{await t()}catch(r){console.warn("Plugin disposer threw",e,r)}delete $.pluginDisposers[e]}const n=$.registeredStyles[e]||[];for(const r of n)try{r.remove()}catch{}delete $.registeredStyles[e],$.backgroundAnimations=$.backgroundAnimations.filter(r=>r.__pluginId!==e),dr()}catch(t){console.warn("Failed to unload plugin",e,t)}}function ap(e){$._listeners=$._listeners||[],$._listeners.push(e)}function up(e){$._listeners=$._listeners||[];const t=$._listeners.indexOf(e);t>=0&&$._listeners.splice(t,1)}const aa=e=>{let t;const n=new Set,r=(d,y)=>{const x=typeof d=="function"?d(t):d;if(!Object.is(x,t)){const k=t;t=y??(typeof x!="object"||x===null)?x:Object.assign({},t,x),n.forEach(m=>m(t,k))}},o=()=>t,a={setState:r,getState:o,getInitialState:()=>u,subscribe:d=>(n.add(d),()=>n.delete(d))},u=t=e(r,o,a);return a},cp=e=>e?aa(e):aa,dp=e=>e;function fp(e,t=dp){const n=Tn.useSyncExternalStore(e.subscribe,Tn.useCallback(()=>t(e.getState()),[e,t]),Tn.useCallback(()=>t(e.getInitialState()),[e,t]));return Tn.useDebugValue(n),n}const ua=e=>{const t=cp(e),n=r=>fp(t,r);return Object.assign(n,t),n},fr=e=>e?ua(e):ua;async function pp(e,t="default"){console.log("DEBUG sendChat: sending request:",{message:e.substring(0,100)+"...",sessionId:t});const n=await fetch("/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:e,session_id:t})});if(console.log("DEBUG sendChat: response status:",n.status),!n.ok){const l=await n.text();throw console.error("DEBUG sendChat: error response:",l),new Error(`Chat request failed: ${n.status} ${l}`)}const r=await n.json();console.log("DEBUG sendChat: parsed data:",typeof r,"reply field:",r.reply?"exists":"missing");const o=r.reply;if(typeof o!="string")throw console.error("DEBUG sendChat: reply is not a string:",o),new Error("Backend returned invalid response format");return console.log("DEBUG sendChat: returning reply:",o.substring(0,100)+"..."),o}async function hp(){const e=await fetch("/characters");if(!e.ok)throw new Error(`List characters failed: ${e.status}`);return e.json()}async function ca({name:e,description:t="",avatar_url:n=null}){const r=await fetch("/characters",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e,description:t,avatar_url:n})});if(!r.ok)throw new Error(`Create character failed: ${r.status}`);return r.json()}async function jc(e){const t=await fetch(`/characters/${e}`,{method:"DELETE"});if(!t.ok)throw new Error(`Delete character failed: ${t.status}`)}async function We(){const e=await fetch("/config");if(!e.ok){const t=await e.text();throw new Error(`Get config failed: ${e.status} ${t}`)}return e.json()}async function we(e){const t=await fetch("/config",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){const n=await t.text();try{const r=JSON.parse(n),o=typeof(r==null?void 0:r.detail)=="string"?r.detail:JSON.stringify((r==null?void 0:r.detail)??r);throw new Error(`Update config failed: ${t.status} ${o}`)}catch{throw new Error(`Update config failed: ${t.status} ${n}`)}}return t.json()}async function mp(e){const t=e?`?provider=${encodeURIComponent(e)}`:"",n=await fetch(`/models${t}`);if(!n.ok){const r=await n.text();try{const o=JSON.parse(r),l=typeof(o==null?void 0:o.detail)=="string"?o.detail:JSON.stringify((o==null?void 0:o.detail)??o);throw new Error(`Get models failed: ${n.status} ${l}`)}catch{throw new Error(`Get models failed: ${n.status} ${r}`)}}return n.json()}async function gp(){const e=await fetch("/lorebooks");if(!e.ok)throw new Error(`List lorebooks failed: ${e.status}`);return e.json()}async function yp(e,t){const n=await fetch(`/characters/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!n.ok)throw new Error(`Update character failed: ${n.status}`);return n.json()}async function vp(e){const t=await fetch(`/image/models?provider=${encodeURIComponent(e)}`);if(!t.ok)throw new Error(`Get image models failed: ${t.status}`);return t.json()}async function xp(e="default"){const t=await fetch("/images/generate_from_chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({session_id:e})});if(!t.ok)throw new Error(`Generate image failed: ${t.status}`);return t.json()}async function wp(e,t="default"){const n=await fetch("/images/generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:e,session_id:t})});if(!n.ok)throw new Error(`Generate image failed: ${n.status}`);return n.json()}async function kp(e,t){const n=await fetch(`/lore/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!n.ok)throw new Error(`Update lore failed: ${n.status}`);return n.json()}async function Lr(e,t){const n=await fetch(`/lorebooks/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!n.ok)throw new Error(`Update lorebook failed: ${n.status}`);return n.json()}async function Cc(){const e=await fetch("/chats");if(!e.ok)throw new Error(`List chats failed: ${e.status}`);return e.json()}async function Sp(e){const t=await fetch(`/chats/${encodeURIComponent(e)}`);if(!t.ok)throw new Error(`Get chat failed: ${t.status}`);return t.json()}async function _c(e){const t=await fetch(`/chats/${encodeURIComponent(e)}/reset`,{method:"POST"});if(!t.ok)throw new Error(`Reset chat failed: ${t.status}`);return t.json()}async function jp(){const e=await fetch("/prompts");if(!e.ok)throw new Error(`Get prompts failed: ${e.status}`);return e.json()}async function Cp(e){const t=await fetch("/prompts",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw new Error(`Save prompts failed: ${t.status}`);return t.json()}async function _p(e="default"){const t=await fetch("/lore/suggest_from_chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({session_id:e})});if(!t.ok)throw new Error(`Suggest lore failed: ${t.status}`);return t.json()}async function Ep(){const e=await fetch("/tools/mcp");if(!e.ok)throw new Error(`Get MCP servers failed: ${e.status}`);return e.json()}async function Np(e){const t=await fetch("/tools/mcp",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw new Error(`Save MCP servers failed: ${t.status}`);return t.json()}async function Pp(){const e=await fetch("/tools/mcp/awesome");if(!e.ok)throw new Error(`Fetch MCP awesome failed: ${e.status}`);return e.json()}const Js=fr((e,t)=>({messages:[],input:"",sending:!1,error:null,sessionId:"default",availableSessions:["default"],setMessages:n=>e({messages:n}),setInput:n=>e({input:n}),setSending:n=>e({sending:n}),setError:n=>e({error:n}),setSessionId:n=>e({sessionId:n}),setAvailableSessions:n=>e({availableSessions:n}),sendMessage:async n=>{const{sessionId:r}=t();e({sending:!0,error:null});try{console.log("sendMessage: calling sendChat with session:",r);const o=await pp(n,r);return console.log("sendMessage: sendChat returned:",typeof o,o),e({sending:!1}),o}catch(o){throw e({error:o.message,sending:!1}),o}},loadChat:async n=>{try{const{messages:r}=await Sp(n);e({messages:r||[],sessionId:n,error:null})}catch(r){e({error:r.message})}},loadSessions:async()=>{try{const{sessions:n}=await Cc();e({availableSessions:n||["default"]})}catch(n){console.warn("Failed to load sessions:",n)}},resetChatSession:async n=>{try{await _c(n),await t().loadChat(n)}catch(r){e({error:r.message})}},createNewSession:n=>{const r=n.trim()||`session-${Date.now()}`;e({sessionId:r,messages:[],input:"",error:null})}})),Tp=fr((e,t)=>({showConfig:!1,showCharacters:!1,showChats:!1,showTools:!1,showLorebooks:!1,phoneOpen:!1,settingsTab:"connection",phoneUrl:"https://example.org",phoneStyle:"classic",suggestOpen:!1,suggests:[],showSOHint:!1,suppressSOHint:!1,expandedEntries:{},editorOpen:!1,editingChar:null,appTheme:{background_animations:[]},setShowConfig:n=>e({showConfig:n}),setShowCharacters:n=>e({showCharacters:n}),setShowChats:n=>e({showChats:n}),setShowTools:n=>e({showTools:n}),setShowLorebooks:n=>e({showLorebooks:n}),setPhoneOpen:n=>e({phoneOpen:n}),setSettingsTab:n=>e({settingsTab:n}),setPhoneUrl:n=>e({phoneUrl:n}),setPhoneStyle:n=>e({phoneStyle:n}),setSuggestOpen:n=>e({suggestOpen:n}),setSuggests:n=>e({suggests:n}),setShowSOHint:n=>e({showSOHint:n}),setSuppressSOHint:n=>e({suppressSOHint:n}),setExpandedEntries:n=>e({expandedEntries:n}),toggleExpandedEntry:n=>e(r=>({expandedEntries:{...r.expandedEntries,[n]:!r.expandedEntries[n]}})),setEditorOpen:n=>e({editorOpen:n}),setEditingChar:n=>e({editingChar:n}),closeAllPanels:()=>e({showConfig:!1,showCharacters:!1,showChats:!1,showTools:!1,showLorebooks:!1}),togglePanel:(n,r)=>{const o=t()[n],l=r!==void 0?r:!o;l&&n!=="phoneOpen"&&t().closeAllPanels(),e({[n]:l})},applyPluginAnimations:n=>{!n||!Array.isArray(n)||e(r=>({...r,appTheme:{...r.appTheme,background_animations:n.map(o=>typeof o=="string"?o:o.id).filter(Boolean)}}))},setAppTheme:n=>{e(r=>({...r,appTheme:{...r.appTheme,...n}}))},updateAppTheme:n=>{e(r=>({...r,appTheme:{...r.appTheme,...n}}))}})),Lp=fr((e,t)=>({characters:[],selectedCharacterId:null,lorebooks:[],selectedLorebook:null,loreEntries:[],selectedLorebookId:null,userPersona:{name:"User",description:""},extensions:[],extensionsEnabled:{},extensionsInitialized:!1,setCharacters:n=>e({characters:n}),setSelectedCharacterId:n=>e({selectedCharacterId:n}),setLorebooks:n=>e({lorebooks:n}),setSelectedLorebook:n=>e({selectedLorebook:n}),setLoreEntries:n=>e({loreEntries:n}),setSelectedLorebookId:n=>e({selectedLorebookId:n}),setUserPersona:n=>e({userPersona:n}),setExtensions:n=>e({extensions:n}),setExtensionsEnabled:n=>e({extensionsEnabled:n}),setExtensionsInitialized:n=>e({extensionsInitialized:n}),loadCharacters:async()=>{try{const n=await hp();e({characters:n||[]})}catch(n){console.warn("Failed to load characters:",n)}},loadLorebooks:async()=>{try{const n=await gp();e({lorebooks:n||[]}),(n==null?void 0:n.length)>0&&!t().selectedLorebook&&e({selectedLorebook:n[0]})}catch(n){console.warn("Failed to load lorebooks:",n)}},loadLoreEntries:async n=>{try{const r=t().selectedLorebook;if(r&&r.entry_ids){const o=[];for(const l of r.entry_ids)try{const i=await fetch(`/lore/${l}`);if(i.ok){const a=await i.json();o.push(a)}}catch(i){console.warn(`Failed to load lore entry ${l}:`,i)}e({loreEntries:o})}else e({loreEntries:[]})}catch(r){console.warn("Failed to load lore entries:",r),e({loreEntries:[]})}},deleteCharacterAction:async n=>{try{await jc(n);const r=t().characters.filter(o=>o.id!==n);e({characters:r}),t().selectedCharacterId===n&&e({selectedCharacterId:null})}catch(r){throw console.error("Failed to delete character:",r),r}},updateLoreEntry:async(n,r)=>{try{await kp(n,r);const l=t().loreEntries.map(i=>i.id===n?{...i,...r}:i);e({loreEntries:l})}catch(o){throw console.error("Failed to update lore entry:",o),o}},updateExtensionsEnabled:async(n,r={})=>{const{persist:o=!0}=r;try{if(e({extensionsEnabled:n}),o&&!(await fetch("/plugins/enabled",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({enabled:n})})).ok)throw new Error("Failed to persist extensions")}catch(l){throw console.error("Failed to update extensions:",l),l}},findCharacterById:n=>t().characters.find(r=>r.id===n)||null,findLorebookById:n=>t().lorebooks.find(r=>r.id===n)||null})),Op=fr((e,t)=>({activeProvider:"echo",providers:{},configDraft:{api_key:"",api_base:"",model:"",temperature:.7},modelList:[],loadingModels:!1,debugFlags:{log_prompts:!1,log_responses:!1},userPersona:{name:"",description:""},maxTokens:2048,structuredOutput:!1,setActiveProvider:n=>e({activeProvider:n}),setProviders:n=>e({providers:n}),setConfigDraft:n=>e({configDraft:n}),setModelList:n=>e({modelList:n}),setLoadingModels:n=>e({loadingModels:n}),setUserPersona:n=>e({userPersona:n}),setDebugFlags:n=>e({debugFlags:n}),setMaxTokens:n=>e({maxTokens:n}),setStructuredOutput:n=>e({structuredOutput:n}),loadConfig:async()=>{var n;try{const r=await We();e({activeProvider:r.active_provider||"echo",providers:r.providers||{},debugFlags:r.debug||{log_prompts:!1,log_responses:!1},userPersona:r.user_persona||{name:"",description:""},maxTokens:r.max_context_tokens||2048,structuredOutput:r.structured_output||!1});const o=((n=r.providers)==null?void 0:n[r.active_provider])||{};e({configDraft:{api_key:"",api_base:o.api_base||"",model:o.model||"",temperature:o.temperature??.7}}),await t().loadModelsForProvider(r.active_provider)}catch(r){console.warn("Failed to load config:",r)}},updateMaxTokens:async n=>{try{await we({max_context_tokens:n}),e({maxTokens:n})}catch(r){throw console.error("Failed to update max tokens:",r),r}},updateDebugFlags:async n=>{try{await we({debug:n}),e({debugFlags:n})}catch(r){throw console.error("Failed to update debug flags:",r),r}},updateUserPersona:async n=>{try{await we({user_persona:n}),e({userPersona:n})}catch(r){throw console.error("Failed to update user persona:",r),r}},updateStructuredOutput:async n=>{try{await we({structured_output:n}),e({structuredOutput:n})}catch(r){throw console.error("Failed to update structured output:",r),r}},updateProviderConfig:async(n,r)=>{try{await we({active_provider:n,providers:{[n]:r}}),e(o=>({providers:{...o.providers,[n]:r},configDraft:r}))}catch(o){throw console.error("Failed to update provider config:",o),o}},loadModels:async()=>{const n=t().activeProvider;await t().loadModelsForProvider(n)},loadModelsForProvider:async n=>{try{e({loadingModels:!0});const{models:r}=await mp(n);e({modelList:r||[],loadingModels:!1})}catch(r){console.error("Failed to load models:",r),e({modelList:[],loadingModels:!1})}}})),ol={primary:"#2563eb",secondary:"#374151",text1:"#e5e7eb",text2:"#cbd5e1",highlight:"#10b981",lowlight:"#111827",phone_style:"classic",background_animations:[]};fr((e,t)=>({appTheme:ol,availableThemes:[ol],currentThemeName:null,customThemes:{},setAppTheme:n=>{e({appTheme:n}),t().applyTheme(n)},updateThemeColors:n=>{e(r=>({appTheme:{...r.appTheme,...n}})),t().applyTheme(t().appTheme)},setPhoneStyle:n=>{e(r=>({appTheme:{...r.appTheme,phone_style:n}}))},addBackgroundAnimation:n=>{e(r=>({appTheme:{...r.appTheme,background_animations:[...r.appTheme.background_animations||[],n].filter((o,l,i)=>i.indexOf(o)===l)}}))},removeBackgroundAnimation:n=>{e(r=>({appTheme:{...r.appTheme,background_animations:(r.appTheme.background_animations||[]).filter(o=>o!==n)}}))},setBackgroundAnimations:n=>{e(r=>({appTheme:{...r.appTheme,background_animations:n}}))},saveCustomTheme:(n,r)=>{e(o=>({customThemes:{...o.customThemes,[n]:{...r}}}));try{const o=localStorage.getItem("coolchat-themes")||"{}",l=JSON.parse(o);l[n]=r,localStorage.setItem("coolchat-themes",JSON.stringify(l))}catch(o){console.warn("Failed to save theme to localStorage:",o)}},deleteCustomTheme:n=>{e(r=>{const o={...r.customThemes};delete o[n];try{const l=localStorage.getItem("coolchat-themes")||"{}",i=JSON.parse(l);delete i[n],localStorage.setItem("coolchat-themes",JSON.stringify(i))}catch(l){console.warn("Failed to delete theme from localStorage:",l)}return{customThemes:o}})},loadCustomTheme:n=>{const r=t().customThemes[n];r?(t().setAppTheme(r),e({currentThemeName:n})):console.warn("Theme not found:",n)},exportTheme:()=>{const n=t().appTheme,r=t().currentThemeName||"Exported Theme";return JSON.stringify({name:r,theme:n,exportedAt:new Date().toISOString(),version:"1.0"},null,2)},importTheme:n=>{try{const{name:r,theme:o}=JSON.parse(n);o&&typeof o=="object"&&t().saveCustomTheme(r,o)}catch(r){throw console.error("Failed to import theme:",r),new Error("Invalid theme format")}},applyTheme:n=>{const r=document.documentElement.style;n.primary&&r.setProperty("--primary",n.primary),n.secondary&&r.setProperty("--panel",n.secondary),n.text1&&r.setProperty("--text",n.text1),n.text2&&r.setProperty("--muted",n.text2),n.highlight&&r.setProperty("--assistant",n.highlight),n.lowlight&&r.setProperty("--bg",n.lowlight);const o=n.background_animations||[],l=new CustomEvent("coolchat:themeUpdate",{detail:{...n,background_animations:o}});window.dispatchEvent(l)},resetTheme:()=>{t().setAppTheme(ol),e({currentThemeName:null})}}));const zp=()=>{const e=Js(),t=P.useCallback(async r=>await e.sendMessage(r),[e]),n=P.useCallback(async r=>{e.setSessionId(r),await e.loadChat(r)},[e]);return{messages:e.messages,input:e.input,sending:e.sending,error:e.error,sessionId:e.sessionId,availableSessions:e.availableSessions,sendMessage:t,setInput:e.setInput,setError:e.setError,setMessages:e.setMessages,setSending:e.setSending,switchSession:n,resetChat:e.resetChatSession,loadSessions:e.loadSessions,createSession:e.createNewSession}},Ip=()=>{const e=Js(),t=P.useCallback(async()=>{try{const r=await xp(e.sessionId);e.setMessages([...e.messages,{role:"assistant",image_url:r.image_url,content:""}])}catch(r){throw new Error(r.message)}},[e]),n=P.useCallback(async r=>{try{const o=await wp(r,e.sessionId),l=e.messages,i={role:"assistant",image_url:o.image_url,content:r};e.setMessages([...l,i])}catch(o){throw new Error(o.message)}},[e]);return{generateImageFromLastMessage:t,generateImage:n}},Dp=()=>{const e=Js();return{suggestLore:P.useCallback(async()=>{try{return await _p(e.sessionId)}catch(n){throw new Error(n.message)}},[e])}};function Fp(){var Ht,Vt,T;const e=zp(),t=Tp(),n=Op(),r=Lp(),{generateImage:o,generateImageFromLastMessage:l}=Ip(),{suggestLore:i}=Dp(),a=P.useRef(null),[u,d]=P.useState(!1),[y,x]=P.useState(null);P.useState({});const[k,m]=P.useState(!1),[p,C]=P.useState(!1),[I,h]=P.useState([]),[f,g]=P.useState("https://example.org"),[w,j]=P.useState([]),[_,N]=P.useState(!1);P.useEffect(()=>{n.loadConfig(),r.loadCharacters(),r.loadLorebooks()},[]),P.useEffect(()=>{const c=v=>{try{v&&v.detail&&t.setPhoneStyle(v.detail)}catch{}};return window.addEventListener("coolchat:phoneStyle",c),()=>window.removeEventListener("coolchat:phoneStyle",c)},[]),P.useEffect(()=>{const c=v=>{try{v&&v.detail&&t.updateAppTheme(v.detail)}catch{}};return window.addEventListener("coolchat:themeUpdate",c),()=>window.removeEventListener("coolchat:themeUpdate",c)},[]),P.useEffect(()=>{const c=()=>{try{const v=op();t.applyPluginAnimations(v)}catch(v){console.error(v)}};try{ap(c)}catch{}return c(),()=>{try{up(c)}catch{}}},[]);const z=(c,v="info")=>{const S=Date.now();j(O=>[...O,{id:S,message:c,type:v}]),setTimeout(()=>j(O=>O.filter(R=>R.id!==S)),4e3)};P.useEffect(()=>{const c=v=>{window.innerWidth<=768&&!v.target.closest(".header")&&N(!1)};if(_)return document.addEventListener("click",c),()=>document.removeEventListener("click",c)},[_]),P.useEffect(()=>{a.current&&setTimeout(()=>{try{a.current.scrollTop=a.current.scrollHeight}catch{}},0)},[e.messages]),P.useEffect(()=>{t.showConfig&&(async()=>{try{n.loadModels()}catch(c){console.error("Failed to load models:",c)}})()},[n.activeProvider,t.showConfig]),P.useEffect(()=>{r.selectedLorebook?r.loadLoreEntries(r.selectedLorebook.id):r.setLoreEntries([])},[r.selectedLorebook]);const V=async c=>{var O,R,Z,q;let v=!1;if(console.log("Tool parsing:",typeof c,c?"present":"missing"),typeof c!="string")return console.error("Tool parse failed: result is not a string",c),c||"Sorry, I encountered an error processing my response.";let S=c;try{let D=null;const ve=c;try{D=JSON.parse(c),S=""}catch{const le=c.match(/\{[\s\S]*\}$/m);if(le)try{D=JSON.parse(le[0]),S=c.slice(0,le.index).trim()}catch{}if(!D){const Oo=c.match(/toolCalls\s*:\s*(\[[\s\S]*?\])/);if(Oo)try{D={toolCalls:JSON.parse(Oo[1])};const Gs=c.indexOf("toolCalls:");Gs!==-1?S=c.slice(0,Gs).trim():S=c.slice(0,Oo.index).trim(),!n.structuredOutput&&!p&&m(!0)}catch{}}S.trim()||(S="")}if(D&&Array.isArray(D.toolCalls)){for(const B of D.toolCalls)if(!(!B||!B.type)){if(B.type==="image_request"&&((O=B.payload)!=null&&O.prompt))try{await o(B.payload.prompt),v=!0}catch(le){console.error("Image generation failed:",le)}else if(B.type==="phone_url"&&((R=B.payload)!=null&&R.url))try{let le=B.payload.url;/^https?:/i.test(le)||(le="https://"+le),g(le),t.setPhoneOpen(!0),v=!0}catch(le){console.error("Phone URL handling failed:",le)}else if(B.type==="lore_suggestions"&&Array.isArray((Z=B.payload)==null?void 0:Z.items))try{h(B.payload.items.map(le=>({keyword:le.keyword,content:le.content}))),t.setSuggestOpen(!0),v=!0}catch(le){console.error("Lore suggestions failed:",le)}}}if(!v&&D&&!Array.isArray(D.toolCalls)){if(D.image_request||D.prompt&&D.image_request)try{const B=typeof D.image_request=="string"?D.image_request:((q=D.image_request)==null?void 0:q.prompt)||D.prompt;B&&(await o(B),v=!0,c.includes(JSON.stringify(D))&&(S=c.replace(JSON.stringify(D),"").trim()))}catch(B){console.error("Image generation failed:",B)}if(D.phone_url)try{let B=D.phone_url;/^https?:/i.test(B)||(B="https://"+B),g(B),t.setPhoneOpen(!0),v=!0,c.includes(JSON.stringify(D))&&(S=c.replace(JSON.stringify(D),"").trim())}catch(B){console.error("Phone URL handling failed:",B)}if(Array.isArray(D.lore_suggestions))try{h(D.lore_suggestions),t.setSuggestOpen(!0),v=!0,c.includes(JSON.stringify(D))&&(S=c.replace(JSON.stringify(D),"").trim())}catch(B){console.error("Lore suggestions failed:",B)}}!n.structuredOutput&&!p&&/toolCalls\s*:|image_request|phone_url|lore_suggestions/.test(c)&&!v&&m(!0)}catch(D){return console.warn("Tool parse failed:",D),c&&typeof c=="string"?c:""}return v&&(!S||S.trim()==="")?"":S&&typeof S=="string"?S.trim():c&&typeof c=="string"?c:""},F=async c=>{c.preventDefault(),e.setError(null);const v=e.input.trim();if(!v)return;const S={role:"user",content:v},O=[...e.messages,S];e.setMessages(O),e.setInput("");try{const R=await e.sendMessage(v),Z=await V(R),q=e.messages,ve={role:"assistant",content:Z||R||"Sorry, I encountered an error processing my response."},B=[...q,ve];e.setMessages(B)}catch(R){console.error("Chat submission error:",R),z(R.message,"error")}},[ye,Nt]=P.useState([]),[st,wn]=P.useState({});P.useEffect(()=>{(async()=>{try{const c=await fetch("/plugins");if(c.ok){const v=await c.json();Nt(v.plugins||[]),wn(v.enabled||{});try{Zl(v.enabled||{})}catch{}try{await ia()}catch(S){console.error(S)}}}catch(c){console.error("Failed to load plugins",c)}})()},[]);const Lo=async c=>{try{if(!(await fetch("/plugins/enabled",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)})).ok)throw new Error("Save failed");wn(c);try{Zl(c);const S=await fetch("/plugins"),O=S.ok?await S.json():null;O&&sp(O.plugins||[]),await ia(O)}catch(S){console.error(S)}try{await we({extensions:c})}catch(S){console.error("Failed to persist extensions to config",S)}}catch(v){console.error(v),alert(v.message)}};return s.jsxs("div",{className:`app ${t.phoneOpen?"phone-open":""}`,children:[s.jsx("div",{className:"bg-animations",children:(((Ht=t.appTheme)==null?void 0:Ht.background_animations)||[]).map((c,v)=>s.jsx("div",{className:`anim-${c}`},v))}),s.jsxs("header",{className:`header ${_?"menu-open":""}`,role:"banner",children:[s.jsx("h1",{children:"CoolChat"}),s.jsx("div",{className:"spacer"}),s.jsxs("div",{className:"header-buttons",children:[s.jsx("button",{className:"secondary","aria-label":t.showCharacters?"Hide characters panel":"Show characters panel","aria-expanded":t.showCharacters,onClick:()=>t.setShowCharacters(!t.showCharacters),children:t.showCharacters?"Hide Characters":"Characters"}),s.jsx("button",{className:"secondary","aria-label":t.showChats?"Hide chats panel":"Show chats panel","aria-expanded":t.showChats,onClick:()=>t.setShowChats(!t.showChats),children:t.showChats?"Hide Chats":"Chats"}),s.jsx("button",{className:"secondary","aria-label":t.showTools?"Hide tools panel":"Show tools panel","aria-expanded":t.showTools,onClick:()=>t.setShowTools(!t.showTools),children:t.showTools?"Hide Tools":"Tools"}),s.jsx("button",{className:"secondary","aria-label":t.showLorebooks?"Hide lorebooks panel":"Show lorebooks panel","aria-expanded":t.showLorebooks,onClick:()=>t.setShowLorebooks(!t.showLorebooks),children:t.showLorebooks?"Hide Lorebooks":"Lorebooks"}),s.jsx("button",{className:"secondary","aria-label":t.phoneOpen?"Close phone simulator":"Open phone simulator","aria-expanded":t.phoneOpen,onClick:()=>t.setPhoneOpen(!t.phoneOpen),children:t.phoneOpen?"Close Phone":"Phone"}),s.jsx("button",{className:"secondary","aria-label":t.showConfig?"Close settings":"Open settings","aria-expanded":t.showConfig,onClick:()=>t.setShowConfig(!t.showConfig),children:t.showConfig?"Close Settings":"Settings"})]}),s.jsx("button",{className:"menu-toggle","aria-label":"Toggle menu","aria-expanded":_,onClick:()=>N(!_),children:""})]}),t.phoneOpen&&s.jsxs("div",{className:`phone-panel ${t.phoneStyle}`,children:[s.jsx("div",{className:"outer-overlay",onClick:c=>{c.target===c.currentTarget&&t.setPhoneOpen(!1)}}),s.jsx("div",{className:"skin"}),s.jsxs("div",{className:"screen",children:[s.jsx("div",{className:"statusbar",children:t.phoneStyle==="iphone"?s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"left",children:""}),s.jsx("span",{className:"time",children:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),s.jsx("span",{className:"right",children:" "})]}):s.jsxs(s.Fragment,{children:[s.jsx("span",{children:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),s.jsx("span",{children:"  "})]})}),s.jsxs("div",{className:"bar",children:[s.jsx("input",{style:{flex:1},placeholder:"https://",value:f,onChange:c=>g(c.target.value)}),s.jsx("button",{className:"secondary",onClick:()=>{let c=f;/^https?:/i.test(c)||(c="https://"+c),g(c)},children:"Go"}),s.jsx("button",{className:"secondary",title:"Open in new tab",onClick:()=>{try{let c=f;/^https?:/i.test(c)||(c="https://"+c),window.open(c,"_blank")}catch(c){console.error(c)}},children:""})]}),s.jsx("iframe",{src:/^https?:/i.test(f)?f:"https://"+f,title:"Phone",onLoad:()=>{try{fetch("/phone/debug",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({event:"load",url:f})})}catch(c){console.error(c)}},onError:()=>{try{fetch("/phone/debug",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({event:"error",url:f})})}catch(c){console.error(c)}}})]})]}),s.jsxs("main",{className:"chat",children:[t.showCharacters&&s.jsxs("section",{className:"characters overlay",children:[s.jsxs("div",{className:"row",style:{justifyContent:"space-between",alignItems:"center"},children:[s.jsx("h2",{style:{margin:0},children:"Characters"}),s.jsx("button",{className:"secondary",onClick:()=>t.setShowCharacters(!1),children:"Close"})]}),s.jsxs("div",{className:"row",children:[s.jsxs("label",{className:"secondary",style:{padding:"8px 10px",borderRadius:6,cursor:"pointer"},children:["Import JSON/PNG",s.jsx("input",{type:"file",accept:"application/json,.json,image/png",style:{display:"none"},onChange:async c=>{var S;const v=(S=c.target.files)==null?void 0:S[0];if(v){try{if(v.type==="image/png"){const O=new FormData;if(O.append("file",v),!(await fetch("/characters/import",{method:"POST",body:O})).ok)throw new Error("Import failed")}else{const O=await v.text(),R=JSON.parse(O);if(!R.name)throw new Error("JSON must include name");await ca({name:R.name,description:R.description||"",avatar_url:R.avatar_url||null})}r.loadCharacters()}catch(O){alert(O.message)}c.target.value=""}}})]}),s.jsx("button",{className:"secondary",onClick:()=>r.loadCharacters(),children:"Refresh"})]}),s.jsxs("div",{className:"char-grid",children:[s.jsxs("div",{className:"char-card",onClick:()=>{x(null),d(!0)},children:[s.jsx("img",{src:"https://placehold.co/400x600?text=New+Character",alt:"New Character"}),s.jsx("div",{className:"name",children:"+ New"})]}),r.characters.map(c=>s.jsxs("div",{className:"char-card",children:[s.jsx("img",{src:c.avatar_url||"https://placehold.co/400x600?text=Character",alt:c.name}),s.jsx("div",{className:"name",children:c.name}),s.jsx("div",{className:"cog",onClick:v=>{v.stopPropagation(),x(c),d(!0)},children:s.jsx("span",{children:""})}),s.jsx("div",{style:{padding:"8px"},children:s.jsxs("div",{className:"row",style:{justifyContent:"space-between"},children:[s.jsx("button",{onClick:async()=>{try{await we({active_character_id:c.id}),t.setShowCharacters(!1)}catch(v){console.error(v),alert(v.message)}},children:"Use"}),s.jsx("button",{className:"secondary",onClick:async()=>{try{await jc(c.id),r.loadCharacters()}catch(v){alert(v.message)}},children:"Delete"})]})})]},c.id))]})]}),t.showChats&&s.jsxs("section",{className:"panel overlay",children:[s.jsx("h2",{children:"Chats"}),s.jsx(Wp,{sessionId:e.sessionId,setSessionId:e.switchSession,onClose:()=>t.setShowChats(!1)})]}),t.showTools&&s.jsxs("section",{className:"panel overlay",children:[s.jsx("h2",{children:"Tools"}),s.jsx(Ap,{onClose:()=>t.setShowTools(!1)})]}),t.showConfig&&s.jsxs("section",{className:"panel overlay",children:[s.jsx("h2",{children:"Configuration"}),s.jsxs("div",{className:"row",style:{gap:6,marginBottom:8},children:[s.jsx("button",{className:"secondary",onClick:c=>{c.preventDefault(),t.setSettingsTab("connection")},children:"Connection"}),s.jsx("button",{className:"secondary",onClick:c=>{c.preventDefault(),t.setSettingsTab("persona")},children:"Persona"}),s.jsx("button",{className:"secondary",onClick:c=>{c.preventDefault(),t.setSettingsTab("appearance")},children:"Appearance"}),s.jsx("button",{className:"secondary",onClick:c=>{c.preventDefault(),t.setSettingsTab("images")},children:"Images"}),s.jsx("button",{className:"secondary",onClick:c=>{c.preventDefault(),t.setSettingsTab("prompts")},children:"Prompts"}),s.jsx("button",{className:"secondary",onClick:c=>{c.preventDefault(),t.setSettingsTab("advanced")},children:"Advanced"}),s.jsx("button",{className:"secondary",onClick:c=>{c.preventDefault(),t.setSettingsTab("extensions")},children:"Extensions"})]}),t.settingsTab==="connection"&&s.jsxs("form",{className:"config-form",onSubmit:async c=>{var v;c.preventDefault();try{const S=await We(),O=((v=n.providers)==null?void 0:v[n.activeProvider])||{},R={};for(const q of["api_key","api_base","model","temperature"]){const D=n.configDraft[q],ve=O[q]??"";q==="temperature"?typeof D=="number"&&D!==ve&&(R[q]=D):D&&D!==ve&&(R[q]=D)}if(Object.keys(R).length){const q=Object.entries(R).map(([D,ve])=>`- ${D}: old=${O[D]??"(none)"} -> new=${ve}`).join(`
`);if(!window.confirm(`Config.json already has this information, would you like to update it or discard?
${q}`)){n.setConfigDraft({api_key:"",api_base:O.api_base||"",model:O.model||"",temperature:O.temperature??.7});return}}const Z=await we({active_provider:n.activeProvider,providers:{[n.activeProvider]:R},max_context_tokens:n.maxTokens});n.setProviders(Z.providers||{})}catch(S){console.error(S),alert(S.message)}},children:[s.jsxs("label",{children:[s.jsx("span",{children:"Provider"}),s.jsxs("select",{value:n.activeProvider,onChange:async c=>{const v=c.target.value;n.setActiveProvider(v);const S=n.providers[v]||{};n.setConfigDraft({api_key:"",api_base:S.api_base||"",model:S.model||"",temperature:S.temperature??.7});try{await n.updateProvider(v)}catch{}},children:[s.jsx("option",{value:"echo",children:"Echo (no API key)"}),s.jsx("option",{value:"openai",children:"OpenAI-compatible"}),s.jsx("option",{value:"openrouter",children:"OpenRouter"}),s.jsx("option",{value:"gemini",children:"Google Gemini"})]})]}),s.jsxs("label",{children:[s.jsx("span",{children:"API Key"}),s.jsx("input",{type:"password",placeholder:(Vt=n.providers[n.activeProvider])!=null&&Vt.api_key_masked?`Saved: ${n.providers[n.activeProvider].api_key_masked}`:"sk-...",value:n.configDraft.api_key,onChange:c=>n.setConfigDraft({...n.configDraft,api_key:c.target.value})})]}),s.jsxs("label",{children:[s.jsx("span",{children:"API Base"}),s.jsx("input",{type:"text",placeholder:n.activeProvider==="openrouter"?"https://openrouter.ai/api/v1":n.activeProvider==="openai"?"https://api.openai.com/v1":"https://generativelanguage.googleapis.com/v1beta/openai",value:n.configDraft.api_base,onChange:c=>n.setConfigDraft({...n.configDraft,api_base:c.target.value})})]}),s.jsxs("label",{children:[s.jsx("span",{children:"Model"}),n.modelList.length>0?s.jsxs("select",{value:n.configDraft.model||"",onChange:c=>n.setConfigDraft({...n.configDraft,model:c.target.value}),children:[s.jsx("option",{value:"",children:n.loadingModels?"Loading":"Select a model"}),n.modelList.map(c=>s.jsx("option",{value:c,children:c},c))]}):s.jsx("input",{type:"text",placeholder:n.activeProvider==="gemini"?"gemini-1.5-flash":"gpt-4o-mini",value:n.configDraft.model,onChange:c=>n.setConfigDraft({...n.configDraft,model:c.target.value})})]}),s.jsx("div",{className:"row",children:s.jsx("button",{type:"button",className:"secondary",onClick:async()=>{try{await n.updateProviderConfig(n.activeProvider,n.configDraft)}catch{console.warn("Failed to update provider config")}try{await n.loadModelsForProvider(n.activeProvider)}catch{n.setModelList([])}},disabled:n.loadingModels,children:n.loadingModels?"Refreshing":"Refresh models"})}),s.jsxs("label",{children:[s.jsx("span",{children:"Temperature"}),s.jsx("input",{type:"number",step:"0.1",min:"0",max:"2",value:n.configDraft.temperature,onChange:c=>n.setConfigDraft({...n.configDraft,temperature:parseFloat(c.target.value)})})]}),s.jsxs("label",{children:[s.jsx("span",{children:"Structured Output (Gemini)"}),s.jsx("input",{type:"checkbox",checked:n.structuredOutput,onChange:async c=>{try{await n.updateStructuredOutput(c.target.checked)}catch(v){alert(v.message)}}})]}),s.jsxs("div",{className:"row",children:[s.jsx("button",{type:"submit",children:"Save"}),s.jsx("button",{type:"button",className:"secondary",onClick:()=>{var c,v,S;return n.setConfigDraft({api_key:"",api_base:((c=n.providers[n.activeProvider])==null?void 0:c.api_base)||"",model:((v=n.providers[n.activeProvider])==null?void 0:v.model)||"",temperature:((S=n.providers[n.activeProvider])==null?void 0:S.temperature)??.7})},children:"Reset"})]}),s.jsxs("label",{children:[s.jsxs("span",{children:["Max Context Tokens (",n.maxTokens,")"]}),s.jsx("input",{type:"range",min:"512",max:"8192",step:"128",value:n.maxTokens,onChange:c=>n.updateMaxTokens(parseInt(c.target.value,10))})]})]}),t.settingsTab==="persona"&&s.jsxs("div",{className:"config-form",children:[s.jsxs("label",{children:[s.jsx("span",{children:"User Name"}),s.jsx("input",{value:n.userPersona.name,onChange:c=>n.setUserPersona({...n.userPersona,name:c.target.value}),onBlur:async()=>{try{await n.updateUserPersona(n.userPersona)}catch(c){console.error(c),alert(c.message)}}})]}),s.jsxs("label",{children:[s.jsx("span",{children:"User Description"}),s.jsx("textarea",{rows:3,value:n.userPersona.description,onChange:c=>n.setUserPersona({...n.userPersona,description:c.target.value}),onBlur:async()=>{try{await n.updateUserPersona(n.userPersona)}catch(c){console.error(c),alert(c.message)}}})]})]}),t.settingsTab==="debug"&&s.jsxs("div",{className:"config-form",children:[s.jsxs("label",{children:[s.jsx("span",{children:"Log Prompts"}),s.jsx("input",{type:"checkbox",checked:n.debugFlags.log_prompts,onChange:async c=>{const v=c.target.checked,S={...n.debugFlags,log_prompts:v};n.setDebugFlags(S);try{await n.updateDebugFlags(S)}catch{}}})]}),s.jsxs("label",{children:[s.jsx("span",{children:"Log Responses"}),s.jsx("input",{type:"checkbox",checked:n.debugFlags.log_responses,onChange:async c=>{const v=c.target.checked,S={...n.debugFlags,log_responses:v};n.setDebugFlags(S);try{await n.updateDebugFlags(S)}catch{}}})]}),s.jsxs("label",{children:[s.jsxs("span",{children:["Max Context Tokens (",n.maxTokens,")"]}),s.jsx("input",{type:"range",min:"512",max:"8192",step:"128",value:n.maxTokens,onChange:async c=>{const v=parseInt(c.target.value,10);n.updateMaxTokens(v);try{await we({max_context_tokens:v})}catch{}}})]}),s.jsxs("label",{children:[s.jsx("span",{children:"User Name"}),s.jsx("input",{value:n.userPersona.name,onChange:c=>n.setUserPersona({...n.userPersona,name:c.target.value}),onBlur:async()=>{try{await n.updateUserPersona(n.userPersona)}catch{}}})]}),s.jsxs("label",{children:[s.jsx("span",{children:"User Description"}),s.jsx("textarea",{rows:3,value:n.userPersona.description,onChange:c=>n.setUserPersona({...n.userPersona,description:c.target.value}),onBlur:async()=>{try{await n.updateUserPersona(n.userPersona)}catch{}}})]})]}),t.settingsTab==="appearance"&&s.jsx(Hp,{}),t.settingsTab==="images"&&s.jsx(Rp,{providers:n.providers}),t.settingsTab==="prompts"&&s.jsx(Mp,{}),t.settingsTab==="advanced"&&s.jsx(Up,{}),t.settingsTab==="extensions"&&s.jsxs("div",{className:"config-form",children:[s.jsx("h3",{children:"Extensions"}),s.jsx("p",{className:"muted",children:"Detected extensions found under /extensions. Enable ones you trust."}),s.jsxs("div",{style:{marginTop:8},children:[ye.length===0?s.jsxs("div",{className:"muted",children:["No extensions detected. If you expect extensions, verify the backend is running and that ",s.jsx("code",{children:"/plugins"})," returns manifests."]}):null,ye.map(c=>s.jsxs("div",{className:"row",style:{gap:8,alignItems:"center",marginBottom:6},children:[s.jsxs("div",{style:{flex:1},children:[s.jsx("strong",{children:c.name||c.id}),s.jsx("div",{className:"muted",children:c.description||""})]}),s.jsxs("label",{children:[s.jsx("input",{type:"checkbox",checked:!!st[c.id],onChange:v=>{const S={...st,[c.id]:v.target.checked};Lo(S)}})," Enabled"]})]},c.id))]})]}),t.settingsTab==="connection"&&s.jsx("div",{className:"hint",children:s.jsx("p",{className:"muted",children:"OpenRouter uses OpenAI-compatible endpoints. You can set API Base to https://openrouter.ai/api/v1. Gemini uses the OpenAI-compatible base at https://generativelanguage.googleapis.com/v1beta/openai."})})]}),t.showLorebooks&&s.jsxs("section",{className:"characters overlay",children:[s.jsxs("div",{className:"row",style:{justifyContent:"space-between",alignItems:"center"},children:[s.jsx("h2",{style:{margin:0},children:"Lorebooks"}),s.jsx("button",{className:"secondary",onClick:()=>t.setShowLorebooks(!1),children:"Close"})]}),s.jsx($p,{lorebooks:r.lorebooks}),s.jsx("div",{className:"row",children:s.jsxs("label",{className:"secondary",style:{padding:"8px 10px",borderRadius:6,cursor:"pointer"},children:["Import Lorebook JSON",s.jsx("input",{type:"file",accept:"application/json,.json",style:{display:"none"},onChange:async c=>{var S;const v=(S=c.target.files)==null?void 0:S[0];if(v){try{const O=new FormData;if(O.append("file",v),!(await fetch("/lorebooks/import",{method:"POST",body:O})).ok)throw new Error("Import failed");r.loadLorebooks()}catch(O){console.error(O),alert(O.message)}c.target.value=""}}})]})}),s.jsxs("div",{className:"row",style:{gap:8},children:[s.jsx("select",{value:((T=r.selectedLorebook)==null?void 0:T.id)||"",onChange:c=>{const v=parseInt(c.target.value,10),S=r.lorebooks.find(O=>O.id===v);r.setSelectedLorebook(S||null)},children:r.lorebooks.map(c=>s.jsx("option",{value:c.id,children:c.name},c.id))}),r.selectedLorebook&&s.jsxs(s.Fragment,{children:[s.jsx("input",{style:{flex:1},value:r.selectedLorebook.name,onChange:c=>r.setSelectedLorebook({...r.selectedLorebook,name:c.target.value}),onBlur:async()=>{try{await Lr(r.selectedLorebook.id,{name:r.selectedLorebook.name})}catch(c){alert(c.message)}}}),s.jsx("input",{style:{flex:2},value:r.selectedLorebook.description,onChange:c=>r.setSelectedLorebook({...r.selectedLorebook,description:c.target.value}),onBlur:async()=>{try{await Lr(r.selectedLorebook.id,{description:r.selectedLorebook.description})}catch(c){alert(c.message)}}})]})]}),s.jsx("div",{className:"char-list",children:r.loreEntries.map(c=>s.jsxs("div",{className:"char-item",style:{flexDirection:"column",alignItems:"stretch"},children:[s.jsxs("div",{className:"row",style:{gap:8,width:"100%",alignItems:"center"},children:[s.jsx("button",{className:"secondary",onClick:()=>t.toggleExpandedEntry(c.id),children:t.expandedEntries[c.id]?"":""}),s.jsx("input",{style:{flex:1},value:c.title||c.keyword||"(untitled)",onChange:v=>r.setLoreEntries(r.loreEntries.map(S=>S.id===c.id?{...S,title:v.target.value}:S)),onBlur:async v=>{try{await r.updateLoreEntry(c.id,{title:v.target.value})}catch(S){console.error(S),alert("Failed to save entry title: "+S.message)}}})]}),t.expandedEntries[c.id]&&s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:8,marginTop:8},children:[s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:4},children:[s.jsx("div",{className:"muted",children:"Primary Keywords"}),s.jsx("input",{value:(c.keywords||[]).join(", "),onChange:v=>r.setLoreEntries(r.loreEntries.map(S=>S.id===c.id?{...S,keywords:v.target.value.split(",").map(O=>O.trim()).filter(Boolean)}:S)),onBlur:async v=>{try{await r.updateLoreEntry(c.id,{keywords:v.target.value.split(",").map(S=>S.trim()).filter(Boolean)})}catch(S){console.error(S),alert("Failed to save keywords: "+S.message)}}})]}),s.jsx("div",{className:"muted",children:"Logic"}),s.jsxs("select",{value:c.logic||"AND ANY",onChange:v=>r.setLoreEntries(r.loreEntries.map(S=>S.id===c.id?{...S,logic:v.target.value}:S)),onBlur:async v=>{try{await r.updateLoreEntry(c.id,{logic:v.target.value})}catch(S){alert("Failed to save logic: "+S.message)}},children:[s.jsx("option",{children:"AND ANY"}),s.jsx("option",{children:"AND ALL"}),s.jsx("option",{children:"NOT ANY"}),s.jsx("option",{children:"NOT ALL"})]}),s.jsx("div",{className:"muted",children:"Secondary Keywords"}),s.jsx("input",{value:(c.secondary_keywords||[]).join(", "),onChange:v=>r.setLoreEntries(r.loreEntries.map(S=>S.id===c.id?{...S,secondary_keywords:v.target.value.split(",").map(O=>O.trim()).filter(Boolean)}:S)),onBlur:async v=>{try{await r.updateLoreEntry(c.id,{secondary_keywords:v.target.value.split(",").map(S=>S.trim()).filter(Boolean)})}catch(S){alert("Failed to save secondary keywords: "+S.message)}}}),s.jsx("div",{className:"muted",children:"Order"}),s.jsx("input",{type:"number",value:c.order||0,onChange:v=>r.setLoreEntries(r.loreEntries.map(S=>S.id===c.id?{...S,order:parseInt(v.target.value,10)}:S)),onBlur:async v=>{try{await r.updateLoreEntry(c.id,{order:parseInt(v.target.value,10)})}catch(S){alert("Failed to save order: "+S.message)}}}),s.jsx("div",{className:"muted",children:"Trigger %"}),s.jsx("input",{type:"number",value:c.trigger||100,onChange:v=>r.setLoreEntries(r.loreEntries.map(S=>S.id===c.id?{...S,trigger:parseInt(v.target.value,10)}:S)),onBlur:async v=>{try{await r.updateLoreEntry(c.id,{trigger:parseInt(v.target.value,10)})}catch(S){alert("Failed to save trigger: "+S.message)}}}),s.jsx("div",{className:"muted",children:"Content"}),s.jsx("textarea",{rows:4,value:c.content,onChange:v=>r.setLoreEntries(r.loreEntries.map(S=>S.id===c.id?{...S,content:v.target.value}:S)),onBlur:async v=>{try{await r.updateLoreEntry(c.id,{content:v.target.value})}catch(S){alert("Failed to save content: "+S.message)}}})]})]},c.id))}),r.selectedLorebook&&s.jsx("div",{className:"row",children:s.jsx("button",{onClick:async()=>{var c;try{const v=await fetch("/lore",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({keyword:"",content:""})});if(!v.ok)throw new Error("Failed to create entry");const S=await v.json(),R=[...((c=r.selectedLorebook)==null?void 0:c.entry_ids)||[],S.id];await Lr(r.selectedLorebook.id,{entry_ids:R});const Z=r.loreEntries;r.setLoreEntries([...Z,S]),r.loadLorebooks()}catch(v){console.error(v),alert(v.message)}},children:"+ Add Entry"})})]}),s.jsxs("div",{className:"messages","aria-live":"polite",ref:a,children:[e.messages.map((c,v)=>s.jsx("div",{className:`message ${c.role}`,children:s.jsx("div",{className:"bubble",children:c.image_url?s.jsxs("div",{children:[s.jsx("img",{src:c.image_url,alt:"generated",style:{maxWidth:"100%",borderRadius:8}}),c.content?s.jsx("div",{className:"img-caption",children:c.content}):null]}):c.content})},v)),e.error&&s.jsx("div",{className:"message error",children:s.jsx("div",{className:"bubble",children:e.error})})]}),s.jsxs("div",{className:"input-tools",children:[s.jsx("button",{className:"secondary","aria-label":"Suggest lore entries from chat",title:"Suggest lore entries from chat",onClick:async()=>{try{const c=await i(e.sessionId);if(!c.suggestions||c.suggestions.length===0){alert("No suggestions");return}h(c.suggestions),t.setSuggestOpen(!0)}catch(c){console.error(c),alert(c.message)}},children:""}),s.jsx("button",{className:"secondary","aria-label":"Generate image from chat",title:"Generate image from chat",onClick:l,children:""}),s.jsx("button",{className:"secondary","aria-label":"Send URL to phone simulator",title:"Send URL to phone",onClick:()=>{let c=prompt("Open URL on phone:");c&&(/^https?:/i.test(c)||(c="https://"+c),g(c),t.setPhoneOpen(!0))},children:""}),s.jsx("button",{className:"secondary","aria-label":"Scroll to bottom of messages",title:"Scroll to bottom",style:{marginLeft:"auto"},onClick:()=>{try{const c=document.querySelectorAll(".message.assistant");c.length>0?c[c.length-1].scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"}):a.current&&a.current.scrollTo({top:a.current.scrollHeight,behavior:"smooth"})}catch(c){console.error("Error scrolling to last message:",c)}},children:""})]}),s.jsxs("form",{className:"input-row",onSubmit:F,children:[s.jsx("input",{type:"text",placeholder:"Type your message",value:e.input,onChange:c=>e.setInput(c.target.value),onKeyDown:c=>{c.ctrlKey&&c.key==="Enter"&&F(c)},disabled:e.sending,"aria-label":"Message input (Ctrl+Enter to send)","aria-describedby":"send-button"}),s.jsx("button",{type:"submit",id:"send-button",disabled:e.sending||!e.input.trim(),children:e.sending?s.jsxs("span",{className:"loading-text",children:[s.jsx("div",{className:"spinner"}),"Sending"]}):"Send"})]}),u&&s.jsx(Qp,{character:y,lorebooks:r.lorebooks,onClose:()=>d(!1),onSave:async c=>{try{y?await yp(y.id,c):await ca(c),r.loadCharacters(),d(!1)}catch(v){alert(v.message)}},onThink:async(c,v)=>{try{const S={...v};return typeof S.alternate_greetings=="string"&&(S.alternate_greetings=S.alternate_greetings.split(",").map(R=>R.trim()).filter(Boolean)),typeof S.tags=="string"&&(S.tags=S.tags.split(",").map(R=>R.trim()).filter(Boolean)),(await suggestCharacterField(c,S)).value}catch(S){return alert(S.message),""}}}),t.suggestOpen&&s.jsx(Vp,{suggestions:I,onClose:()=>t.setSuggestOpen(!1),onApply:async(c,v)=>{try{const O=(await We()).active_lorebook_ids||[],R=v||O[0];if(!R){alert("No active lorebooks set");return}const Z=[];for(const q of c.filter(D=>D.include)){const D=await fetch("/lore",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({keyword:q.keyword,content:q.content})});if(D.ok){const ve=await D.json();Z.push(ve.id)}}if(Z.length){const D=[...(await(await fetch(`/lorebooks/${R}`)).json()).entry_ids||[],...Z];await Lr(R,{entry_ids:D})}t.setSuggestOpen(!1)}catch(S){console.error(S),alert(S.message)}}}),k&&s.jsx("section",{className:"panel overlay",onClick:()=>m(!1),children:s.jsxs("div",{className:"dialog",onClick:c=>c.stopPropagation(),children:[s.jsx("h3",{children:"Enable Structured Output?"}),s.jsx("p",{className:"muted",children:"The assistant attempted to call a tool. Structured Output improves tool reliability on Gemini models."}),s.jsxs("div",{className:"row",style:{gap:8,alignItems:"center"},children:[s.jsxs("label",{children:[s.jsx("input",{type:"checkbox",onChange:c=>C(c.target.checked)})," Don't show again (this session)"]}),s.jsx("span",{style:{flex:1}}),s.jsx("button",{className:"secondary",onClick:()=>m(!1),children:"Cancel"}),s.jsx("button",{onClick:async()=>{try{await we({structured_output:!0}),m(!1)}catch(c){alert(String(c))}},children:"Enable"})]})]})})]}),s.jsx("div",{className:"toast-container","aria-live":"assertive","aria-atomic":"true",children:w.map(c=>s.jsxs("div",{className:`toast toast-${c.type}`,children:[c.message,s.jsx("button",{className:"toast-close",onClick:()=>j(v=>v.filter(S=>S.id!==c.id)),"aria-label":"Dismiss notification",children:""})]},c.id))})]})}function Rp(){var k;const[e,t]=P.useState({active:"pollinations",pollinations:{api_key:"",model:""},dezgo:{api_key:"",model:"",lora_flux_1:"",lora_flux_2:"",lora_sd1_1:"",lora_sd1_2:"",transparent:!1,width:"",height:"",steps:"",upscale:!1}}),[n,r]=P.useState([]),[o,l]=P.useState("");P.useEffect(()=>{(async()=>{var m,p;try{const C=await We();t(C.images);const I=await vp(C.images.active);r(I.models||[]);const h=a((p=(m=C.images)==null?void 0:m.dezgo)==null?void 0:p.model);l(h)}catch(C){console.error(C)}})()},[]);const i=async m=>{try{await we({images:m})}catch(p){console.error(p),alert(p.message)}},a=m=>{const p=(m||"").toLowerCase();return p.includes("flux")?"flux":p.includes("lightning")?"sdxl_lightning":p.includes("sdxl")?"sdxl":"sd1"},u=a((k=e.dezgo)==null?void 0:k.model),d=o||u,y=[{id:"flux",label:"Flux"},{id:"sdxl",label:"SDXL"},{id:"sdxl_lightning",label:"SDXL Lightning"},{id:"sd1",label:"SD1"}],x=(n||[]).filter(m=>a(m)===d);return s.jsxs("div",{className:"config-form",children:[s.jsxs("label",{children:[s.jsx("span",{children:"Active Provider"}),s.jsxs("select",{value:e.active,onChange:async m=>{const p=m.target.value,C={...e,active:p};t(C),await i(C)},children:[s.jsx("option",{value:"pollinations",children:"Pollinations"}),s.jsx("option",{value:"dezgo",children:"Dezgo"})]})]}),e.active==="pollinations"&&s.jsxs(s.Fragment,{children:[s.jsxs("label",{children:[s.jsx("span",{children:"Model"}),s.jsxs("select",{value:e.pollinations.model||"",onChange:async m=>{const p=m.target.value,C={...e,pollinations:{...e.pollinations,model:p}};t(C),await i(C)},children:[s.jsx("option",{value:"",children:"(default)"}),n.map(m=>s.jsx("option",{value:m,children:m},m))]})]}),s.jsxs("label",{children:[s.jsx("span",{children:"API Key"}),s.jsx("input",{placeholder:e.pollinations.api_key_masked?`Saved: ${e.pollinations.api_key_masked}`:"",value:e.pollinations.api_key||"",onChange:m=>t(p=>({...p,pollinations:{...p.pollinations,api_key:m.target.value}}))})]})]}),e.active==="dezgo"&&s.jsxs(s.Fragment,{children:[s.jsxs("label",{children:[s.jsx("span",{children:"API Key"}),s.jsx("input",{placeholder:e.dezgo.api_key_masked?`Saved: ${e.dezgo.api_key_masked}`:"",value:e.dezgo.api_key||"",onChange:m=>t(p=>({...p,dezgo:{...p.dezgo,api_key:m.target.value}}))})]}),s.jsxs("label",{children:[s.jsx("span",{children:"Family"}),s.jsx("select",{value:d,onChange:m=>l(m.target.value),children:y.map(m=>s.jsx("option",{value:m.id,children:m.label},m.id))})]}),s.jsxs("label",{children:[s.jsx("span",{children:"Model"}),s.jsxs("select",{value:e.dezgo.model||"",onChange:m=>{const p=m.target.value,C=a(p),I={...e,dezgo:{...e.dezgo,model:p,steps:C==="flux"?4:C==="sdxl_lightning"?"":e.dezgo.steps||30}};t(I),i(I)},children:[s.jsx("option",{value:"",children:"(default)"}),x.map(m=>s.jsx("option",{value:m,children:m},m))]})]}),s.jsxs("div",{className:"muted",children:["Family: ",d.toUpperCase()]}),s.jsx("div",{className:"muted",children:d==="sd1"?"Transparent background disabled; Upscale available.":d==="sdxl_lightning"?"Steps disabled (Lightning is fixed).":"Transparent background available; consider steps ~30."}),d==="flux"&&s.jsxs(s.Fragment,{children:[s.jsxs("label",{children:[s.jsx("span",{children:"Flux LORA #1 (SHA256)"}),s.jsx("input",{value:e.dezgo.lora_flux_1||"",onChange:m=>t(p=>({...p,dezgo:{...p.dezgo,lora_flux_1:m.target.value}}))})]}),s.jsxs("label",{children:[s.jsx("span",{children:"Flux LORA #2 (SHA256)"}),s.jsx("input",{value:e.dezgo.lora_flux_2||"",onChange:m=>t(p=>({...p,dezgo:{...p.dezgo,lora_flux_2:m.target.value}}))})]}),s.jsxs("label",{children:[s.jsx("span",{children:"LoRA 1 Strength"}),s.jsx("input",{type:"range",min:"0",max:"1",step:"0.05",disabled:!e.dezgo.lora_flux_1,value:e.dezgo.lora1_strength??.7,onChange:m=>t(p=>({...p,dezgo:{...p.dezgo,lora1_strength:parseFloat(m.target.value)}}))})]}),s.jsxs("label",{children:[s.jsx("span",{children:"LoRA 2 Strength"}),s.jsx("input",{type:"range",min:"0",max:"1",step:"0.05",disabled:!e.dezgo.lora_flux_2,value:e.dezgo.lora2_strength??.7,onChange:m=>t(p=>({...p,dezgo:{...p.dezgo,lora2_strength:parseFloat(m.target.value)}}))})]})]}),d==="sd1"&&s.jsxs(s.Fragment,{children:[s.jsxs("label",{children:[s.jsx("span",{children:"SD1 LORA #1 (SHA256)"}),s.jsx("input",{value:e.dezgo.lora_sd1_1||"",onChange:m=>t(p=>({...p,dezgo:{...p.dezgo,lora_sd1_1:m.target.value}}))})]}),s.jsxs("label",{children:[s.jsx("span",{children:"SD1 LORA #2 (SHA256)"}),s.jsx("input",{value:e.dezgo.lora_sd1_2||"",onChange:m=>t(p=>({...p,dezgo:{...p.dezgo,lora_sd1_2:m.target.value}}))})]}),s.jsxs("label",{children:[s.jsx("span",{children:"LoRA 1 Strength"}),s.jsx("input",{type:"range",min:"0",max:"1",step:"0.05",disabled:!e.dezgo.lora_sd1_1,value:e.dezgo.lora1_strength??.7,onChange:m=>t(p=>({...p,dezgo:{...p.dezgo,lora1_strength:parseFloat(m.target.value)}}))})]}),s.jsxs("label",{children:[s.jsx("span",{children:"LoRA 2 Strength"}),s.jsx("input",{type:"range",min:"0",max:"1",step:"0.05",disabled:!e.dezgo.lora_sd1_2,value:e.dezgo.lora2_strength??.7,onChange:m=>t(p=>({...p,dezgo:{...p.dezgo,lora2_strength:parseFloat(m.target.value)}}))})]})]}),s.jsxs("label",{children:[s.jsx("span",{children:"Width"}),s.jsx("input",{type:"number",value:e.dezgo.width||"",onChange:m=>t(p=>({...p,dezgo:{...p.dezgo,width:m.target.value}}))})]}),s.jsxs("label",{children:[s.jsx("span",{children:"Height"}),s.jsx("input",{type:"number",value:e.dezgo.height||"",onChange:m=>t(p=>({...p,dezgo:{...p.dezgo,height:m.target.value}}))})]}),d!=="sdxl_lightning"&&s.jsxs("label",{children:[s.jsx("span",{children:"Steps"}),s.jsx("input",{type:"number",value:e.dezgo.steps||"",onChange:m=>t(p=>({...p,dezgo:{...p.dezgo,steps:m.target.value}}))})]}),s.jsxs("label",{children:[s.jsx("span",{children:"Transparent Background"}),s.jsx("input",{type:"checkbox",disabled:d==="sd1",checked:!!e.dezgo.transparent,onChange:m=>t(p=>({...p,dezgo:{...p.dezgo,transparent:m.target.checked}}))})]}),s.jsxs("label",{children:[s.jsx("span",{children:"Upscale"}),s.jsx("input",{type:"checkbox",disabled:d!=="sd1",checked:!!e.dezgo.upscale,onChange:m=>t(p=>({...p,dezgo:{...p.dezgo,upscale:m.target.checked}}))})]})]}),s.jsx("div",{className:"row",style:{gridColumn:"1 / -1"},children:s.jsx("button",{onClick:async()=>{try{const m=(await We()).images;if(JSON.stringify(e)!==JSON.stringify(m)&&!window.confirm("Images config.json will be updated. Proceed?"))return;await i(e),alert("Saved")}catch(m){console.error(m),alert(m.message)}},children:"Save Image Settings"})})]})}function Mp(){const[e,t]=P.useState([]),[n,r]=P.useState([]),[o,l]=P.useState(""),[i,a]=P.useState({lore_suggest:"",image_summary:"",main:"",tool_call:""}),[u,d]=P.useState({}),[y,x]=P.useState(""),[k,m]=P.useState(""),[p,C]=P.useState(!1);P.useEffect(()=>{(async()=>{try{const w=await jp();t(w.all||[]),r(w.active||[]),a(w.system||{lore_suggest:"",image_summary:""}),d(w.variables||{})}catch(w){console.error(w)}})()},[]);const I=async(w=e,j=n,_=i,N=u)=>{try{await Cp({all:w,active:j,system:_,variables:N}),t(w),r(j),a(_),d(N)}catch(z){console.error(z),alert(z.message)}},h=w=>{const j=n.includes(w)?n.filter(_=>_!==w):[...n,w];I(e,j)},f=()=>{const w=o.trim();if(!w)return;const j=[...e,w];l(""),I(j,n)},g=w=>{const j=e.filter(N=>N!==w),_=n.filter(N=>N!==w);I(j,_)};return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"config-form",style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:12},children:[s.jsxs("div",{style:{gridColumn:"1 / -1"},children:[s.jsx("h3",{children:"System Prompts"}),s.jsxs("div",{className:"muted",children:["These prompts guide built-in tools. ",s.jsx("a",{href:"#",onClick:w=>{w.preventDefault(),C(!0)},children:"Use placeholders"}),"."]})]}),s.jsxs("label",{children:[s.jsx("span",{children:"Main System Prompt"}),s.jsx("textarea",{rows:4,value:i.main||"",onChange:w=>a(j=>({...j,main:w.target.value})),onBlur:()=>I(e,n,{...i},u),placeholder:"{{tool_call_prompt}}, {{user_persona}}, {{character_description}}, {{tool_list}}, {{conversation}}"})]}),s.jsxs("label",{children:[s.jsx("span",{children:"Tool Call Prompt"}),s.jsx("textarea",{rows:4,value:i.tool_call||"",onChange:w=>a(j=>({...j,tool_call:w.target.value})),onBlur:()=>I(e,n,{...i},u),placeholder:"Describe structured output JSON with toolCalls array."})]}),s.jsxs("label",{children:[s.jsx("span",{children:"Lorebook suggestion prompt"}),s.jsx("textarea",{rows:4,value:i.lore_suggest,onChange:w=>a(j=>({...j,lore_suggest:w.target.value})),onBlur:()=>I(e,n,{...i},u),placeholder:"Use {{conversation}} and {{existing_keywords}}"})]}),s.jsxs("label",{children:[s.jsx("span",{children:"Image generation prompt"}),s.jsx("textarea",{rows:4,value:i.image_summary,onChange:w=>a(j=>({...j,image_summary:w.target.value})),onBlur:()=>I(e,n,{...i},u),placeholder:"Use {{conversation}}"})]}),s.jsxs("div",{style:{gridColumn:"1 / -1",marginTop:8},children:[s.jsx("h3",{children:"Variables"}),s.jsxs("div",{className:"muted",children:["Define reusable snippets that replace tags like ",s.jsxs("code",{children:["{","{","company","}","}"]})," anywhere the LLM sees them."]})]}),s.jsxs("div",{className:"row",style:{gap:8},children:[s.jsx("input",{placeholder:"name (e.g., site)",value:y,onChange:w=>x(w.target.value)}),s.jsx("input",{placeholder:"value",value:k,onChange:w=>m(w.target.value)}),s.jsx("button",{className:"secondary",onClick:()=>{const w=y.trim();if(!w)return;const j={...u,[w]:k};x(""),m(""),I(e,n,i,j)},children:"Add"})]}),s.jsx("div",{className:"row",style:{display:"block",marginTop:8},children:Object.entries(u).map(([w,j])=>s.jsxs("div",{className:"row",style:{gap:8,alignItems:"center",marginBottom:6},children:[s.jsx("code",{style:{width:160},children:`{{${w}}}`}),s.jsx("input",{style:{flex:1},value:j,onChange:_=>{const N={...u,[w]:_.target.value};d(N)},onBlur:()=>I(e,n,i,u)}),s.jsx("button",{className:"secondary",onClick:()=>{const _={...u};delete _[w],I(e,n,i,_)},children:"Delete"})]},w))}),s.jsxs("div",{style:{gridColumn:"1 / -1",marginTop:8},children:[s.jsx("h3",{children:"General Prompts"}),s.jsx("div",{className:"muted",children:"Short, reusable prompts that can be toggled on to influence replies globally."})]}),s.jsxs("label",{children:[s.jsx("span",{children:"New Prompt"}),s.jsxs("div",{className:"row",style:{gap:8},children:[s.jsx("input",{value:o,onChange:w=>l(w.target.value),placeholder:"Short prompt text to include in system context"}),s.jsx("button",{className:"secondary",onClick:f,children:"Add"})]})]}),s.jsx("div",{className:"row",style:{display:"block"},children:(e||[]).map((w,j)=>s.jsxs("div",{className:"row",style:{gap:8,alignItems:"center",marginBottom:6},children:[s.jsx("input",{type:"checkbox",checked:n.includes(w),onChange:()=>h(w)}),s.jsx("span",{style:{flex:1},children:w}),s.jsx("button",{className:"secondary",onClick:()=>g(w),children:"Delete"})]},j))})]}),p&&s.jsx("section",{className:"panel overlay",onClick:()=>C(!1),children:s.jsxs("div",{className:"dialog",onClick:w=>w.stopPropagation(),children:[s.jsx("h3",{children:"Available placeholders"}),s.jsxs("ul",{className:"muted",children:[s.jsxs("li",{children:[s.jsx("code",{children:"{{conversation}}"}),": recent conversation window"]}),s.jsxs("li",{children:[s.jsx("code",{children:"{{existing_keywords}}"}),": active lore keywords"]}),s.jsxs("li",{children:[s.jsx("code",{children:"{{tool_call_prompt}}"}),": tool call guidance"]}),s.jsxs("li",{children:[s.jsx("code",{children:"{{user_persona}}"}),": user persona summary"]}),s.jsxs("li",{children:[s.jsx("code",{children:"{{character_description}}"}),": character description/personality"]}),s.jsxs("li",{children:[s.jsx("code",{children:"{{tool_list}}"}),": enabled tools list"]}),Object.keys(u).map(w=>s.jsxs("li",{children:[s.jsx("code",{children:`{{${w}}}`}),": variable"]},w))]}),s.jsx("div",{className:"row",style:{justifyContent:"flex-end"},children:s.jsx("button",{className:"secondary",onClick:()=>C(!1),children:"Close"})})]})})]})}function Ap({onClose:e}){var g,w;const[t,n]=P.useState({phone:!1,image_gen:!1,lore_suggest:!1}),[r,o]=P.useState(!1),[l,i]=P.useState(!1),[a,u]=P.useState([]),[d,y]=P.useState([]),[x,k]=P.useState(""),[m,p]=P.useState(""),[C,I]=P.useState("");P.useEffect(()=>{(async()=>{try{const j=await We();o(!!j.structured_output);const _=j.active_character_id,N=await(await fetch(`/tools/settings${_?`?character_id=${_}`:""}`)).json();n(N.enabled||{})}catch(j){console.error(j)}})()},[]);const h=async j=>{try{const N=(await We()).active_character_id;await fetch(`/tools/settings${N?`?character_id=${N}`:""}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({enabled:j})}),n(j),!l&&(j.phone||j.image_gen||j.lore_suggest)&&!r&&(alert("Enabling tools benefits from Structured Output. You can toggle it in Connection settings."),i(!0))}catch(_){console.error(_),alert("Save failed")}};P.useEffect(()=>{(async()=>{try{const j=await Ep();u(j.servers||[]);const _=await Pp();y(_.items||[])}catch(j){console.error(j)}})()},[]);const f=async j=>{try{await Np({servers:j}),u(j)}catch(_){console.error(_),alert("Save failed")}};return s.jsxs("div",{className:"config-form",children:[s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:8},children:[s.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8},children:[s.jsx("input",{type:"checkbox",checked:!!t.phone,onChange:j=>h({...t,phone:j.target.checked})}),"Phone Panel ",s.jsx("em",{children:"(phone_url)"})]}),s.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8},children:[s.jsx("input",{type:"checkbox",checked:!!t.image_gen,onChange:j=>h({...t,image_gen:j.target.checked})}),"Image Generation ",s.jsx("em",{children:"(image_request)"})]}),s.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8},children:[s.jsx("input",{type:"checkbox",checked:!!t.lore_suggest,onChange:j=>h({...t,lore_suggest:j.target.checked})}),"Lore Suggest ",s.jsx("em",{children:"(lore_suggestions)"})]})]}),s.jsx("p",{className:"muted",style:{marginTop:12},children:'When tools are enabled, the assistant receives concise instructions about each tool. For Gemini models, enable "Structured Output" in Connection to get reliable tool-usage responses.'}),s.jsx("hr",{}),s.jsx("h3",{children:"MCP Servers"}),s.jsxs("label",{children:[s.jsx("span",{children:"Catalog"}),s.jsxs("div",{className:"row",style:{gap:8,alignItems:"center"},children:[s.jsxs("select",{value:x,onChange:j=>k(j.target.value),children:[s.jsx("option",{value:"",children:"(select server)"}),d.map((j,_)=>s.jsx("option",{value:_,children:j.name},_))]}),x!==""&&s.jsxs(s.Fragment,{children:[s.jsx("button",{className:"secondary",onClick:()=>{const j=d[parseInt(x,10)];if(!j)return;const _=[...a,{name:j.name,url:j.url}];f(_)},children:"Add Server"}),s.jsx("a",{className:"secondary",href:(g=d[parseInt(x,10)])==null?void 0:g.url,target:"_blank",rel:"noreferrer",children:"Open"})]})]}),x!==""&&s.jsx("div",{className:"muted",style:{marginTop:6},children:(w=d[parseInt(x,10)])==null?void 0:w.description})]}),s.jsxs("div",{className:"row",style:{gap:8},children:[s.jsx("input",{placeholder:"Name",value:m,onChange:j=>p(j.target.value)}),s.jsx("input",{placeholder:"URL or command",value:C,onChange:j=>I(j.target.value)}),s.jsx("button",{onClick:()=>{const j=m.trim(),_=C.trim();if(!j||!_)return;const N=[...a,{name:j,url:_}];f(N),p(""),I("")},children:"Add"})]}),s.jsx("div",{style:{marginTop:8},children:a.map((j,_)=>s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:4,marginBottom:6,padding:8,background:"var(--panel)",borderRadius:8},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[s.jsx("strong",{style:{fontSize:14},children:j.name}),s.jsx("button",{className:"secondary",onClick:()=>{const N=a.filter((z,V)=>V!==_);f(N)},children:"Remove"})]}),s.jsx("div",{className:"muted",style:{fontSize:12,wordBreak:"break-all"},children:j.url})]},_))}),s.jsx("div",{className:"row",style:{justifyContent:"flex-end"},children:s.jsx("button",{className:"secondary",onClick:e,children:"Close"})})]})}function $p({lorebooks:e}){const[t,n]=P.useState([]),[r,o]=P.useState("");P.useEffect(()=>{(async()=>{try{const a=await We();n(a.active_lorebook_ids||[])}catch(a){console.error(a)}})()},[]);const l=async()=>{try{const a=parseInt(r,10);if(!a)return;if(!t.includes(a)){const u=[...t,a];n(u),await we({active_lorebook_ids:u})}}catch(a){console.error(a),alert(a.message)}},i=async a=>{try{const u=t.filter(d=>d!==a);n(u),await we({active_lorebook_ids:u})}catch(u){console.error(u),alert(u.message)}};return s.jsxs("div",{className:"row",style:{gap:8,alignItems:"center"},children:[s.jsx("span",{className:"muted",children:"Active Lorebooks"}),s.jsxs("select",{value:r,onChange:a=>o(a.target.value),children:[s.jsx("option",{value:"",children:"(select)"}),e.map(a=>s.jsx("option",{value:a.id,children:a.name},a.id))]}),s.jsx("button",{className:"secondary",onClick:l,children:""}),s.jsx("div",{className:"row",style:{gap:6,flexWrap:"wrap"},children:t.map(a=>{const u=e.find(d=>d.id===a);return s.jsxs("span",{className:"secondary",style:{padding:"4px 8px",borderRadius:6},children:[u?u.name:`#${a}`," ",s.jsx("button",{className:"secondary",onClick:()=>i(a),children:""})]},a)})})]})}function Up(){const[e,t]=P.useState(""),[n,r]=P.useState(!0),[o,l]=P.useState(null);return P.useEffect(()=>{(async()=>{try{r(!0);const i=await fetch("/config/raw");if(!i.ok)throw new Error(`HTTP ${i.status}`);const a=await i.json();t(JSON.stringify(a,null,2))}catch(i){console.error(i),l(String(i)),t("")}finally{r(!1)}})()},[]),s.jsxs("div",{children:[s.jsx("p",{className:"muted",children:"Full settings.json (copy/share):"}),n?s.jsx("div",{className:"muted",children:"Loading settings"}):o?s.jsxs("div",{className:"muted",children:["Unable to load settings: ",o]}):s.jsx("textarea",{rows:16,style:{width:"100%"},value:e,onChange:i=>t(i.target.value)}),s.jsxs("div",{className:"row",style:{marginTop:8},children:[s.jsx("button",{className:"secondary",onClick:()=>{const i=new Blob([e],{type:"application/json"}),a=URL.createObjectURL(i),u=document.createElement("a");u.href=a,u.download="settings.json",u.click(),URL.revokeObjectURL(a)},children:"Export settings.json"}),s.jsxs("label",{className:"secondary",style:{padding:"8px 10px",borderRadius:6,cursor:"pointer"},children:["Import settings.json",s.jsx("input",{type:"file",accept:"application/json,.json",style:{display:"none"},onChange:async i=>{var u;const a=(u=i.target.files)==null?void 0:u[0];if(a)try{const d=await a.text(),y=JSON.parse(d);if(!(await fetch("/config/raw",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(y)})).ok)throw new Error("Import failed");alert("Imported. Reloading..."),location.reload()}catch(d){console.error(d),alert(d.message)}finally{i.target.value=""}}})]}),s.jsx("button",{onClick:async()=>{try{const i=JSON.parse(e);if(!(await fetch("/config/raw",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)})).ok)throw new Error("Save failed");alert("Saved. Reloading..."),location.reload()}catch(i){console.error(i),alert(i.message)}},children:"Save settings.json"})]}),s.jsx("hr",{}),s.jsx("p",{className:"muted",children:"Advanced settings"})]})}function Bp(){const[e,t]=P.useState([]),[n,r]=P.useState("");P.useState(null);const o=async()=>{try{const l=await fetch("/themes");if(l.ok){const i=await l.json();t(i.names||[])}}catch(l){console.error(l)}};return P.useEffect(()=>{o()},[]),s.jsxs("div",{className:"row",style:{gap:8},children:[s.jsxs("select",{value:n,onChange:l=>r(l.target.value),children:[s.jsx("option",{value:"",children:"(select)"}),e.map(l=>s.jsx("option",{value:l,children:l},l))]}),s.jsx("button",{className:"secondary",onClick:async()=>{if(n)try{const l=await fetch(`/themes/${n}`);if(!l.ok)throw new Error("Load failed");const i=await l.json();await fetch("/config",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({theme:i})});try{const a=document.documentElement;a.style.setProperty("--primary",i.primary),a.style.setProperty("--panel",i.secondary),a.style.setProperty("--text",i.text1),a.style.setProperty("--muted",i.text2),a.style.setProperty("--assistant",i.highlight),a.style.setProperty("--bg",i.lowlight)}catch(a){console.error(a)}alert("Theme loaded")}catch(l){console.error(l),alert(l.message)}},children:"Load Theme"}),s.jsx("button",{onClick:async()=>{const l=prompt("Save theme as:");if(l)try{const a=(await We()).theme||{};if(!(await fetch("/themes",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:l,theme:a})})).ok)throw new Error("Save theme failed");alert("Theme saved"),o()}catch(i){console.error(i),alert(i.message)}},children:"Save Current Theme"})]})}function Hp(){const[e,t]=P.useState({primary:"#2563eb",secondary:"#374151",text1:"#e5e7eb",text2:"#cbd5e1",highlight:"#10b981",lowlight:"#111827",phone_style:"classic"}),[n,r]=P.useState([{name:"Default",theme:{primary:"#2563eb",secondary:"#374151",text1:"#e5e7eb",text2:"#cbd5e1",highlight:"#10b981",lowlight:"#111827"}},{name:"Dark",theme:{primary:"#8b5cf6",secondary:"#1f2937",text1:"#f9fafb",text2:"#d1d5db",highlight:"#f59e0b",lowlight:"#111827"}},{name:"Light",theme:{primary:"#3b82f6",secondary:"#f3f4f6",text1:"#111827",text2:"#6b7280",highlight:"#059669",lowlight:"#f9fafb"}},{name:"Forest",theme:{primary:"#059669",secondary:"#064e3b",text1:"#ecfdf5",text2:"#a7f3d0",highlight:"#f59e0b",lowlight:"#022c22"}},{name:"Ocean",theme:{primary:"#0891b2",secondary:"#164e63",text1:"#ecfeff",text2:"#a5f3fc",highlight:"#f97316",lowlight:"#0c4a6e"}},{name:"Rose",theme:{primary:"#db2777",secondary:"#5b21b6",text1:"#fef2f2",text2:"#fecaca",highlight:"#eab308",lowlight:"#581c87"}}]);P.useEffect(()=>{(async()=>{try{const d=await We();d.theme&&t(d.theme)}catch(d){console.error(d)}})()},[]),P.useEffect(()=>{const d=document.documentElement;d.style.setProperty("--primary",e.primary),d.style.setProperty("--panel",e.secondary),d.style.setProperty("--text",e.text1),d.style.setProperty("--muted",e.text2),d.style.setProperty("--assistant",e.highlight),d.style.setProperty("--bg",e.lowlight)},[e]);const o=async d=>{t(d);try{await we({theme:d});try{window.dispatchEvent(new CustomEvent("coolchat:themeUpdate",{detail:d}))}catch{}}catch(y){console.error(y),alert(y.message)}},l=async()=>{try{const d=await fetch("/theme/suggest",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({primary:e.primary})});if(!d.ok)throw new Error("Suggest failed");const{colors:y}=await d.json();if(y.length>=5){const x={...e,secondary:y[0],text1:y[1],text2:y[2],highlight:y[3],lowlight:y[4]};await o(x)}}catch(d){console.error(d),alert(d.message)}},i=async d=>{await o({...e,...d.theme})},a=async()=>{const d={...e,secondary:e.lowlight,lowlight:e.secondary,text1:e.text1,text2:e.text2};await o(d)},u=({label:d,keyName:y,withThink:x})=>s.jsxs("label",{children:[s.jsx("span",{children:d}),s.jsxs("div",{className:"row color-row",style:{gap:8,alignItems:"center"},children:[s.jsx("input",{className:"color-swatch",type:"color",value:e[y],onChange:async k=>{await o({...e,[y]:k.target.value})}}),s.jsx("input",{style:{flex:1},value:e[y],onChange:async k=>{await o({...e,[y]:k.target.value})}}),x&&s.jsx("button",{className:"think",title:"AI suggests complementary colors for this primary",onClick:l,children:""})]})]});return s.jsxs("div",{className:"config-form",children:[s.jsxs("div",{className:"theme-preview",style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:12,marginBottom:16,padding:12,background:"var(--panel)",borderRadius:8,border:"1px solid var(--muted)"},children:[s.jsxs("div",{style:{textAlign:"center"},children:[s.jsx("div",{style:{background:"var(--primary)",width:40,height:20,borderRadius:4,margin:"0 auto 8px"}}),s.jsx("small",{style:{color:"var(--text)"},children:"Primary"})]}),s.jsxs("div",{style:{textAlign:"center"},children:[s.jsx("div",{style:{background:"var(--bg)",width:40,height:20,borderRadius:4,border:"1px solid var(--secondary)",margin:"0 auto 8px"}}),s.jsx("small",{style:{color:"var(--text)"},children:"Background"})]}),s.jsxs("div",{style:{textAlign:"center"},children:[s.jsx("div",{style:{background:"var(--panel)",width:40,height:20,borderRadius:4,border:"1px solid var(--muted)",margin:"0 auto 8px"}}),s.jsx("small",{style:{color:"var(--text)"},children:"Panel"})]}),s.jsxs("div",{style:{textAlign:"center"},children:[s.jsx("div",{style:{background:"var(--assistant)",width:40,height:20,borderRadius:4,margin:"0 auto 8px"}}),s.jsx("small",{style:{color:"var(--text)"},children:"Assistant"})]})]}),s.jsxs("label",{style:{gridColumn:"1 / -1"},children:[s.jsx("span",{children:"Preset Themes"}),s.jsxs("div",{className:"row",style:{gap:6,flexWrap:"wrap",marginTop:6},children:[n.map((d,y)=>s.jsx("button",{className:"secondary theme-btn",style:{background:`linear-gradient(45deg, ${d.theme.primary}, ${d.theme.secondary})`,color:d.theme.text1,border:"none",borderRadius:6,padding:"6px 12px",fontSize:12,cursor:"pointer"},onClick:()=>i(d),title:`Apply ${d.name} theme`,children:d.name},y)),s.jsx("button",{className:"secondary",onClick:a,title:"Swap background colors for high contrast",children:" Invert BG"})]})]}),s.jsx(u,{label:"Primary",keyName:"primary",withThink:!0}),s.jsx(u,{label:"Secondary",keyName:"secondary"}),s.jsx(u,{label:"Text 1",keyName:"text1"}),s.jsx(u,{label:"Text 2",keyName:"text2"}),s.jsx(u,{label:"Highlight",keyName:"highlight"}),s.jsx(u,{label:"Lowlight",keyName:"lowlight"}),s.jsxs("label",{children:[s.jsx("span",{children:"Phone Style"}),s.jsxs("select",{value:e.phone_style||"classic",onChange:async d=>{const y={...e,phone_style:d.target.value};await o(y);try{window.dispatchEvent(new CustomEvent("coolchat:phoneStyle",{detail:y.phone_style}))}catch{}},children:[s.jsx("option",{value:"classic",children:"Classic"}),s.jsx("option",{value:"modern",children:"Modern"}),s.jsx("option",{value:"iphone",children:"iPhone"}),s.jsx("option",{value:"cyberpunk",children:"Cyberpunk"})]})]}),s.jsxs("label",{style:{gridColumn:"1 / -1"},children:[s.jsxs("span",{style:{display:"flex",alignItems:"center",gap:8},children:["Background Animations",s.jsx("small",{style:{color:"var(--muted)",fontWeight:"normal"},children:"(Multiple allowed)"})]}),s.jsxs("div",{className:"row",style:{gap:8,alignItems:"center",marginBottom:6},children:[s.jsxs("select",{id:"anim-select",style:{flex:1},children:[s.jsx("option",{value:"gradient_flow",children:"Gradient Flow"}),s.jsx("option",{value:"floating_squares",children:"Floating Squares"}),s.jsx("option",{value:"waves",children:"Ocean Waves"}),s.jsx("option",{value:"neon_rain",children:"Neon Rain"}),s.jsx("option",{value:"matrix",children:"Matrix Code"}),s.jsx("option",{value:"particles",children:"Floating Particles"}),s.jsx("option",{value:"geometric",children:"Geometric Shapes"})]}),s.jsx("button",{className:"secondary",onClick:()=>{try{const d=document.querySelector("#anim-select"),y=d==null?void 0:d.value;if(!y||y==="")return;const x=Array.isArray(e.background_animations)?[...e.background_animations]:[];!x.includes(y)&&x.length<3?o({...e,background_animations:[...x,y]}):x.length>=3&&alert("Maximum 3 background animations allowed")}catch(d){console.error(d)}},children:"+ Add"})]}),s.jsx("div",{className:"row",style:{gap:6,flexWrap:"wrap"},children:(e.background_animations||[]).map((d,y)=>s.jsxs("span",{className:"tag",style:{padding:"4px 8px",borderRadius:12,background:"var(--panel)",border:"1px solid var(--muted)",fontSize:12,display:"flex",alignItems:"center",gap:4},children:[d,s.jsx("button",{className:"remove-tag",onClick:()=>{const x=(e.background_animations||[]).filter(k=>k!==d);o({...e,background_animations:x})},style:{border:"none",background:"transparent",color:"var(--muted)",cursor:"pointer",fontSize:14,lineHeight:1},children:""})]},y))})]}),s.jsx("hr",{}),s.jsxs("div",{style:{gridColumn:"1 / -1"},children:[s.jsxs("div",{className:"row",style:{justifyContent:"space-between",alignItems:"center"},children:[s.jsx("span",{children:s.jsx("strong",{children:"Saved Themes"})}),s.jsx("button",{className:"secondary",onClick:async()=>{const d=prompt("Export current theme as:");d&&d.trim()&&(await fetch("/themes",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:d.trim(),theme:{...e}})}),alert("Theme exported: "+d.trim()))},title:"Export current theme to saved themes",children:" Export"})]}),s.jsx("div",{style:{marginTop:8},children:s.jsx(Bp,{})})]})]})}function Vp({suggestions:e,onClose:t,onApply:n}){const[r,o]=P.useState(()=>(e||[]).map(d=>({include:!0,keyword:d.keyword||"",content:d.content||""}))),[l,i]=P.useState([]),[a,u]=P.useState("");return P.useEffect(()=>{(async()=>{var d;try{const x=(await We()).active_lorebook_ids||[];if(x.length){const m=(await listLorebooks()).filter(p=>x.includes(p.id)).map(p=>({id:p.id,name:p.name}));i(m),u(String(((d=m[0])==null?void 0:d.id)||""))}}catch(y){console.error(y)}})()},[]),s.jsxs("section",{className:"panel overlay",children:[s.jsx("h2",{children:"Lore Suggestions"}),l.length>1&&s.jsxs("div",{className:"row",style:{gap:8,alignItems:"center"},children:[s.jsx("span",{className:"muted",children:"Target Lorebook"}),s.jsx("select",{value:a,onChange:d=>u(d.target.value),children:l.map(d=>s.jsx("option",{value:d.id,children:d.name},d.id))})]}),s.jsx("div",{className:"char-list",style:{maxHeight:360,overflow:"auto"},children:r.map((d,y)=>s.jsxs("div",{className:"char-item",style:{flexDirection:"column",alignItems:"stretch"},children:[s.jsxs("div",{className:"row",style:{gap:8,alignItems:"center"},children:[s.jsx("input",{type:"checkbox",checked:d.include,onChange:x=>o(k=>k.map((m,p)=>p===y?{...m,include:x.target.checked}:m))}),s.jsx("input",{placeholder:"Keyword",value:d.keyword,onChange:x=>o(k=>k.map((m,p)=>p===y?{...m,keyword:x.target.value}:m))})]}),s.jsx("textarea",{rows:3,placeholder:"Content",value:d.content,onChange:x=>o(k=>k.map((m,p)=>p===y?{...m,content:x.target.value}:m))})]},y))}),s.jsxs("div",{className:"row",style:{justifyContent:"flex-end",gap:8,marginTop:8},children:[s.jsx("button",{className:"secondary",onClick:t,children:"Cancel"}),s.jsx("button",{onClick:()=>n(r,a?parseInt(a,10):null),children:"Add Selected"})]})]})}function Wp({sessionId:e,setSessionId:t,onClose:n}){const[r,o]=P.useState([]),[l,i]=P.useState(""),a=async()=>{try{const u=await Cc();o(u.sessions||[])}catch(u){console.error(u)}};return P.useEffect(()=>{a()},[]),s.jsxs("div",{className:"config-form",children:[s.jsxs("div",{className:"row",style:{gap:8,alignItems:"center"},children:[s.jsx("select",{value:e,onChange:async u=>{const d=u.target.value;t(d)},children:[...r].map(u=>s.jsx("option",{value:u,children:u},u))}),s.jsx("button",{className:"secondary",onClick:a,children:"Refresh"}),s.jsx("button",{className:"secondary",onClick:async()=>{try{await _c(e),await a(),t("default")}catch(u){alert(u.message)}},children:"Reset"}),s.jsx("button",{className:"secondary",onClick:n,children:"Close"})]}),s.jsxs("div",{style:{marginTop:8,display:"flex",flexDirection:"column",gap:8},children:[s.jsx("input",{placeholder:"New session id (e.g., 2025-01-01T12:00)",value:l,onChange:u=>i(u.target.value),style:{flex:1}}),s.jsx("button",{onClick:async()=>{const u=(l||"").trim()||String(Date.now());r.includes(u)||o(d=>[...d,u]),t(u),i("")},children:"New"})]})]})}function Qp({character:e,onClose:t,onSave:n,onThink:r,lorebooks:o}){const[l,i]=P.useState(()=>({name:(e==null?void 0:e.name)||"",description:(e==null?void 0:e.description)||"",avatar_url:(e==null?void 0:e.avatar_url)||"",first_message:(e==null?void 0:e.first_message)||"",alternate_greetings:((e==null?void 0:e.alternate_greetings)||[]).join(", "),scenario:(e==null?void 0:e.scenario)||"",system_prompt:(e==null?void 0:e.system_prompt)||"",personality:(e==null?void 0:e.personality)||"",mes_example:(e==null?void 0:e.mes_example)||"",creator_notes:(e==null?void 0:e.creator_notes)||"",tags:((e==null?void 0:e.tags)||[]).join(", "),post_history_instructions:(e==null?void 0:e.post_history_instructions)||"",lorebook_ids:(e==null?void 0:e.lorebook_ids)||[],image_prompt_prefix:(e==null?void 0:e.image_prompt_prefix)||"",image_prompt_suffix:(e==null?void 0:e.image_prompt_suffix)||""})),[a,u]=P.useState(null),[d,y]=P.useState(!1),[x,k]=P.useState(!1),m=async p=>{try{u(p);const C=await r(p,l);i(I=>({...I,[p]:C}))}finally{u(null)}};return s.jsx("div",{className:"modal",onClick:t,children:s.jsxs("div",{className:"dialog",onClick:p=>p.stopPropagation(),children:[s.jsx("h2",{children:e?"Edit Character":"New Character"}),s.jsxs("div",{className:"editor-grid",children:[s.jsx("span",{className:"label",children:"Name"}),s.jsxs("div",{children:[s.jsx("input",{value:l.name,onChange:p=>i(C=>({...C,name:p.target.value}))})," ",s.jsx("button",{className:"think",onClick:()=>m("name"),children:""})]}),s.jsx("span",{className:"label",children:"Avatar"}),s.jsxs("div",{children:[l.avatar_url&&s.jsx("img",{src:l.avatar_url,alt:"Avatar preview",style:{width:80,height:80,objectFit:"cover",borderRadius:8,marginRight:8,border:"1px solid #1f2937"}}),s.jsx("input",{type:"file",accept:"image/*",onChange:async p=>{var I;const C=(I=p.target.files)==null?void 0:I[0];if(C)try{k(!0);const h=new FormData;h.append("file",C);const f=await fetch("/characters/upload_avatar",{method:"POST",body:h});if(!f.ok)throw new Error("Upload failed");const g=await f.json();i(w=>({...w,avatar_url:g.avatar_url}))}catch(h){alert(h.message)}finally{k(!1),p.target.value=""}}}),s.jsx("button",{className:`paint ${d?"thinking":""}`,onClick:async()=>{try{y(!0);const p=await fetch("/characters/generate_avatar",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({character:l})});if(!p.ok)throw new Error("Generate failed");const C=await p.json();i(I=>({...I,avatar_url:C.avatar_url}))}catch(p){alert(p.message)}finally{y(!1)}},children:""})]}),s.jsx("span",{className:"label",children:"Description"}),s.jsxs("div",{children:[s.jsx("textarea",{rows:3,value:l.description,onChange:p=>i(C=>({...C,description:p.target.value}))})," ",s.jsx("button",{className:`think ${a==="description"?"thinking":""}`,onClick:()=>m("description"),children:""})]}),s.jsx("span",{className:"label",children:"First Message"}),s.jsxs("div",{children:[s.jsx("textarea",{rows:3,value:l.first_message,onChange:p=>i(C=>({...C,first_message:p.target.value}))})," ",s.jsx("button",{className:`think ${a==="first_message"?"thinking":""}`,onClick:()=>m("first_message"),children:""})]}),s.jsx("span",{className:"label",children:"Alternate Greetings (comma)"}),s.jsxs("div",{children:[s.jsx("input",{value:l.alternate_greetings,onChange:p=>i(C=>({...C,alternate_greetings:p.target.value}))})," ",s.jsx("button",{className:`think ${a==="alternate_greetings"?"thinking":""}`,onClick:()=>m("alternate_greetings"),children:""})]}),s.jsx("span",{className:"label",children:"Scenario"}),s.jsxs("div",{children:[s.jsx("textarea",{rows:3,value:l.scenario,onChange:p=>i(C=>({...C,scenario:p.target.value}))})," ",s.jsx("button",{className:`think ${a==="scenario"?"thinking":""}`,onClick:()=>m("scenario"),children:""})]}),s.jsx("span",{className:"label",children:"System Prompt"}),s.jsxs("div",{children:[s.jsx("textarea",{rows:3,value:l.system_prompt,onChange:p=>i(C=>({...C,system_prompt:p.target.value}))})," ",s.jsx("button",{className:`think ${a==="system_prompt"?"thinking":""}`,onClick:()=>m("system_prompt"),children:""})]}),s.jsx("span",{className:"label",children:"Personality"}),s.jsxs("div",{children:[s.jsx("textarea",{rows:3,value:l.personality,onChange:p=>i(C=>({...C,personality:p.target.value}))})," ",s.jsx("button",{className:`think ${a==="personality"?"thinking":""}`,onClick:()=>m("personality"),children:""})]}),s.jsx("span",{className:"label",children:"Message Example"}),s.jsxs("div",{children:[s.jsx("textarea",{rows:3,value:l.mes_example,onChange:p=>i(C=>({...C,mes_example:p.target.value}))})," ",s.jsx("button",{className:`think ${a==="mes_example"?"thinking":""}`,onClick:()=>m("mes_example"),children:""})]}),s.jsx("span",{className:"label",children:"Creator Notes"}),s.jsxs("div",{children:[s.jsx("textarea",{rows:3,value:l.creator_notes,onChange:p=>i(C=>({...C,creator_notes:p.target.value}))})," ",s.jsx("button",{className:`think ${a==="creator_notes"?"thinking":""}`,onClick:()=>m("creator_notes"),children:""})]}),s.jsx("span",{className:"label",children:"Prepend to image prompts"}),s.jsxs("div",{children:[s.jsx("input",{value:l.image_prompt_prefix,onChange:p=>i(C=>({...C,image_prompt_prefix:p.target.value}))})," ",s.jsx("button",{className:`think ${a==="image_prompt_prefix"?"thinking":""}`,onClick:()=>m("image_prompt_prefix"),children:""})]}),s.jsx("span",{className:"label",children:"Append to image prompts"}),s.jsxs("div",{children:[s.jsx("input",{value:l.image_prompt_suffix,onChange:p=>i(C=>({...C,image_prompt_suffix:p.target.value}))})," ",s.jsx("button",{className:`think ${a==="image_prompt_suffix"?"thinking":""}`,onClick:()=>m("image_prompt_suffix"),children:""})]}),s.jsx("span",{className:"label",children:"Tags (comma)"}),s.jsx("div",{children:s.jsx("input",{value:l.tags,onChange:p=>i(C=>({...C,tags:p.target.value}))})}),s.jsx("span",{className:"label",children:"Post-History Instructions"}),s.jsxs("div",{children:[s.jsx("textarea",{rows:3,value:l.post_history_instructions,onChange:p=>i(C=>({...C,post_history_instructions:p.target.value}))})," ",s.jsx("button",{className:`think ${a==="post_history_instructions"?"thinking":""}`,onClick:()=>m("post_history_instructions"),children:""})]}),s.jsx("span",{className:"label",children:"Lorebook"}),s.jsx("div",{children:s.jsxs("select",{value:l.lorebook_ids[0]||"",onChange:p=>{const C=p.target.value?[parseInt(p.target.value,10)]:[];i(I=>({...I,lorebook_ids:C}))},children:[s.jsx("option",{value:"",children:"-- None --"}),o.map(p=>s.jsx("option",{value:p.id,children:p.name},p.id))]})})]}),s.jsxs("div",{className:"row",style:{justifyContent:"flex-end",marginTop:12},children:[s.jsx("button",{className:"secondary",onClick:t,children:"Cancel"}),s.jsx("button",{onClick:()=>{const p={...l,alternate_greetings:l.alternate_greetings.split(",").map(C=>C.trim()).filter(Boolean),tags:l.tags.split(",").map(C=>C.trim()).filter(Boolean)};n(p)},children:"Save"})]})]})})}ll.createRoot(document.getElementById("root")).render(s.jsx(Tn.StrictMode,{children:s.jsx(Fp,{})}));
