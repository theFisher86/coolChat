.lorebook-dashboard{padding:16px;max-width:1400px;margin:0 auto;background:var(--bg);min-height:100vh}.dashboard-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;padding-bottom:12px;border-bottom:1px solid var(--muted)}.dashboard-actions{display:flex;gap:8px;align-items:center}.action-btn,.primary,.secondary{padding:8px 16px;border:none;border-radius:6px;font-size:14px;cursor:pointer;transition:all .2s;display:flex;align-items:center;gap:6px}.primary{background:var(--primary);color:#fff}.primary:hover,.primary.active{background:var(--primary);opacity:.8}.secondary{background:var(--panel);border:1px solid var(--muted);color:var(--text)}.secondary:hover{background:var(--panel);border-color:var(--text)}.secondary.active{background:var(--panel);color:var(--primary);border-color:var(--primary)}.dashboard-content{margin-top:20px}.lorebook-search{background:var(--panel);border-radius:8px;padding:16px;margin-bottom:20px;border:1px solid var(--muted)}.search-input-container{margin-bottom:12px}.search-input-wrapper{position:relative;display:flex;align-items:center;gap:8px}.search-input{flex:1;padding:12px;border:1px solid var(--muted);border-radius:6px;font-size:16px;background:var(--bg);color:var(--text)}.search-input:focus{outline:none;border-color:var(--primary)}.clear-search-btn,.advanced-search-btn{padding:8px;border:none;background:none;color:var(--muted);cursor:pointer;border-radius:4px;font-size:18px}.clear-search-btn:hover,.advanced-search-btn:hover{background:rgba(0,0,0,.1);color:var(--text)}.search-stats{color:var(--muted);font-size:14px;margin-top:8px}.advanced-search-panel{margin-top:16px;padding-top:16px;border-top:1px solid var(--muted)}.advanced-search-content{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:16px}.filter-group{display:flex;flex-direction:column;gap:8px}.filter-group h4{margin:0;color:var(--text);font-size:14px;font-weight:600}.filter-row{display:flex;gap:12px;margin-top:12px}.keyword-input-group{display:flex;flex-wrap:wrap;gap:6px;align-items:center}.keyword-tag{background:var(--primary);color:#fff;padding:4px 8px;border-radius:12px;font-size:12px;display:flex;align-items:center;gap:4px}.remove-keyword{background:none;border:none;color:#fff;cursor:pointer;padding:0;font-size:16px;line-height:1}.keyword-input{background:var(--bg);border:1px solid var(--muted);border-radius:4px;padding:6px 8px;font-size:12px;color:var(--text)}.keyword-input:focus{outline:none;border-color:var(--primary)}.advanced-search-actions{grid-column:1 / -1;display:flex;justify-content:flex-end;gap:8px;margin-top:16px;padding-top:16px;border-top:1px solid var(--muted)}.search-results-preview{margin-top:12px}.search-result-item{padding:12px;background:var(--bg);border-radius:6px;border:1px solid var(--muted);margin-bottom:8px}.result-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:6px}.result-header h4{margin:0;font-size:14px;color:var(--text)}.result-score{color:var(--muted);font-size:12px;background:var(--panel);padding:2px 6px;border-radius:4px}.result-content{color:var(--text);font-size:13px;margin-bottom:4px}.result-meta{color:var(--muted);font-size:12px}.lorebook-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:16px;margin-top:20px}.lorebook-table-container{background:var(--panel);border-radius:8px;overflow:hidden;border:1px solid var(--muted);margin-top:20px}.lorebook-table{width:100%;border-collapse:collapse}.lorebook-table th{background:var(--bg);border-bottom:1px solid var(--muted);padding:12px;text-align:left;font-weight:600;color:var(--text);font-size:14px}.lorebook-table td{padding:12px;border-bottom:1px solid rgba(0,0,0,.1);color:var(--text)}.lorebook-table tbody tr:hover{background:rgba(0,0,0,.05)}.lorebook-table tbody tr.selected{background:rgba(37,99,235,.1);border-left:3px solid var(--primary)}.lorebook-card{background:var(--panel);border-radius:8px;border:1px solid var(--muted);overflow:hidden;transition:all .2s;cursor:pointer}.lorebook-card:hover{transform:translateY(-2px);box-shadow:0 4px 12px #00000026;border-color:var(--primary)}.lorebook-card.selected{border-color:var(--primary);box-shadow:0 0 0 2px #2563eb33}.card-header{padding:16px;display:flex;align-items:center;gap:12px}.card-icon{font-size:24px;line-height:1}.card-title{flex:1;font-size:18px;font-weight:600;color:var(--text);margin:0}.card-actions{display:flex;gap:4px}.card-actions button,.card-cog{background:none;border:none;cursor:pointer;padding:4px;border-radius:4px;font-size:16px;color:var(--muted);transition:all .2s}.card-actions button:hover{background:rgba(0,0,0,.1);color:var(--text)}.card-content{padding:0 16px 16px}.card-description{opacity:.8;margin-bottom:12px;font-size:14px;line-height:1.4}.card-stats{display:grid;grid-template-columns:1fr 1fr;gap:8px}.stat{display:flex;flex-direction:column;gap:2px}.stat-label{font-size:12px;color:var(--muted);text-transform:uppercase;letter-spacing:.5px}.stat-value{font-size:14px;font-weight:600;color:var(--text)}.selection-indicator{background:var(--primary);color:#fff;padding:4px 8px;font-size:12px;text-align:center;font-weight:600}.sorting-controls{display:flex;align-items:center;gap:8px;margin-bottom:16px;flex-wrap:wrap}.sorting-controls>span:first-child{color:var(--muted);font-size:14px}.sort-btn{padding:6px 12px;border:1px solid var(--muted);background:var(--panel);color:var(--text);border-radius:16px;cursor:pointer;font-size:12px;transition:all .2s}.sort-btn:hover{border-color:var(--primary);color:var(--primary)}.sort-btn.active{background:var(--primary);color:#fff;border-color:var(--primary)}.bulk-actions-panel{background:var(--panel);border:1px solid var(--muted);border-radius:8px;padding:12px 16px;margin-bottom:20px;display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;gap:12px}.bulk-selection-info{display:flex;align-items:center;gap:8px}.selection-count{background:var(--primary);color:#fff;padding:4px 8px;border-radius:12px;font-size:12px;font-weight:600}.clear-selection-btn{background:none;border:none;color:var(--muted);cursor:pointer;font-size:16px;padding:2px;border-radius:4px}.clear-selection-btn:hover{color:var(--primary);background:rgba(37,99,235,.1)}.bulk-action-buttons{display:flex;gap:8px;align-items:center}.bulk-action-btn{padding:6px 12px;background:var(--bg);border:1px solid var(--muted);border-radius:4px;color:var(--text);cursor:pointer;font-size:12px;transition:all .2s;white-space:nowrap}.bulk-action-btn:hover{border-color:var(--primary);background:rgba(37,99,235,.1)}.bulk-action-btn.active{background:var(--primary);color:#fff;border-color:var(--primary)}.bulk-action-btn.delete-btn{color:#dc2626;border-color:#dc2626}.bulk-action-btn.delete-btn:hover{background:rgba(220,38,38,.1)}.bulk-edit-panel{position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.5);z-index:1000;display:flex;align-items:center;justify-content:center}.bulk-edit-panel .close-btn{float:right;padding:4px 8px;background:none;border:none;font-size:20px;cursor:pointer;color:var(--muted)}.panel-content{background:var(--bg);min-width:500px;max-width:600px;max-height:80vh;border-radius:8px;border:1px solid var(--muted);overflow:hidden}.panel-header{padding:16px;border-bottom:1px solid var(--muted);display:flex;justify-content:space-between;align-items:center}.bulk-edit-content{padding:16px}.field-selector,.value-input,.preview-section{margin-bottom:16px}.field-selector select,.value-input select,.value-input input{width:100%;padding:8px;border:1px solid var(--muted);border-radius:4px;background:var(--bg);color:var(--text)}.field-selector select:focus,.value-input select:focus,.value-input input:focus{outline:none;border-color:var(--primary)}.panel-actions{padding:16px;border-top:1px solid var(--muted);display:flex;justify-content:flex-end;gap:8px}.lorebook-import-panel{max-width:600px;margin:0 auto}.lorebook-import-panel .panel-header{padding:16px;border-bottom:1px solid var(--muted)}.import-content{padding:16px}.file-dropzone{border:2px dashed var(--muted);border-radius:8px;padding:40px 20px;text-align:center;cursor:pointer;transition:all .2s;background:var(--bg)}.file-dropzone:hover,.file-dropzone.dragging{border-color:var(--primary);background:rgba(37,99,235,.05)}.dropzone-content{display:flex;flex-direction:column;align-items:center;gap:16px}.upload-icon{font-size:48px;opacity:.6}.dropzone-content p{margin:0;color:var(--text)}.file-input-label{cursor:pointer;background:var(--primary);color:#fff;padding:8px 16px;border-radius:4px;transition:all .2s}.file-input-label:hover{opacity:.8}.file-info{color:var(--muted);font-size:12px}.file-preview{display:flex;flex-direction:column;gap:20px}.file-header{display:flex;justify-content:space-between;align-items:center;padding:12px;background:var(--panel);border-radius:6px}.file-info h4{margin:0;color:var(--text)}.file-size{color:var(--muted);font-size:12px}.error-message{color:#dc2626;background:rgba(220,38,38,.1);border:1px solid rgba(220,38,38,.2);border-radius:4px;padding:8px 12px;display:flex;align-items:center;gap:8px}.error-icon{font-size:16px}.import-preview{background:var(--panel);border-radius:8px;padding:16px;border:1px solid var(--muted)}.preview-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:12px;margin-bottom:20px}.preview-section{display:flex;flex-direction:column;gap:4px}.preview-section label{font-size:12px;color:var(--muted);text-transform:uppercase;letter-spacing:.5px;margin:0}.preview-section span{font-size:14px;color:var(--text);font-weight:500}.sample-entries{border-top:1px solid var(--muted);padding-top:16px}.sample-entries h5{margin:0 0 12px;color:var(--text)}.entry-preview{display:flex;flex-direction:column;gap:12px}.entry-summary{background:var(--bg);border:1px solid var(--muted);border-radius:4px;padding:12px}.entry-title{font-weight:600;@keyframes spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}color:var(--text);margin-bottom:4px}.entry-title .modal-overlay{position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.5);z-index:1000;display:flex;align-items:center;justify-content:center;padding:16px}.entry-title .large-modal .modal-content{max-width:calc(100vw - 32px);width:calc(100vw - 32px)}.entry-title .modal-header{padding:16px 20px;border-bottom:1px solid var(--muted);display:flex;justify-content:space-between;align-items:center}.entry-title .modal-header .large-modal .modal-content{max-width:calc(100vw - 32px);width:calc(100vw - 32px)}.entry-title .modal-header h2{margin:0;color:var(--text);font-size:18px}.entry-title .modal-header .close-btn{background:none;border:none;font-size:24px;cursor:pointer;color:var(--muted);padding:0;width:32px;height:32px;border-radius:50%;display:flex;align-items:center;justify-content:center}.entry-title .modal-header .close-btn:hover{background:rgba(0,0,0,.1);color:var(--text)}.entry-title .modal-body{padding:20px;flex:1;overflow-y:auto}.entry-title .modal-footer{padding:16px 20px;border-top:1px solid var(--muted);display:flex;justify-content:flex-end;gap:12px}.entry-title .form-group{margin-bottom:16px;display:flex;flex-direction:column;gap:4px}.entry-title .form-row{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:16px;margin-bottom:16px}.entry-title .form-group label{font-size:14px;font-weight:600;color:var(--text);margin:0}.entry-title .form-group input,.entry-title .form-group select,.entry-title .form-group textarea{padding:8px 12px;border:1px solid var(--muted);border-radius:6px;background:var(--bg);color:var(--text);font-size:14px}.entry-title .form-group input:focus,.entry-title .form-group select:focus,.entry-title .form-group textarea:focus{outline:none;border-color:var(--primary)}.entry-title .form-group input:focus .lore-entry-manager,.entry-title .form-group select:focus .lore-entry-manager,.entry-title .form-group textarea:focus .lore-entry-manager{padding:20px;max-width:100%}.entry-title .form-group input:focus .lore-entry-manager,.entry-title .form-group select:focus .lore-entry-manager,.entry-title .form-group textarea:focus .lore-entry-manager{max-width:1200px;margin:0 auto;padding:20px}.entry-title .form-group input:focus .entry-manager-header,.entry-title .form-group select:focus .entry-manager-header,.entry-title .form-group textarea:focus .entry-manager-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;gap:16px;flex-wrap:wrap}.entry-title .form-group input:focus .entry-info,.entry-title .form-group select:focus .entry-info,.entry-title .form-group textarea:focus .entry-info{flex:1}.entry-title .form-group input:focus .entry-info h2,.entry-title .form-group select:focus .entry-info h2,.entry-title .form-group textarea:focus .entry-info h2{margin:0;color:var(--text);font-size:20px}.entry-title .form-group input:focus .bulk-select-count,.entry-title .form-group select:focus .bulk-select-count,.entry-title .form-group textarea:focus .bulk-select-count{margin-left:12px;padding:4px 8px;background:var(--primary);color:#fff;border-radius:12px;font-size:12px;font-weight:500}.entry-title .form-group input:focus .header-actions,.entry-title .form-group select:focus .header-actions,.entry-title .form-group textarea:focus .header-actions{display:flex;gap:8px;align-items:center}.entry-title .form-group input:focus .filter-input,.entry-title .form-group select:focus .filter-input,.entry-title .form-group textarea:focus .filter-input{padding:8px 12px;border:1px solid var(--muted);border-radius:6px;background:var(--bg);color:var(--text);font-size:14px;min-width:200px}.entry-title .form-group input:focus .filter-input:focus,.entry-title .form-group select:focus .filter-input:focus,.entry-title .form-group textarea:focus .filter-input:focus{outline:none;border-color:var(--primary)}.entry-title .form-group input:focus .clear-filter-btn,.entry-title .form-group select:focus .clear-filter-btn,.entry-title .form-group textarea:focus .clear-filter-btn{background:none;border:none;color:var(--muted);cursor:pointer;font-size:18px;padding:2px}.entry-title .form-group input:focus .bulk-actions-bar,.entry-title .form-group select:focus .bulk-actions-bar,.entry-title .form-group textarea:focus .bulk-actions-bar{background:var(--panel);border:1px solid var(--muted);border-radius:6px;padding:12px 16px;margin-bottom:20px;display:flex;align-items:center;gap:12px;flex-wrap:wrap}.entry-title .form-group input:focus .bulk-delete-btn,.entry-title .form-group select:focus .bulk-delete-btn,.entry-title .form-group textarea:focus .bulk-delete-btn{background:#dc2626;color:#fff;border:none;padding:6px 12px;border-radius:4px;cursor:pointer;font-size:12px}.entry-title .form-group input:focus .bulk-delete-btn:hover,.entry-title .form-group select:focus .bulk-delete-btn:hover,.entry-title .form-group textarea:focus .bulk-delete-btn:hover{background:#b91c1c}.entry-title .form-group input:focus .cancel-bulk-btn,.entry-title .form-group select:focus .cancel-bulk-btn,.entry-title .form-group textarea:focus .cancel-bulk-btn{background:var(--bg);border:1px solid var(--muted);color:var(--text);padding:6px 12px;border-radius:4px;cursor:pointer;font-size:12px}.entry-title .form-group input:focus .cancel-bulk-btn:hover,.entry-title .form-group select:focus .cancel-bulk-btn:hover,.entry-title .form-group textarea:focus .cancel-bulk-btn:hover{border-color:var(--text)}.entry-title .form-group input:focus .sort-controls,.entry-title .form-group select:focus .sort-controls,.entry-title .form-group textarea:focus .sort-controls{display:flex;align-items:center;gap:8px;margin-bottom:16px;flex-wrap:wrap}.entry-title .form-group input:focus .sort-controls>span:first-child,.entry-title .form-group select:focus .sort-controls>span:first-child,.entry-title .form-group textarea:focus .sort-controls>span:first-child{color:var(--muted);font-size:14px}.entry-title .form-group input:focus .entry-table-container,.entry-title .form-group select:focus .entry-table-container,.entry-title .form-group textarea:focus .entry-table-container{background:var(--panel);border-radius:8px;border:1px solid var(--muted);overflow:hidden;margin-bottom:20px}.entry-title .form-group input:focus .entry-table,.entry-title .form-group select:focus .entry-table,.entry-title .form-group textarea:focus .entry-table{width:100%;border-collapse:collapse;font-size:14px}.entry-title .form-group input:focus .entry-table th,.entry-title .form-group select:focus .entry-table th,.entry-title .form-group textarea:focus .entry-table th{background:var(--bg);border-bottom:1px solid var(--muted);padding:12px 8px;text-align:left;font-weight:600;color:var(--text);white-space:nowrap}.entry-title .form-group input:focus .entry-table th.checkbox-col,.entry-title .form-group select:focus .entry-table th.checkbox-col,.entry-title .form-group textarea:focus .entry-table th.checkbox-col{width:40px;text-align:center}.entry-title .form-group input:focus .entry-table th:first-child,.entry-title .form-group select:focus .entry-table th:first-child,.entry-title .form-group textarea:focus .entry-table th:first-child{padding-left:16px}.entry-title .form-group input:focus .entry-table th:last-child,.entry-title .form-group select:focus .entry-table th:last-child,.entry-title .form-group textarea:focus .entry-table th:last-child{padding-right:16px}.entry-title .form-group input:focus .entry-table td,.entry-title .form-group select:focus .entry-table td,.entry-title .form-group textarea:focus .entry-table td{padding:12px 8px;border-bottom:1px solid rgba(0,0,0,.1);color:var(--text);vertical-align:top}.entry-title .form-group input:focus .entry-table td.checkbox-col,.entry-title .form-group select:focus .entry-table td.checkbox-col,.entry-title .form-group textarea:focus .entry-table td.checkbox-col{text-align:center;padding:12px}.entry-title .form-group input:focus .entry-table td:first-child,.entry-title .form-group select:focus .entry-table td:first-child,.entry-title .form-group textarea:focus .entry-table td:first-child{padding-left:16px}.entry-title .form-group input:focus .entry-table td:last-child,.entry-title .form-group select:focus .entry-table td:last-child,.entry-title .form-group textarea:focus .entry-table td:last-child{padding-right:16px}.entry-title .form-group input:focus .entry-table tbody tr:hover,.entry-title .form-group select:focus .entry-table tbody tr:hover,.entry-title .form-group textarea:focus .entry-table tbody tr:hover{background:rgba(0,0,0,.05)}.entry-title .form-group input:focus .entry-table tbody tr.selected,.entry-title .form-group select:focus .entry-table tbody tr.selected,.entry-title .form-group textarea:focus .entry-table tbody tr.selected{background:rgba(37,99,235,.1);border-left:3px solid var(--primary)}.entry-title .form-group input:focus .entry-table tbody tr.active,.entry-title .form-group select:focus .entry-table tbody tr.active,.entry-title .form-group textarea:focus .entry-table tbody tr.active{background:rgba(37,99,235,.2);border:2px solid var(--primary)}.entry-title .form-group input:focus .title-col,.entry-title .form-group select:focus .title-col,.entry-title .form-group textarea:focus .title-col{min-width:200px;max-width:300px}.entry-title .form-group input:focus .content-preview,.entry-title .form-group select:focus .content-preview,.entry-title .form-group textarea:focus .content-preview{font-size:12px;color:var(--muted);margin-top:4px;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}.entry-title .form-group input:focus .keywords-col,.entry-title .form-group select:focus .keywords-col,.entry-title .form-group textarea:focus .keywords-col{min-width:150px;max-width:250px}.entry-title .form-group input:focus .secondary-keywords,.entry-title .form-group select:focus .secondary-keywords,.entry-title .form-group textarea:focus .secondary-keywords{font-size:11px;color:var(--muted);margin-top:2px}.entry-title .form-group input:focus .logic-col,.entry-title .form-group select:focus .logic-col,.entry-title .form-group textarea:focus .logic-col{min-width:80px}.entry-title .form-group input:focus .trigger-col,.entry-title .form-group select:focus .trigger-col,.entry-title .form-group textarea:focus .trigger-col{min-width:70px;text-align:center}.entry-title .form-group input:focus .order-col,.entry-title .form-group select:focus .order-col,.entry-title .form-group textarea:focus .order-col{min-width:60px;text-align:center}.entry-title .form-group input:focus .updated-col,.entry-title .form-group select:focus .updated-col,.entry-title .form-group textarea:focus .updated-col{min-width:90px;font-size:12px;color:var(--muted)}.entry-title .form-group input:focus .actions-col,.entry-title .form-group select:focus .actions-col,.entry-title .form-group textarea:focus .actions-col{min-width:80px;text-align:center}.entry-title .form-group input:focus .actions-col button,.entry-title .form-group select:focus .actions-col button,.entry-title .form-group textarea:focus .actions-col button{background:none;border:none;cursor:pointer;padding:4px;font-size:14px;color:var(--muted);margin:0 2px}.entry-title .form-group input:focus .actions-col button:hover,.entry-title .form-group select:focus .actions-col button:hover,.entry-title .form-group textarea:focus .actions-col button:hover{color:var(--text)}.entry-title .form-group input:focus .actions-col button.delete-btn,.entry-title .form-group select:focus .actions-col button.delete-btn,.entry-title .form-group textarea:focus .actions-col button.delete-btn{color:#dc2626}.entry-title .form-group input:focus .actions-col button.delete-btn:hover,.entry-title .form-group select:focus .actions-col button.delete-btn:hover,.entry-title .form-group textarea:focus .actions-col button.delete-btn:hover{color:#b91c1c}.entry-title .form-group input:focus .empty-table,.entry-title .form-group select:focus .empty-table,.entry-title .form-group textarea:focus .empty-table{text-align:center;padding:60px 20px}.entry-title .form-group input:focus .empty-table h3,.entry-title .form-group select:focus .empty-table h3,.entry-title .form-group textarea:focus .empty-table h3{margin:0 0 12px;color:var(--text)}.entry-title .form-group input:focus .empty-table p,.entry-title .form-group select:focus .empty-table p,.entry-title .form-group textarea:focus .empty-table p{color:var(--muted);margin-bottom:20px}.entry-title .form-group input:focus .no-filter-results,.entry-title .form-group input:focus .no-entries,.entry-title .form-group select:focus .no-filter-results,.entry-title .form-group select:focus .no-entries,.entry-title .form-group textarea:focus .no-filter-results,.entry-title .form-group textarea:focus .no-entries{display:flex;flex-direction:column;align-items:center;gap:12px}.entry-title .form-group input:focus .entry-pagination,.entry-title .form-group select:focus .entry-pagination,.entry-title .form-group textarea:focus .entry-pagination{display:flex;justify-content:space-between;align-items:center;margin-top:20px;flex-wrap:wrap;gap:16px}.entry-title .form-group input:focus .page-info,.entry-title .form-group select:focus .page-info,.entry-title .form-group textarea:focus .page-info{color:var(--muted);font-size:14px}.entry-title .form-group input:focus .page-controls,.entry-title .form-group select:focus .page-controls,.entry-title .form-group textarea:focus .page-controls{display:flex;gap:4px;align-items:center}.entry-title .form-group input:focus .page-controls button,.entry-title .form-group select:focus .page-controls button,.entry-title .form-group textarea:focus .page-controls button{padding:6px 12px;border:1px solid var(--muted);background:var(--bg);color:var(--text);border-radius:4px;cursor:pointer;transition:all .2s}.entry-title .form-group input:focus .page-controls button:hover:not(:disabled),.entry-title .form-group select:focus .page-controls button:hover:not(:disabled),.entry-title .form-group textarea:focus .page-controls button:hover:not(:disabled){border-color:var(--text)}.entry-title .form-group input:focus .page-controls button:disabled,.entry-title .form-group select:focus .page-controls button:disabled,.entry-title .form-group textarea:focus .page-controls button:disabled{opacity:.5;cursor:not-allowed}.entry-title .form-group input:focus .current-page,.entry-title .form-group select:focus .current-page,.entry-title .form-group textarea:focus .current-page{padding:6px 12px;background:var(--primary);color:#fff;border-radius:4px;font-weight:500}.entry-title .form-group input:focus .page-size-selector,.entry-title .form-group select:focus .page-size-selector,.entry-title .form-group textarea:focus .page-size-selector{display:flex;align-items:center;gap:8px}.entry-title .form-group input:focus .page-size-selector label,.entry-title .form-group select:focus .page-size-selector label,.entry-title .form-group textarea:focus .page-size-selector label{color:var(--muted);font-size:14px}.entry-title .form-group input:focus .page-size-selector select,.entry-title .form-group select:focus .page-size-selector select,.entry-title .form-group textarea:focus .page-size-selector select{padding:4px 8px;border:1px solid var(--muted);border-radius:4px;background:var(--bg);color:var(--text);cursor:pointer}.entry-title .form-group input:focus .add-entry-fab,.entry-title .form-group select:focus .add-entry-fab,.entry-title .form-group textarea:focus .add-entry-fab{position:fixed;bottom:24px;right:24px;z-index:100}.entry-title .form-group input:focus .fab-btn,.entry-title .form-group select:focus .fab-btn,.entry-title .form-group textarea:focus .fab-btn{width:56px;height:56px;border-radius:50%;background:var(--primary);color:#fff;border:none;font-size:24px;cursor:pointer;box-shadow:0 4px 12px #0000004d;transition:all .2s;display:flex;align-items:center;justify-content:center}.entry-title .form-group input:focus .fab-btn:hover,.entry-title .form-group select:focus .fab-btn:hover,.entry-title .form-group textarea:focus .fab-btn:hover{transform:scale(1.1);box-shadow:0 6px 16px #0006}.entry-title .form-group input:focus .no-selection,.entry-title .form-group select:focus .no-selection,.entry-title .form-group textarea:focus .no-selection{display:flex;align-items:center;justify-content:center;min-height:400px}.entry-title .form-group input:focus .no-selection .empty-state,.entry-title .form-group select:focus .no-selection .empty-state,.entry-title .form-group textarea:focus .no-selection .empty-state{text-align:center}.entry-title .form-group input:focus .no-selection .empty-icon,.entry-title .form-group select:focus .no-selection .empty-icon,.entry-title .form-group textarea:focus .no-selection .empty-icon{font-size:64px;margin-bottom:20px;opacity:.6}.entry-title .form-group input:focus .no-selection h3,.entry-title .form-group select:focus .no-selection h3,.entry-title .form-group textarea:focus .no-selection h3{color:var(--text);margin:0 0 12px}.entry-title .form-group input:focus .no-selection p,.entry-title .form-group select:focus .no-selection p,.entry-title .form-group textarea:focus .no-selection p{color:var(--muted);margin:0}@media (max-width: 768px){.entry-title .form-group input:focus .entry-manager-header,.entry-title .form-group select:focus .entry-manager-header,.entry-title .form-group textarea:focus .entry-manager-header{flex-direction:column;align-items:stretch}.entry-title .form-group input:focus .filter-input,.entry-title .form-group select:focus .filter-input,.entry-title .form-group textarea:focus .filter-input{min-width:150px}.entry-title .form-group input:focus .entry-table,.entry-title .form-group select:focus .entry-table,.entry-title .form-group textarea:focus .entry-table{font-size:12px}.entry-title .form-group input:focus .entry-table th,.entry-title .form-group input:focus .entry-table td,.entry-title .form-group select:focus .entry-table th,.entry-title .form-group select:focus .entry-table td,.entry-title .form-group textarea:focus .entry-table th,.entry-title .form-group textarea:focus .entry-table td{padding:8px 4px}.entry-title .form-group input:focus .title-col,.entry-title .form-group select:focus .title-col,.entry-title .form-group textarea:focus .title-col{min-width:150px;max-width:200px}.entry-title .form-group input:focus .keywords-col,.entry-title .form-group select:focus .keywords-col,.entry-title .form-group textarea:focus .keywords-col{min-width:120px;max-width:200px}.entry-title .form-group input:focus .content-preview,.entry-title .form-group select:focus .content-preview,.entry-title .form-group textarea:focus .content-preview{-webkit-line-clamp:1;max-height:16px}.entry-title .form-group input:focus .bulk-actions-bar,.entry-title .form-group select:focus .bulk-actions-bar,.entry-title .form-group textarea:focus .bulk-actions-bar{flex-direction:column;align-items:stretch}.entry-title .form-group input:focus .entry-pagination,.entry-title .form-group select:focus .entry-pagination,.entry-title .form-group textarea:focus .entry-pagination{justify-content:center;flex-direction:column;gap:12px}.entry-title .form-group input:focus .add-entry-fab,.entry-title .form-group select:focus .add-entry-fab,.entry-title .form-group textarea:focus .add-entry-fab{bottom:16px;right:16px}}@media (max-width: 480px){.entry-title .form-group input:focus .entry-table-container,.entry-title .form-group select:focus .entry-table-container,.entry-title .form-group textarea:focus .entry-table-container{overflow-x:auto}.entry-title .form-group input:focus .actions-col,.entry-title .form-group select:focus .actions-col,.entry-title .form-group textarea:focus .actions-col{position:sticky;right:0;background:var(--panel);box-shadow:-4px 0 8px #0000001a}}.entry-title .form-group textarea{resize:vertical;font-family:inherit}.entry-title .lorebook-editor{display:flex;flex-direction:column;gap:24px}.entry-title .lorebook-editor .editor-section{display:flex;flex-direction:column;gap:12px}.entry-title .lorebook-editor .keyword-grid{display:grid;grid-template-columns:1fr;gap:24px}.entry-title .lorebook-editor .keyword-tags{max-height:none;overflow-y:visible;flex-wrap:wrap;gap:8px}.entry-title .lorebook-editor .keyword-tags .entries-editor{display:grid;grid-template-columns:1fr 1fr;gap:24px}.entry-title .entries-editor{background-color:#dc143c;display:grid;grid-template-columns:repeat(2,1fr);gap:1rem;padding:1rem;box-sizing:border-box}.entry-title .entries-editor>.form-row:first-of-type{display:grid;grid-template-columns:40% 20% 40%}.entry-title .btn-primary{background:var(--primary);color:#fff;border:none;padding:8px 16px;border-radius:6px;cursor:pointer;font-size:14px;font-weight:500;transition:all .2s}.entry-title .btn-primary:hover:not(:disabled){opacity:.9;transform:translateY(-1px)}.entry-title .btn-primary:disabled{opacity:.6;cursor:not-allowed;transform:none}.entry-title .btn-secondary{background:var(--panel);color:var(--text);border:1px solid var(--muted);padding:8px 16px;border-radius:6px;cursor:pointer;font-size:14px;transition:all .2s}.entry-title .btn-secondary:hover{border-color:var(--text);background:var(--bg)}.entry-title .keyword-section{display:flex;flex-direction:column;gap:8px}.entry-title .keyword-tags{display:flex;flex-wrap:wrap;gap:6px;min-height:32px}.entry-title .keyword-tag{background:var(--primary);color:#fff;padding:4px 8px;border-radius:12px;font-size:12px;display:flex;align-items:center;gap:4px}.entry-title .keyword-tag.secondary{background:#6b7280}.entry-title .remove-keyword{background:none;border:none;color:#fff;cursor:pointer;padding:0;font-size:14px;line-height:1;opacity:.8}.entry-title .remove-keyword:hover{opacity:1}.entry-title .keyword-section input,.entry-title .trigger-slider{width:100%}.entry-title .trigger-value{text-align:center;font-weight:500;color:var(--text);margin-top:4px}.entry-title .entry-preview{background:var(--panel);border:1px solid var(--muted);border-radius:6px;padding:12px;min-height:80px}.entry-title .preview-title{font-weight:600;color:var(--text);margin-bottom:4px}.entry-title .preview-content{font-size:13px;color:var(--muted);margin-bottom:8px;line-height:1.4}.entry-title .preview-meta{font-size:12px;color:var(--muted)}.entry-title .dropdown-menu{position:relative}.entry-title .dropdown-content{position:absolute;top:100%;right:0;background:var(--panel);border:1px solid var(--muted);border-radius:6px;min-width:160px;z-index:1001;box-shadow:0 4px 12px #00000026;opacity:0;visibility:hidden;transform:translateY(-8px);transition:all .2s}.entry-title .dropdown-menu:hover .dropdown-content,.entry-title .dropdown-menu:focus-within .dropdown-content{opacity:1;visibility:visible;transform:translateY(0)}.entry-title .dropdown-content button{width:100%;text-align:left;padding:8px 16px;background:none;border:none;cursor:pointer;color:var(--text);font-size:14px;border-radius:0}.entry-title .dropdown-content button:first-child{border-radius:6px 6px 0 0}.entry-title .dropdown-content button:last-child{border-radius:0 0 6px 6px}.entry-title .dropdown-content button:only-child{border-radius:6px}.entry-title .dropdown-content button:hover{background:var(--bg)}.entry-title .bulk-edit-panel .panel-header{padding:16px;border-bottom:1px solid var(--muted);display:flex;justify-content:space-between;align-items:center}.entry-title .bulk-edit-content{padding:16px}.entry-title .field-selector select,.entry-title .value-input select,.entry-title .value-input input{width:100%;padding:8px;border:1px solid var(--muted);border-radius:4px;background:var(--bg);color:var(--text)}.entry-title .field-selector select:focus,.entry-title .value-input select:focus,.entry-title .value-input input:focus{outline:none;border-color:var(--primary)}.entry-title .bulk-tagging-panel{margin-top:12px;padding:12px;background:var(--bg);border-radius:6px;border:1px solid var(--muted)}.entry-title .tag-input-group{display:flex;gap:8px;align-items:center}.entry-title .tag-input-group input{flex:1;padding:6px 8px;border:1px solid var(--muted);border-radius:4px;background:var(--bg);color:var(--text)}.entry-title .add-tag-btn,.entry-title .cancel-tag-btn{padding:6px 12px;border:1px solid var(--muted);background:var(--panel);color:var(--text);border-radius:4px;cursor:pointer;font-size:12px}.entry-title .add-tag-btn:hover{border-color:var(--primary)}.entry-title .cancel-tag-btn{background:var(--bg);border-color:var(--muted)}.entry-title .bulk-delete-confirm{padding:16px;background:#fef2f2;border:1px solid #fca5a5;border-radius:6px;margin-top:12px}.entry-title .confirm-message{color:#dc2626;font-weight:500;margin-bottom:8px}.entry-title .confirm-actions{display:flex;justify-content:flex-end;gap:8px}.entry-title .confirm-delete-btn.danger{background:#dc2626;color:#fff;border-color:#dc2626}.entry-title .confirm-delete-btn.danger:hover{background:#b91c1c}.entry-title .lorebook-card.quick-create-card{border:2px dashed var(--muted);background:var(--bg)}.entry-title .quick-create-card .card-content{text-align:center}.entry-title .quick-create-form{display:flex;flex-direction:column;gap:12px;max-width:280px;margin:0 auto}.entry-title .quick-create-form input,.entry-title .quick-create-form textarea{padding:8px 12px;border:1px solid var(--muted);border-radius:4px;background:var(--bg);color:var(--text);font-size:14px}.entry-title .quick-create-form input:focus,.entry-title .quick-create-form textarea:focus{outline:none;border-color:var(--primary)}.entry-title .quick-create-form textarea{resize:vertical;min-height:60px}.entry-title .loading{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:40px;text-align:center}.entry-title .loading-spinner{width:32px;height:32px;border:3px solid var(--muted);border-top:3px solid var(--primary);border-radius:50%;animation:spin 1s linear infinite;margin-bottom:16px}.entry-title .stats{color:var(--muted);font-size:12px;margin-left:auto}@media (max-width: 768px){.entry-title .modal-content{margin:16px;max-width:none;width:calc(100% - 32px)}.entry-title .form-row{grid-template-columns:1fr}.entry-title .keyword-tags{max-height:120px;overflow-y:auto}}.entry-content,.entry-keywords{font-size:12px;color:var(--muted);line-height:1.4}.import-actions{display:flex;justify-content:flex-end;gap:8px;margin-top:20px}.import-btn{min-width:140px}@media (max-width: 768px){.lorebook-dashboard{padding:8px}.dashboard-header{flex-direction:column;gap:12px;align-items:stretch}.dashboard-actions{justify-content:center}.lorebook-grid{grid-template-columns:1fr;gap:12px}.lorebook-table{font-size:12px}.sorting-controls{justify-content:center}.bulk-actions-panel{flex-direction:column;align-items:stretch}.advanced-search-content,.preview-grid{grid-template-columns:1fr}}.lorebook-dashboard ::-webkit-scrollbar{width:6px;height:6px}.lorebook-dashboard ::-webkit-scrollbar-track{background:var(--bg)}.lorebook-dashboard ::-webkit-scrollbar-thumb{background:var(--muted);border-radius:3px}.lorebook-dashboard ::-webkit-scrollbar-thumb:hover{background:var(--primary)}.loading{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:40px}.loading-spinner{width:32px;height:32px;border:3px solid var(--muted);border-top:3px solid var(--primary);border-radius:50%;animation:spin 1s linear infinite;margin-bottom:16px}@keyframes spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.empty-state{padding:60px 20px;text-align:center;background:var(--panel);border-radius:8px;border:1px solid var(--muted);margin:20px 0}.empty-icon{font-size:48px;margin-bottom:20px;opacity:.6}.empty-state h3{color:var(--text);margin:0 0 8px}.empty-state p{color:var(--muted);margin:0 0 24px;font-size:14px}.quick-create-form{display:flex;flex-direction:column;gap:12px;max-width:320px;margin:0 auto}.quick-create-form input,.quick-create-form textarea{padding:8px 12px;border:1px solid var(--muted);border-radius:4px;background:var(--bg);color:var(--text);font-size:14px}.quick-create-form input:focus,.quick-create-form textarea:focus{outline:none;border-color:var(--primary)}.import-help{margin-top:24px;padding-top:16px;border-top:1px solid var(--muted)}.import-help h5{margin:0 0 8px;color:var(--text)}.import-help ul{margin:0;padding-left:20px}.import-help li{margin-bottom:4px;color:var(--muted);font-size:14px}.import-help p:last-child{margin:12px 0 0;color:var(--muted);font-size:13px}.stats{color:var(--muted);font-size:12px;margin-left:auto}.chat-container{max-width:600px;width:100%;margin:0 auto;padding:1rem}@media (max-width: 600px){.chat-container{padding:.5rem}}.message-list{list-style:none;padding:0;margin:0 0 1rem;max-height:60vh;overflow-y:auto}form{display:flex;gap:.5rem}input[type=text]{flex:1;padding:.5rem}button{padding:.5rem 1rem}:root{--bg: #0f172a;--panel: #111827;--text: #e5e7eb;--muted: #94a3b8;--user: #2563eb;--assistant: #10b981;--error: #ef4444}*{box-sizing:border-box}html,body,#root{height:100%;margin:0}body{background:var(--bg);color:var(--text);font-family:system-ui,sans-serif}.app{display:flex;flex-direction:column;height:100%}.header{padding:12px 16px;background:var(--panel);border-bottom:1px solid #1f2937}.header h1{margin:0;font-size:18px}.header{display:flex;align-items:center;gap:8px}.header{position:fixed;top:0;left:0;right:0;z-index:1000}@media (max-width: 768px){.header{padding:8px 12px;position:relative}.header h1{font-size:16px;white-space:nowrap;flex-shrink:0}.spacer{flex:1}.header-buttons{display:none}.menu-toggle{display:block;background:none;border:none;color:var(--text);font-size:18px;cursor:pointer;padding:6px}.header.menu-open .header-buttons{display:flex;flex-direction:column;position:absolute;top:100%;left:0;right:0;background:var(--panel);border-bottom:1px solid #1f2937;padding:8px 0;z-index:900}.header.menu-open .header-buttons .secondary{width:100%;justify-content:center;padding:12px 16px;border:none;border-radius:0}.header.menu-open .header-buttons .secondary:last-child{border-bottom:none}}@media (min-width: 769px){.menu-toggle{display:none}.header-buttons{display:flex;gap:8px}}@media (max-width: 768px){.chat{max-width:100%;margin:0}.messages{padding:12px;font-size:14px}.bubble{max-width:85%;padding:8px 10px;font-size:14px}}@media (max-width: 768px){.phone-panel{width:95vw!important;height:95vh!important;top:55px!important;left:2.5vw!important}}.phone-panel .outer-overlay{position:absolute;top:0;left:0;right:0;bottom:0;z-index:1}.phone-panel .outer-overlay,.phone-panel .skin{z-index:2}@media (min-width: 769px){.phone-panel .outer-overlay{display:none}}@media (max-width: 1024px){.overlay{left:0;width:100%}.phone-panel{width:100vw}.app.phone-open .chat{margin-left:0;display:none}}@media (max-width: 768px){.input-row{padding:10px 12px}.input-row input{padding:8px 10px;font-size:14px}.input-row button{padding:8px 12px;font-size:14px}.input-tools{padding:6px 12px}.input-tools button{font-size:14px;padding:6px 8px}}@media (max-width: 768px){.config-form{grid-template-columns:1fr;gap:8px}.config-form input,.config-form select,.config-form textarea{font-size:14px}}@media (max-width: 600px){.char-grid{grid-template-columns:repeat(auto-fill,minmax(120px,1fr));gap:8px}}@media (pointer: coarse){button,input,select{min-height:44px}}.app{padding-top:48px}.spacer{flex:1}.secondary{background:#374151;color:#e5e7eb;border:none;padding:8px 10px;border-radius:8px;cursor:pointer;box-shadow:0 1px 4px #0000001a;transition:all .2s ease}.secondary:hover{filter:brightness(1.1);transform:translateY(-1px)}.chat{flex:1;display:flex;flex-direction:column;max-width:900px;margin:0 auto;width:100%}.messages{flex:1;padding:16px;display:flex;flex-direction:column;gap:10px}.message{display:flex}.message.user{justify-content:flex-end}.message.assistant{justify-content:flex-start}.message.error{justify-content:center}.bubble{max-width:70%;padding:10px 12px;border-radius:16px;background:#1f2937;box-shadow:0 2px 8px #0003}.message.user .bubble{background:var(--primary);color:#e0f2fe}.message.assistant .bubble{background:var(--assistant);color:#0b1220}.message.error .bubble{background:#450a0a;color:#fecaca}.input-row{display:flex;gap:8px;padding:12px 16px;border-top:1px solid #1f2937;background:var(--panel);position:sticky;bottom:0;z-index:450}.input-tools{display:flex;gap:8px;padding:8px 16px;border-top:1px solid #1f2937;background:#0b1220;position:sticky;bottom:56px;z-index:400}.modal{z-index:900}.input-row input{flex:1;padding:10px 12px;border-radius:8px;border:1px solid #374151;background:#0b1220;color:var(--text)}.input-row button{padding:10px 14px;border-radius:8px;background:#2563eb;color:#fff;border:none;cursor:pointer}.input-row button:disabled{opacity:.6;cursor:not-allowed}.panel{padding:12px 16px;border-bottom:1px solid #1f2937;background:#0b1220}.overlay{position:fixed;left:0;right:0;top:48px;z-index:800;max-height:calc(100vh - 96px);overflow:auto}.panel h2{margin:0 0 8px;font-size:16px}.muted{color:var(--muted);font-size:12px}.config-form{display:grid;grid-template-columns:repeat(2,minmax(200px,1fr));gap:12px;margin-top:8px}.config-form label{display:flex;flex-direction:column;gap:6px;font-size:13px}.config-form input,.config-form select,.characters input,.characters select,.characters textarea{padding:8px 10px;border-radius:8px;border:1px solid #374151;background:#0b1220;color:var(--text)}.row{display:flex;gap:8px;align-items:center}.hint{margin-top:8px}.characters{padding:12px 16px;display:grid;gap:12px}.char-list{display:grid;gap:8px}.char-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(160px,1fr));gap:12px}.char-card{position:relative;background:#0b1220;border:1px solid #1f2937;border-radius:10px;overflow:hidden;cursor:pointer}.char-card img{width:100%;height:200px;object-fit:cover;display:block}.char-card .row{display:flex;gap:8px}.char-card .name{position:absolute;left:8px;bottom:8px;background:rgba(0,0,0,.6);padding:4px 8px;border-radius:6px;font-weight:600;letter-spacing:.3px}.char-card .name{left:50%;bottom:50%;transform:translate(-50%,50%)}.char-card .cog{position:absolute;right:8px;top:8px;width:24px;height:24px;border-radius:50%;background:rgba(0,0,0,.6);display:flex;align-items:center;justify-content:center}.char-card .cog span{font-size:14px}.char-item{display:flex;align-items:center;justify-content:space-between;background:#0b1220;border:1px solid #1f2937;border-radius:8px;padding:8px 10px}.char-item h3{margin:0;font-size:14px}.char-actions{display:flex;gap:8px}.modal{position:fixed;top:0;right:0;bottom:0;left:0;background:rgba(0,0,0,.6);display:flex;align-items:center;justify-content:center}.modal .dialog{width:min(900px,95vw);max-height:90vh;overflow:auto;background:#0b1220;border:1px solid #1f2937;border-radius:10px;padding:16px}.editor-grid{display:grid;grid-template-columns:1fr auto;gap:8px 12px;align-items:start}.editor-grid label{display:contents}.editor-grid .label{color:var(--muted);font-size:12px;align-self:center}.editor-grid textarea,.editor-grid input{width:100%;padding:8px 10px;border-radius:8px;border:1px solid #374151;background:#0b1220;color:var(--text)}.think{padding:4px 8px;border-radius:6px;background:#374151;color:#e5e7eb;border:none;cursor:pointer}.paint{padding:4px 8px;border-radius:6px;background:#2563eb;color:#fff;border:none;cursor:pointer}.color-swatch{width:28px;height:28px;border-radius:6px;border:1px solid #374151;background:#222}.color-row input[type=color]{width:28px;height:28px;padding:0;border:none;background:transparent}.app.phone-open .chat{margin-left:30vw;transition:margin-left .2s ease}.phone-panel{position:fixed;top:64px;left:0;width:30vw;height:calc(100vh - 64px);background:transparent;z-index:10}.phone-panel:before{content:"";position:absolute;top:2px;left:2px;right:2px;bottom:2px;border:3px solid #000;border-radius:34px;pointer-events:none;z-index:2}.phone-panel .bar{padding:6px 8px;display:flex;gap:6px;align-items:center;border-bottom:1px solid #374151;background:rgba(0,0,0,.35)}.phone-panel .statusbar{height:18px;display:flex;align-items:center;justify-content:space-between;padding:0 8px;font-size:12px;background:rgba(0,0,0,.5);color:#ddd}.phone-panel .screen{position:absolute;top:8px;left:8px;right:8px;bottom:8px;border-radius:26px;overflow:hidden;background:#0b1220;display:flex;flex-direction:column}.phone-panel .screen iframe{width:100%;flex:1;border:none;background:#fff}.phone-panel{position:fixed;overflow:hidden}.phone-panel .skin{pointer-events:none;position:absolute;top:8px;left:8px;right:8px;bottom:8px}.phone-panel.classic .skin{border:14px solid #111;border-radius:32px;box-shadow:inset 0 0 0 2px #222}.phone-panel.classic .skin:before{content:"";position:absolute;top:6px;left:50%;transform:translate(-50%);width:120px;height:18px;border-radius:12px;background:#222}.phone-panel.modern .skin{border:12px solid #0d0d0d;border-radius:40px;box-shadow:inset 0 0 0 2px #1a1a1a}.phone-panel.modern .skin:after{content:"";position:absolute;top:10px;right:24px;width:10px;height:10px;border-radius:50%;background:#333}.phone-panel.iphone .skin{border:14px solid #0e0e0e;border-radius:42px;box-shadow:inset 0 0 0 1px #1f2937}.phone-panel.iphone .skin:before{content:"";position:absolute;top:6px;left:50%;transform:translate(-50%);width:140px;height:28px;border-radius:14px;background:#0e0e0e}.phone-panel.cyberpunk .skin{border:14px solid #0b0b0f;border-radius:36px;box-shadow:0 0 12px #0ff3,0 0 18px #ff00b433,inset 0 0 0 2px #141421}.phone-panel.cyberpunk .skin:before{content:"";position:absolute;top:12px;left:12px;right:12px;bottom:12px;border:2px dashed rgba(0,255,255,.2);border-radius:28px;box-shadow:0 0 18px #ff00b44d,inset 0 0 24px #00ffff1a}.phone-panel.cyberpunk .statusbar{background:linear-gradient(90deg,rgba(255,0,180,.15),rgba(0,255,255,.15));color:#e5e7eb;text-shadow:0 0 4px rgba(0,255,255,.6)}.phone-panel.cyberpunk .bar{background:rgba(10,10,20,.6)}.phone-panel.cyberpunk .screen{background:#03040a}.phone-panel.iphone .statusbar{display:grid;grid-template-columns:1fr 1fr 1fr;background:rgba(0,0,0,.6);color:#ddd}.phone-panel.iphone .statusbar span.time{text-align:center}.phone-panel.iphone .statusbar span.left{text-align:left}.phone-panel.iphone .statusbar span.right{text-align:right}.img-caption{margin-top:6px;font-size:12px;opacity:.85;font-style:italic}.bg-animations{position:fixed;top:0;right:0;bottom:0;left:0;z-index:0;pointer-events:none;overflow:hidden}.bg-animations>*{position:absolute;top:0;right:0;bottom:0;left:0}.anim-gradient_flow{background:linear-gradient(120deg,var(--bg),var(--panel),var(--assistant));background-size:200% 200%;animation:gradflow 20s ease infinite;opacity:.15}@keyframes gradflow{0%{background-position:0% 50%}50%{background-position:100% 50%}to{background-position:0% 50%}}.anim-floating_squares:before{content:"";position:absolute;width:200%;height:200%;background-image:radial-gradient(rgba(255,255,255,.06) 2px,transparent 2px);background-size:30px 30px;animation:floatsq 30s linear infinite}@keyframes floatsq{0%{transform:translate(-10%,-10%) rotate(0)}to{transform:translate(0) rotate(360deg)}}.anim-waves:before,.anim-waves:after{content:"";position:absolute;top:0;right:0;bottom:0;left:0;background:radial-gradient(circle at bottom,rgba(255,255,255,.06),transparent 60%);animation:wave 8s ease-in-out infinite;opacity:.2}.anim-waves:after{animation-delay:-4s}@keyframes wave{0%,to{transform:translateY(0)}50%{transform:translateY(10px)}}.anim-neon_rain:before{content:"";position:absolute;top:0;right:0;bottom:0;left:0;background:repeating-linear-gradient(to bottom,rgba(0,255,255,.12),rgba(0,255,255,.12) 2px,transparent 2px,transparent 6px);animation:rain 1.2s linear infinite}@keyframes rain{0%{background-position:0 -20px}to{background-position:0 0}}.anim-matrix:before{content:"";position:absolute;top:0;right:0;bottom:0;left:0;background:repeating-linear-gradient(to bottom,rgba(0,255,0,.08),rgba(0,255,0,.08) 2px,transparent 2px,transparent 10px);animation:matrix 1.4s linear infinite}@keyframes matrix{0%{background-position:0 -30px}to{background-position:0 0}}.characters,.panel{background:#0a0f1e}@keyframes breathing{0%{transform:scale(1)}50%{transform:scale(1.06)}to{transform:scale(1)}}.thinking{animation:breathing 1.2s ease-in-out infinite}a{color:var(--muted)}a:hover{text-decoration:underline}.spinner{display:inline-block;width:16px;height:16px;border:2px solid rgba(59,130,246,.1);border-radius:50%;border-top-color:var(--primary);animation:spin 1s ease-in-out infinite}@keyframes spin{to{transform:rotate(360deg)}}.loading-text{display:flex;align-items:center;gap:8px;opacity:.8}.message{animation:fadeIn .3s ease-in-out;opacity:0;animation-fill-mode:forwards}.message-animating-swipe{position:relative;animation:messageSwipeOut .5s ease-in-out;will-change:transform,opacity}.message-swipe-new{position:relative;animation:messageSwipeIn .8s cubic-bezier(.34,1.56,.64,1);will-change:transform,opacity}.message-flip{position:relative;animation:horizontalFlip 1s ease-in-out;will-change:transform,opacity}@keyframes fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.overlay{animation:slideIn .2s ease-out}@keyframes slideIn{0%{transform:translate(-100%)}to{transform:translate(0)}}.secondary:active{transform:scale(.98);transition:transform .1s ease}.secondary,button,input,select{transition:all .2s ease}.toast-container{position:fixed;top:64px;right:16px;z-index:1000;display:flex;flex-direction:column;gap:8px;max-width:320px}.toast{background:var(--bg);color:var(--text);padding:12px 16px;border-radius:8px;border-left:4px solid var(--primary);box-shadow:0 4px 12px #0000004d;opacity:0;animation:toastSlideIn .3s ease forwards;display:flex;justify-content:space-between;align-items:center}.toast-error{border-left-color:var(--error);background:#450a0a;color:#fecaca}.toast-success{border-left-color:var(--assistant)}.toast-info{border-left-color:var(--muted)}.toast-close{background:none;border:none;color:inherit;font-size:20px;cursor:pointer;margin-left:8px}@keyframes toastSlideIn{0%{transform:translate(100%);opacity:0}to{transform:translate(0);opacity:1}}.toast.fade-out{animation:toastFadeOut .3s forwards}@keyframes toastFadeOut{0%{opacity:1;transform:translate(0)}to{opacity:0;transform:translate(100%)}}.bubble{position:relative;transition:all .2s ease}.message-hovered{background:rgba(255,255,255,.02);border-radius:8px}.message-controls{position:absolute;right:-50px;top:50%;transform:translateY(-50%);display:flex;flex-direction:column;gap:4px;opacity:0;animation:controlsFadeIn .2s ease forwards;z-index:10}@keyframes controlsFadeIn{0%{opacity:0;transform:translateY(-50%) translate(10px)}to{opacity:1;transform:translateY(-50%) translate(0)}}.message-btn{background:var(--panel);color:var(--text);border:1px solid #374151;border-radius:6px;padding:4px 8px;cursor:pointer;font-size:12px;box-shadow:0 2px 8px #0003;transition:all .15s ease;display:inline-flex;align-items:center;justify-content:center;min-width:28px;min-height:28px}.message-btn:hover{background:var(--primary);border-color:var(--primary);transform:scale(1.05);box-shadow:0 4px 12px #0000004d}.message-btn:active{transform:scale(.95)}.swipe-btn:hover{background:#3b82f6;color:#fff}.edit-btn:hover{background:var(--muted)}.delete-btn:hover{background:#ef4444;color:#fff}.message-editing{background:rgba(255,255,255,.05);border-left:3px solid var(--primary)}.message-edit-container{width:100%}.message-edit-input{background:var(--panel);border:1px solid #374151;color:var(--text);font-family:inherit;font-size:14px;resize:none;outline:none;transition:border-color .2s ease}.message-edit-input:focus{border-color:var(--primary);box-shadow:0 0 0 3px #2563eb1a}.message-edit-buttons{display:flex;gap:8px;margin-top:8px}.message-edit-save{background:var(--assistant);color:#0b1220;border:none;padding:4px 10px;border-radius:4px;cursor:pointer;font-size:12px;font-weight:500}.message-edit-save:hover{background:#059669}.message-edit-cancel{background:var(--muted);color:var(--bg);border:none;padding:4px 10px;border-radius:4px;cursor:pointer;font-size:12px}.message-edit-cancel:hover{background:#6b7280}.message.user .message-controls{right:auto;left:-50px}.message.user .message-edit-buttons{justify-content:flex-start}@keyframes slideIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}@keyframes messageSwipeOut{0%{opacity:1;transform:translate(0) scale(1)}50%{opacity:.8;transform:translate(-20px) scale(.95)}to{opacity:0;transform:translate(-100vw) scale(.8)}}@keyframes messageSwipeIn{0%{opacity:0;transform:translate(100vw) scale(.8) rotate(2deg)}50%{opacity:.8;transform:translate(20px) scale(.95) rotate(-1deg)}70%{opacity:1;transform:translate(-5px) scale(1.02) rotate(.5deg)}85%{opacity:1;transform:translate(2px) scale(.98) rotate(-.2deg)}to{opacity:1;transform:translate(0) scale(1) rotate(0)}}@keyframes quickSwipe{0%{transform:translate(0) scale(1)}25%{transform:translate(-10px) scale(.95)}50%{transform:translate(15px) scale(1.02)}75%{transform:translate(-5px) scale(.98)}to{transform:translate(0) scale(1)}}@keyframes horizontalFlip{0%{transform:perspective(500px) rotateY(0);opacity:1}50%{transform:perspective(500px) rotateY(90deg);opacity:.3}to{transform:perspective(500px) rotateY(0);opacity:1}}.swipe-navigation{position:absolute;bottom:8px;left:8px;right:8px;display:flex;align-items:center;justify-content:space-between;padding:6px 12px;background:rgba(0,0,0,.2);border-radius:6px;backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);opacity:0;pointer-events:none;z-index:10;transition:opacity .3s ease,transform .3s ease;transform:translateY(10px)}.bubble.has-swipes:hover .swipe-navigation{opacity:1;pointer-events:auto;transform:translateY(0);transition-delay:.3s}.bubble:hover .swipe-navigation{opacity:1}.bubble.has-swipe-nav{padding-bottom:50px}.bubble-content{position:relative;z-index:1}.swipe-count{font-size:10px;color:var(--muted);font-weight:500;background:var(--panel);padding:2px 6px;border-radius:4px;min-width:24px;text-align:center}.swipe-nav-btn{background:none;border:none;color:var(--text);font-size:14px;cursor:pointer;padding:4px;border-radius:4px;display:flex;align-items:center;justify-content:center;transition:all .15s ease;min-width:24px;min-height:24px}.swipe-nav-btn:hover:not(:disabled){background:var(--primary);transform:scale(1.1)}.swipe-nav-btn:disabled{opacity:.3;cursor:not-allowed}.swipe-nav-btn:active:not(:disabled){transform:scale(.9)}
